(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Js(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ng={exports:{}},Zs={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Rh=Object.getOwnPropertySymbols,h0=Object.prototype.hasOwnProperty,p0=Object.prototype.propertyIsEnumerable;function m0(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function g0(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var rg=g0()?Object.assign:function(t,e){for(var n,r=m0(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)h0.call(n,o)&&(r[o]=n[o]);if(Rh){i=Rh(n);for(var l=0;l<i.length;l++)p0.call(n,i[l])&&(r[i[l]]=n[i[l]])}}return r},ig={exports:{}},me={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nd=rg,yi=60103,sg=60106;me.Fragment=60107;me.StrictMode=60108;me.Profiler=60114;var og=60109,ag=60110,ug=60112;me.Suspense=60113;var lg=60115,cg=60116;if(typeof Symbol=="function"&&Symbol.for){var xt=Symbol.for;yi=xt("react.element"),sg=xt("react.portal"),me.Fragment=xt("react.fragment"),me.StrictMode=xt("react.strict_mode"),me.Profiler=xt("react.profiler"),og=xt("react.provider"),ag=xt("react.context"),ug=xt("react.forward_ref"),me.Suspense=xt("react.suspense"),lg=xt("react.memo"),cg=xt("react.lazy")}var Dh=typeof Symbol=="function"&&Symbol.iterator;function _0(t){return t===null||typeof t!="object"?null:(t=Dh&&t[Dh]||t["@@iterator"],typeof t=="function"?t:null)}function eo(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fg={};function wi(t,e,n){this.props=t,this.context=e,this.refs=fg,this.updater=n||dg}wi.prototype.isReactComponent={};wi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(eo(85));this.updater.enqueueSetState(this,t,e,"setState")};wi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hg(){}hg.prototype=wi.prototype;function rd(t,e,n){this.props=t,this.context=e,this.refs=fg,this.updater=n||dg}var id=rd.prototype=new hg;id.constructor=rd;nd(id,wi.prototype);id.isPureReactComponent=!0;var sd={current:null},pg=Object.prototype.hasOwnProperty,mg={key:!0,ref:!0,__self:!0,__source:!0};function gg(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)pg.call(e,r)&&!mg.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:yi,type:t,key:s,ref:o,props:i,_owner:sd.current}}function v0(t,e){return{$$typeof:yi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function od(t){return typeof t=="object"&&t!==null&&t.$$typeof===yi}function y0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Nh=/\/+/g;function ul(t,e){return typeof t=="object"&&t!==null&&t.key!=null?y0(""+t.key):e.toString(36)}function Jo(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case yi:case sg:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ul(o,0):r,Array.isArray(i)?(n="",t!=null&&(n=t.replace(Nh,"$&/")+"/"),Jo(i,e,n,"",function(f){return f})):i!=null&&(od(i)&&(i=v0(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Nh,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+ul(s,l);o+=Jo(s,e,n,c,i)}else if(c=_0(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+ul(s,l++),o+=Jo(s,e,n,c,i);else if(s==="object")throw e=""+t,Error(eo(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function No(t,e,n){if(t==null)return t;var r=[],i=0;return Jo(t,r,"","",function(s){return e.call(n,s,i++)}),r}function w0(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}if(t._status===1)return t._result;throw t._result}var _g={current:null};function vn(){var t=_g.current;if(t===null)throw Error(eo(321));return t}var E0={ReactCurrentDispatcher:_g,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:sd,IsSomeRendererActing:{current:!1},assign:nd};me.Children={map:No,forEach:function(t,e,n){No(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return No(t,function(){e++}),e},toArray:function(t){return No(t,function(e){return e})||[]},only:function(t){if(!od(t))throw Error(eo(143));return t}};me.Component=wi;me.PureComponent=rd;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E0;me.cloneElement=function(t,e,n){if(t==null)throw Error(eo(267,t));var r=nd({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=sd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)pg.call(e,c)&&!mg.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];r.children=l}return{$$typeof:yi,type:t.type,key:i,ref:s,props:r,_owner:o}};me.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:ag,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:og,_context:t},t.Consumer=t};me.createElement=gg;me.createFactory=function(t){var e=gg.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:ug,render:t}};me.isValidElement=od;me.lazy=function(t){return{$$typeof:cg,_payload:{_status:-1,_result:t},_init:w0}};me.memo=function(t,e){return{$$typeof:lg,type:t,compare:e===void 0?null:e}};me.useCallback=function(t,e){return vn().useCallback(t,e)};me.useContext=function(t,e){return vn().useContext(t,e)};me.useDebugValue=function(){};me.useEffect=function(t,e){return vn().useEffect(t,e)};me.useImperativeHandle=function(t,e,n){return vn().useImperativeHandle(t,e,n)};me.useLayoutEffect=function(t,e){return vn().useLayoutEffect(t,e)};me.useMemo=function(t,e){return vn().useMemo(t,e)};me.useReducer=function(t,e,n){return vn().useReducer(t,e,n)};me.useRef=function(t){return vn().useRef(t)};me.useState=function(t){return vn().useState(t)};me.version="17.0.2";ig.exports=me;var Vt=ig.exports;const Wt=Js(Vt);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0=Vt,vg=60103;Zs.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var Vh=Symbol.for;vg=Vh("react.element"),Zs.Fragment=Vh("react.fragment")}var S0=T0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,k0=Object.prototype.hasOwnProperty,C0={key:!0,ref:!0,__self:!0,__source:!0};function yg(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)k0.call(e,r)&&!C0.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:vg,type:t,key:s,ref:o,props:i,_owner:S0.current}}Zs.jsx=yg;Zs.jsxs=yg;ng.exports=Zs;var je=ng.exports,wg={exports:{}},Mt={},Eg={exports:{}},Tg={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}if(typeof window>"u"||typeof MessageChannel!="function"){var c=null,f=null,w=function(){if(c!==null)try{var x=t.unstable_now();c(!0,x),c=null}catch(Q){throw setTimeout(w,0),Q}};e=function(x){c!==null?setTimeout(e,0,x):(c=x,setTimeout(w,0))},n=function(x,Q){f=setTimeout(x,Q)},r=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var A=window.setTimeout,I=window.clearTimeout;if(typeof console<"u"){var V=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof V!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var M=!1,D=null,C=-1,S=5,P=0;t.unstable_shouldYield=function(){return t.unstable_now()>=P},i=function(){},t.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<x?Math.floor(1e3/x):5};var N=new MessageChannel,u=N.port2;N.port1.onmessage=function(){if(D!==null){var x=t.unstable_now();P=x+S;try{D(!0,x)?u.postMessage(null):(M=!1,D=null)}catch(Q){throw u.postMessage(null),Q}}else M=!1},e=function(x){D=x,M||(M=!0,u.postMessage(null))},n=function(x,Q){C=A(function(){x(t.unstable_now())},Q)},r=function(){I(C),C=-1}}function p(x,Q){var Y=x.length;x.push(Q);e:for(;;){var ue=Y-1>>>1,oe=x[ue];if(oe!==void 0&&0<g(oe,Q))x[ue]=Q,x[Y]=oe,Y=ue;else break e}}function h(x){return x=x[0],x===void 0?null:x}function m(x){var Q=x[0];if(Q!==void 0){var Y=x.pop();if(Y!==Q){x[0]=Y;e:for(var ue=0,oe=x.length;ue<oe;){var ye=2*(ue+1)-1,ve=x[ye],q=ye+1,U=x[q];if(ve!==void 0&&0>g(ve,Y))U!==void 0&&0>g(U,ve)?(x[ue]=U,x[q]=Y,ue=q):(x[ue]=ve,x[ye]=Y,ue=ye);else if(U!==void 0&&0>g(U,Y))x[ue]=U,x[q]=Y,ue=q;else break e}}return Q}return null}function g(x,Q){var Y=x.sortIndex-Q.sortIndex;return Y!==0?Y:x.id-Q.id}var v=[],y=[],E=1,b=null,T=3,z=!1,F=!1,R=!1;function j(x){for(var Q=h(y);Q!==null;){if(Q.callback===null)m(y);else if(Q.startTime<=x)m(y),Q.sortIndex=Q.expirationTime,p(v,Q);else break;Q=h(y)}}function K(x){if(R=!1,j(x),!F)if(h(v)!==null)F=!0,e(X);else{var Q=h(y);Q!==null&&n(K,Q.startTime-x)}}function X(x,Q){F=!1,R&&(R=!1,r()),z=!0;var Y=T;try{for(j(Q),b=h(v);b!==null&&(!(b.expirationTime>Q)||x&&!t.unstable_shouldYield());){var ue=b.callback;if(typeof ue=="function"){b.callback=null,T=b.priorityLevel;var oe=ue(b.expirationTime<=Q);Q=t.unstable_now(),typeof oe=="function"?b.callback=oe:b===h(v)&&m(v),j(Q)}else m(v);b=h(v)}if(b!==null)var ye=!0;else{var ve=h(y);ve!==null&&n(K,ve.startTime-Q),ye=!1}return ye}finally{b=null,T=Y,z=!1}}var ce=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(x){x.callback=null},t.unstable_continueExecution=function(){F||z||(F=!0,e(X))},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return h(v)},t.unstable_next=function(x){switch(T){case 1:case 2:case 3:var Q=3;break;default:Q=T}var Y=T;T=Q;try{return x()}finally{T=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=ce,t.unstable_runWithPriority=function(x,Q){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var Y=T;T=x;try{return Q()}finally{T=Y}},t.unstable_scheduleCallback=function(x,Q,Y){var ue=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ue+Y:ue):Y=ue,x){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=Y+oe,x={id:E++,callback:Q,priorityLevel:x,startTime:Y,expirationTime:oe,sortIndex:-1},Y>ue?(x.sortIndex=Y,p(y,x),h(v)===null&&x===h(y)&&(R?r():R=!0,n(K,Y-ue))):(x.sortIndex=oe,p(v,x),F||z||(F=!0,e(X))),x},t.unstable_wrapCallback=function(x){var Q=T;return function(){var Y=T;T=Q;try{return x.apply(this,arguments)}finally{T=Y}}}})(Tg);Eg.exports=Tg;var A0=Eg.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xa=Vt,be=rg,We=A0;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Xa)throw Error(H(227));var Sg=new Set,bs={};function wr(t,e){oi(t,e),oi(t+"Capture",e)}function oi(t,e){for(bs[t]=e,t=0;t<e.length;t++)Sg.add(e[t])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),I0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mh=Object.prototype.hasOwnProperty,Oh={},Lh={};function P0(t){return Mh.call(Lh,t)?!0:Mh.call(Oh,t)?!1:I0.test(t)?Lh[t]=!0:(Oh[t]=!0,!1)}function b0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function R0(t,e,n,r){if(e===null||typeof e>"u"||b0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ze[t]=new mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ze[e]=new mt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ze[t]=new mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ze[t]=new mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ze[t]=new mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ze[t]=new mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ze[t]=new mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ze[t]=new mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ze[t]=new mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var ad=/[\-:]([a-z])/g;function ud(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ad,ud);Ze[e]=new mt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ad,ud);Ze[e]=new mt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ad,ud);Ze[e]=new mt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ze[t]=new mt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ze[t]=new mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ld(t,e,n,r){var i=Ze.hasOwnProperty(e)?Ze[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(R0(e,n,i,r)&&(n=null),r||i===null?P0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Er=Xa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,is=60103,ar=60106,kn=60107,cd=60108,hs=60114,dd=60109,fd=60110,Ja=60112,ps=60113,ma=60120,Za=60115,hd=60116,pd=60121,md=60128,kg=60129,gd=60130,Kl=60131;if(typeof Symbol=="function"&&Symbol.for){var $e=Symbol.for;is=$e("react.element"),ar=$e("react.portal"),kn=$e("react.fragment"),cd=$e("react.strict_mode"),hs=$e("react.profiler"),dd=$e("react.provider"),fd=$e("react.context"),Ja=$e("react.forward_ref"),ps=$e("react.suspense"),ma=$e("react.suspense_list"),Za=$e("react.memo"),hd=$e("react.lazy"),pd=$e("react.block"),$e("react.scope"),md=$e("react.opaque.id"),kg=$e("react.debug_trace_mode"),gd=$e("react.offscreen"),Kl=$e("react.legacy_hidden")}var xh=typeof Symbol=="function"&&Symbol.iterator;function Hi(t){return t===null||typeof t!="object"?null:(t=xh&&t[xh]||t["@@iterator"],typeof t=="function"?t:null)}var ll;function ss(t){if(ll===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ll=e&&e[1]||""}return`
`+ll+t}var cl=!1;function Vo(t,e){if(!t||cl)return"";cl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=l);break}}}finally{cl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ss(t):""}function D0(t){switch(t.tag){case 5:return ss(t.type);case 16:return ss("Lazy");case 13:return ss("Suspense");case 19:return ss("SuspenseList");case 0:case 2:case 15:return t=Vo(t.type,!1),t;case 11:return t=Vo(t.type.render,!1),t;case 22:return t=Vo(t.type._render,!1),t;case 1:return t=Vo(t.type,!0),t;default:return""}}function Kr(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case kn:return"Fragment";case ar:return"Portal";case hs:return"Profiler";case cd:return"StrictMode";case ps:return"Suspense";case ma:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case fd:return(t.displayName||"Context")+".Consumer";case dd:return(t._context.displayName||"Context")+".Provider";case Ja:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Za:return Kr(t.type);case pd:return Kr(t._render);case hd:e=t._payload,t=t._init;try{return Kr(t(e))}catch{}}return null}function Bn(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Cg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function N0(t){var e=Cg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Mo(t){t._valueTracker||(t._valueTracker=N0(t))}function Ag(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Cg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ga(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ql(t,e){var n=e.checked;return be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zh(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Bn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ig(t,e){e=e.checked,e!=null&&ld(t,"checked",e,!1)}function Yl(t,e){Ig(t,e);var n=Bn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Xl(t,e.type,n):e.hasOwnProperty("defaultValue")&&Xl(t,e.type,Bn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function jh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Xl(t,e,n){(e!=="number"||ga(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function V0(t){var e="";return Xa.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function Jl(t,e){return t=be({children:void 0},e),(e=V0(e.children))&&(t.children=e),t}function Qr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Bn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Zl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Bn(n)}}function Pg(t,e){var n=Bn(e.value),r=Bn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Bh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var ec={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function bg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Oo,Rg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!==ec.svg||"innerHTML"in t)t.innerHTML=e;else{for(Oo=Oo||document.createElement("div"),Oo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Oo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Rs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ms={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M0=["Webkit","ms","Moz","O"];Object.keys(ms).forEach(function(t){M0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ms[e]=ms[t]})});function Dg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ms.hasOwnProperty(t)&&ms[t]?(""+e).trim():e+"px"}function Ng(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Dg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var O0=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nc(t,e){if(e){if(O0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function rc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function _d(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ic=null,Yr=null,Xr=null;function Uh(t){if(t=no(t)){if(typeof ic!="function")throw Error(H(280));var e=t.stateNode;e&&(e=su(e),ic(t.stateNode,t.type,e))}}function Vg(t){Yr?Xr?Xr.push(t):Xr=[t]:Yr=t}function Mg(){if(Yr){var t=Yr,e=Xr;if(Xr=Yr=null,Uh(t),e)for(t=0;t<e.length;t++)Uh(e[t])}}function vd(t,e){return t(e)}function Og(t,e,n,r,i){return t(e,n,r,i)}function yd(){}var Lg=vd,ur=!1,dl=!1;function wd(){(Yr!==null||Xr!==null)&&(yd(),Mg())}function L0(t,e,n){if(dl)return t(e,n);dl=!0;try{return Lg(t,e,n)}finally{dl=!1,wd()}}function Ds(t,e){var n=t.stateNode;if(n===null)return null;var r=su(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var sc=!1;if(pn)try{var qi={};Object.defineProperty(qi,"passive",{get:function(){sc=!0}}),window.addEventListener("test",qi,qi),window.removeEventListener("test",qi,qi)}catch{sc=!1}function x0(t,e,n,r,i,s,o,l,c){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(w){this.onError(w)}}var gs=!1,_a=null,va=!1,oc=null,z0={onError:function(t){gs=!0,_a=t}};function j0(t,e,n,r,i,s,o,l,c){gs=!1,_a=null,x0.apply(z0,arguments)}function F0(t,e,n,r,i,s,o,l,c){if(j0.apply(this,arguments),gs){if(gs){var f=_a;gs=!1,_a=null}else throw Error(H(198));va||(va=!0,oc=f)}}function Tr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $h(t){if(Tr(t)!==t)throw Error(H(188))}function B0(t){var e=t.alternate;if(!e){if(e=Tr(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return $h(i),t;if(s===r)return $h(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function zg(t){if(t=B0(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Hh(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var jg,Ed,Fg,Bg,ac=!1,Gt=[],bn=null,Rn=null,Dn=null,Ns=new Map,Vs=new Map,Wi=[],qh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uc(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function Wh(t,e){switch(t){case"focusin":case"focusout":bn=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":Ns.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vs.delete(e.pointerId)}}function Gi(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t=uc(e,n,r,i,s),e!==null&&(e=no(e),e!==null&&Ed(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function U0(t,e,n,r,i){switch(e){case"focusin":return bn=Gi(bn,t,e,n,r,i),!0;case"dragenter":return Rn=Gi(Rn,t,e,n,r,i),!0;case"mouseover":return Dn=Gi(Dn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ns.set(s,Gi(Ns.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Vs.set(s,Gi(Vs.get(s)||null,t,e,n,r,i)),!0}return!1}function $0(t){var e=lr(t.target);if(e!==null){var n=Tr(e);if(n!==null){if(e=n.tag,e===13){if(e=xg(n),e!==null){t.blockedOn=e,Bg(t.lanePriority,function(){We.unstable_runWithPriority(t.priority,function(){Fg(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=no(n),e!==null&&Ed(e),t.blockedOn=n,!1;e.shift()}return!0}function Gh(t,e,n){Zo(t)&&n.delete(e)}function H0(){for(ac=!1;0<Gt.length;){var t=Gt[0];if(t.blockedOn!==null){t=no(t.blockedOn),t!==null&&jg(t);break}for(var e=t.targetContainers;0<e.length;){var n=Cd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&Gt.shift()}bn!==null&&Zo(bn)&&(bn=null),Rn!==null&&Zo(Rn)&&(Rn=null),Dn!==null&&Zo(Dn)&&(Dn=null),Ns.forEach(Gh),Vs.forEach(Gh)}function Ki(t,e){t.blockedOn===e&&(t.blockedOn=null,ac||(ac=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,H0)))}function Ug(t){function e(i){return Ki(i,t)}if(0<Gt.length){Ki(Gt[0],t);for(var n=1;n<Gt.length;n++){var r=Gt[n];r.blockedOn===t&&(r.blockedOn=null)}}for(bn!==null&&Ki(bn,t),Rn!==null&&Ki(Rn,t),Dn!==null&&Ki(Dn,t),Ns.forEach(e),Vs.forEach(e),n=0;n<Wi.length;n++)r=Wi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Wi.length&&(n=Wi[0],n.blockedOn===null);)$0(n),n.blockedOn===null&&Wi.shift()}function Lo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fr={animationend:Lo("Animation","AnimationEnd"),animationiteration:Lo("Animation","AnimationIteration"),animationstart:Lo("Animation","AnimationStart"),transitionend:Lo("Transition","TransitionEnd")},fl={},$g={};pn&&($g=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function eu(t){if(fl[t])return fl[t];if(!Fr[t])return t;var e=Fr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $g)return fl[t]=e[n];return t}var Hg=eu("animationend"),qg=eu("animationiteration"),Wg=eu("animationstart"),Gg=eu("transitionend"),Kg=new Map,Td=new Map,q0=["abort","abort",Hg,"animationEnd",qg,"animationIteration",Wg,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Gg,"transitionEnd","waiting","waiting"];function Sd(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Td.set(r,e),Kg.set(r,i),wr(i,[r])}}var W0=We.unstable_now;W0();var Se=8;function Mr(t){if(1&t)return Se=15,1;if(2&t)return Se=14,2;if(4&t)return Se=13,4;var e=24&t;return e!==0?(Se=12,e):t&32?(Se=11,32):(e=192&t,e!==0?(Se=10,e):t&256?(Se=9,256):(e=3584&t,e!==0?(Se=8,e):t&4096?(Se=7,4096):(e=4186112&t,e!==0?(Se=6,e):(e=62914560&t,e!==0?(Se=5,e):t&67108864?(Se=4,67108864):t&134217728?(Se=3,134217728):(e=805306368&t,e!==0?(Se=2,e):1073741824&t?(Se=1,1073741824):(Se=8,t))))))}function G0(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function K0(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(H(358,t))}}function Ms(t,e){var n=t.pendingLanes;if(n===0)return Se=0;var r=0,i=0,s=t.expiredLanes,o=t.suspendedLanes,l=t.pingedLanes;if(s!==0)r=s,i=Se=15;else if(s=n&134217727,s!==0){var c=s&~o;c!==0?(r=Mr(c),i=Se):(l&=s,l!==0&&(r=Mr(l),i=Se))}else s=n&~o,s!==0?(r=Mr(s),i=Se):l!==0&&(r=Mr(l),i=Se);if(r===0)return 0;if(r=31-Un(r),r=n&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&!(e&o)){if(Mr(e),i<=Se)return e;Se=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Un(e),i=1<<n,r|=t[n],e&=~i;return r}function Qg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ya(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=Or(24&~e),t===0?ya(10,e):t;case 10:return t=Or(192&~e),t===0?ya(8,e):t;case 8:return t=Or(3584&~e),t===0&&(t=Or(4186112&~e),t===0&&(t=512)),t;case 2:return e=Or(805306368&~e),e===0&&(e=268435456),e}throw Error(H(358,t))}function Or(t){return t&-t}function hl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function tu(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,t=t.eventTimes,e=31-Un(e),t[e]=n}var Un=Math.clz32?Math.clz32:X0,Q0=Math.log,Y0=Math.LN2;function X0(t){return t===0?32:31-(Q0(t)/Y0|0)|0}var J0=We.unstable_UserBlockingPriority,Z0=We.unstable_runWithPriority,ea=!0;function e1(t,e,n,r){ur||yd();var i=kd,s=ur;ur=!0;try{Og(i,t,e,n,r)}finally{(ur=s)||wd()}}function t1(t,e,n,r){Z0(J0,kd.bind(null,t,e,n,r))}function kd(t,e,n,r){if(ea){var i;if((i=(e&4)===0)&&0<Gt.length&&-1<qh.indexOf(t))t=uc(null,t,e,n,r),Gt.push(t);else{var s=Cd(t,e,n,r);if(s===null)i&&Wh(t,r);else{if(i){if(-1<qh.indexOf(t)){t=uc(s,t,e,n,r),Gt.push(t);return}if(U0(s,t,e,n,r))return;Wh(t,r)}a_(t,e,r,null,n)}}}}function Cd(t,e,n,r){var i=_d(r);if(i=lr(i),i!==null){var s=Tr(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=xg(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return a_(t,e,r,i,n),null}var Cn=null,Ad=null,ta=null;function Yg(){if(ta)return ta;var t,e=Ad,n=e.length,r,i="value"in Cn?Cn.value:Cn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ta=i.slice(t,1<r?1-r:void 0)}function na(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xo(){return!0}function Kh(){return!1}function Ct(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xo:Kh,this.isPropagationStopped=Kh,this}return be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xo)},persist:function(){},isPersistent:xo}),e}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Id=Ct(Ei),to=be({},Ei,{view:0,detail:0}),n1=Ct(to),pl,ml,Qi,nu=be({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qi&&(Qi&&t.type==="mousemove"?(pl=t.screenX-Qi.screenX,ml=t.screenY-Qi.screenY):ml=pl=0,Qi=t),pl)},movementY:function(t){return"movementY"in t?t.movementY:ml}}),Qh=Ct(nu),r1=be({},nu,{dataTransfer:0}),i1=Ct(r1),s1=be({},to,{relatedTarget:0}),gl=Ct(s1),o1=be({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),a1=Ct(o1),u1=be({},Ei,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),l1=Ct(u1),c1=be({},Ei,{data:0}),Yh=Ct(c1),d1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=h1[t])?!!e[t]:!1}function Pd(){return p1}var m1=be({},to,{key:function(t){if(t.key){var e=d1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=na(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?f1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pd,charCode:function(t){return t.type==="keypress"?na(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?na(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),g1=Ct(m1),_1=be({},nu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xh=Ct(_1),v1=be({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pd}),y1=Ct(v1),w1=be({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),E1=Ct(w1),T1=be({},nu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),S1=Ct(T1),k1=[9,13,27,32],bd=pn&&"CompositionEvent"in window,_s=null;pn&&"documentMode"in document&&(_s=document.documentMode);var C1=pn&&"TextEvent"in window&&!_s,Xg=pn&&(!bd||_s&&8<_s&&11>=_s),Jh=" ",Zh=!1;function Jg(t,e){switch(t){case"keyup":return k1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Br=!1;function A1(t,e){switch(t){case"compositionend":return Zg(e);case"keypress":return e.which!==32?null:(Zh=!0,Jh);case"textInput":return t=e.data,t===Jh&&Zh?null:t;default:return null}}function I1(t,e){if(Br)return t==="compositionend"||!bd&&Jg(t,e)?(t=Yg(),ta=Ad=Cn=null,Br=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Xg&&e.locale!=="ko"?null:e.data;default:return null}}var P1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ep(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!P1[t.type]:e==="textarea"}function e_(t,e,n,r){Vg(r),e=wa(e,"onChange"),0<e.length&&(n=new Id("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vs=null,Os=null;function b1(t){i_(t,0)}function ru(t){var e=$r(t);if(Ag(e))return t}function R1(t,e){if(t==="change")return e}var t_=!1;if(pn){var _l;if(pn){var vl="oninput"in document;if(!vl){var tp=document.createElement("div");tp.setAttribute("oninput","return;"),vl=typeof tp.oninput=="function"}_l=vl}else _l=!1;t_=_l&&(!document.documentMode||9<document.documentMode)}function np(){vs&&(vs.detachEvent("onpropertychange",n_),Os=vs=null)}function n_(t){if(t.propertyName==="value"&&ru(Os)){var e=[];if(e_(e,Os,t,_d(t)),t=b1,ur)t(e);else{ur=!0;try{vd(t,e)}finally{ur=!1,wd()}}}}function D1(t,e,n){t==="focusin"?(np(),vs=e,Os=n,vs.attachEvent("onpropertychange",n_)):t==="focusout"&&np()}function N1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ru(Os)}function V1(t,e){if(t==="click")return ru(e)}function M1(t,e){if(t==="input"||t==="change")return ru(e)}function O1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var It=typeof Object.is=="function"?Object.is:O1,L1=Object.prototype.hasOwnProperty;function Ls(t,e){if(It(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!L1.call(e,n[r])||!It(t[n[r]],e[n[r]]))return!1;return!0}function rp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ip(t,e){var n=rp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rp(n)}}function r_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?r_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sp(){for(var t=window,e=ga();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ga(t.document)}return e}function lc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var x1=pn&&"documentMode"in document&&11>=document.documentMode,Ur=null,cc=null,ys=null,dc=!1;function op(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dc||Ur==null||Ur!==ga(r)||(r=Ur,"selectionStart"in r&&lc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ys&&Ls(ys,r)||(ys=r,r=wa(cc,"onSelect"),0<r.length&&(e=new Id("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ur)))}Sd("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Sd("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Sd(q0,2);for(var ap="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),yl=0;yl<ap.length;yl++)Td.set(ap[yl],0);oi("onMouseEnter",["mouseout","mouseover"]);oi("onMouseLeave",["mouseout","mouseover"]);oi("onPointerEnter",["pointerout","pointerover"]);oi("onPointerLeave",["pointerout","pointerover"]);wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z1=new Set("cancel close invalid load scroll toggle".split(" ").concat(os));function up(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,F0(r,e,void 0,t),t.currentTarget=null}function i_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,f=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;up(i,l,f),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,f=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;up(i,l,f),s=c}}}if(va)throw t=oc,va=!1,oc=null,t}function Ae(t,e){var n=l_(e),r=t+"__bubble";n.has(r)||(o_(e,t,2,!1),n.add(r))}var lp="_reactListening"+Math.random().toString(36).slice(2);function s_(t){t[lp]||(t[lp]=!0,Sg.forEach(function(e){z1.has(e)||cp(e,!1,t,null),cp(e,!0,t,null)}))}function cp(t,e,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;t==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument);var o=l_(s),l=t+"__"+(e?"capture":"bubble");o.has(l)||(e&&(i|=4),o_(s,t,i,e),o.add(l))}function o_(t,e,n,r){var i=Td.get(e);switch(i===void 0?2:i){case 0:i=e1;break;case 1:i=t1;break;default:i=kd}n=i.bind(null,e,n,t),i=void 0,!sc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function a_(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=lr(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}L0(function(){var f=s,w=_d(n),A=[];e:{var I=Kg.get(t);if(I!==void 0){var V=Id,M=t;switch(t){case"keypress":if(na(n)===0)break e;case"keydown":case"keyup":V=g1;break;case"focusin":M="focus",V=gl;break;case"focusout":M="blur",V=gl;break;case"beforeblur":case"afterblur":V=gl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Qh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=i1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=y1;break;case Hg:case qg:case Wg:V=a1;break;case Gg:V=E1;break;case"scroll":V=n1;break;case"wheel":V=S1;break;case"copy":case"cut":case"paste":V=l1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Xh}var D=(e&4)!==0,C=!D&&t==="scroll",S=D?I!==null?I+"Capture":null:I;D=[];for(var P=f,N;P!==null;){N=P;var u=N.stateNode;if(N.tag===5&&u!==null&&(N=u,S!==null&&(u=Ds(P,S),u!=null&&D.push(xs(P,u,N)))),C)break;P=P.return}0<D.length&&(I=new V(I,M,null,n,w),A.push({event:I,listeners:D}))}}if(!(e&7)){e:{if(I=t==="mouseover"||t==="pointerover",V=t==="mouseout"||t==="pointerout",I&&!(e&16)&&(M=n.relatedTarget||n.fromElement)&&(lr(M)||M[Ti]))break e;if((V||I)&&(I=w.window===w?w:(I=w.ownerDocument)?I.defaultView||I.parentWindow:window,V?(M=n.relatedTarget||n.toElement,V=f,M=M?lr(M):null,M!==null&&(C=Tr(M),M!==C||M.tag!==5&&M.tag!==6)&&(M=null)):(V=null,M=f),V!==M)){if(D=Qh,u="onMouseLeave",S="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(D=Xh,u="onPointerLeave",S="onPointerEnter",P="pointer"),C=V==null?I:$r(V),N=M==null?I:$r(M),I=new D(u,P+"leave",V,n,w),I.target=C,I.relatedTarget=N,u=null,lr(w)===f&&(D=new D(S,P+"enter",M,n,w),D.target=N,D.relatedTarget=C,u=D),C=u,V&&M)t:{for(D=V,S=M,P=0,N=D;N;N=Vr(N))P++;for(N=0,u=S;u;u=Vr(u))N++;for(;0<P-N;)D=Vr(D),P--;for(;0<N-P;)S=Vr(S),N--;for(;P--;){if(D===S||S!==null&&D===S.alternate)break t;D=Vr(D),S=Vr(S)}D=null}else D=null;V!==null&&dp(A,I,V,D,!1),M!==null&&C!==null&&dp(A,C,M,D,!0)}}e:{if(I=f?$r(f):window,V=I.nodeName&&I.nodeName.toLowerCase(),V==="select"||V==="input"&&I.type==="file")var p=R1;else if(ep(I))if(t_)p=M1;else{p=N1;var h=D1}else(V=I.nodeName)&&V.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(p=V1);if(p&&(p=p(t,f))){e_(A,p,n,w);break e}h&&h(t,I,f),t==="focusout"&&(h=I._wrapperState)&&h.controlled&&I.type==="number"&&Xl(I,"number",I.value)}switch(h=f?$r(f):window,t){case"focusin":(ep(h)||h.contentEditable==="true")&&(Ur=h,cc=f,ys=null);break;case"focusout":ys=cc=Ur=null;break;case"mousedown":dc=!0;break;case"contextmenu":case"mouseup":case"dragend":dc=!1,op(A,n,w);break;case"selectionchange":if(x1)break;case"keydown":case"keyup":op(A,n,w)}var m;if(bd)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Br?Jg(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(Xg&&n.locale!=="ko"&&(Br||g!=="onCompositionStart"?g==="onCompositionEnd"&&Br&&(m=Yg()):(Cn=w,Ad="value"in Cn?Cn.value:Cn.textContent,Br=!0)),h=wa(f,g),0<h.length&&(g=new Yh(g,t,null,n,w),A.push({event:g,listeners:h}),m?g.data=m:(m=Zg(n),m!==null&&(g.data=m)))),(m=C1?A1(t,n):I1(t,n))&&(f=wa(f,"onBeforeInput"),0<f.length&&(w=new Yh("onBeforeInput","beforeinput",null,n,w),A.push({event:w,listeners:f}),w.data=m))}i_(A,e)})}function xs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wa(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ds(t,n),s!=null&&r.unshift(xs(t,s,i)),s=Ds(t,e),s!=null&&r.push(xs(t,s,i))),t=t.return}return r}function Vr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dp(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,f=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&f!==null&&(l=f,i?(c=Ds(n,s),c!=null&&o.unshift(xs(n,c,l))):i||(c=Ds(n,s),c!=null&&o.push(xs(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}function Ea(){}var wl=null,El=null;function u_(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function fc(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fp=typeof setTimeout=="function"?setTimeout:void 0,j1=typeof clearTimeout=="function"?clearTimeout:void 0;function Rd(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Jr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function hp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Tl=0;function F1(t){return{$$typeof:md,toString:t,valueOf:t}}var iu=Math.random().toString(36).slice(2),An="__reactFiber$"+iu,Ta="__reactProps$"+iu,Ti="__reactContainer$"+iu,pp="__reactEvents$"+iu;function lr(t){var e=t[An];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ti]||n[An]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hp(t);t!==null;){if(n=t[An])return n;t=hp(t)}return e}t=n,n=t.parentNode}return null}function no(t){return t=t[An]||t[Ti],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $r(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function su(t){return t[Ta]||null}function l_(t){var e=t[pp];return e===void 0&&(e=t[pp]=new Set),e}var hc=[],Hr=-1;function Xn(t){return{current:t}}function Ie(t){0>Hr||(t.current=hc[Hr],hc[Hr]=null,Hr--)}function Ve(t,e){Hr++,hc[Hr]=t.current,t.current=e}var $n={},dt=Xn($n),yt=Xn(!1),gr=$n;function ai(t,e){var n=t.type.contextTypes;if(!n)return $n;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wt(t){return t=t.childContextTypes,t!=null}function Sa(){Ie(yt),Ie(dt)}function mp(t,e,n){if(dt.current!==$n)throw Error(H(168));Ve(dt,e),Ve(yt,n)}function c_(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(H(108,Kr(e)||"Unknown",i));return be({},n,r)}function ra(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$n,gr=dt.current,Ve(dt,t),Ve(yt,yt.current),!0}function gp(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=c_(t,e,gr),r.__reactInternalMemoizedMergedChildContext=t,Ie(yt),Ie(dt),Ve(dt,t)):Ie(yt),Ve(yt,n)}var Dd=null,hr=null,B1=We.unstable_runWithPriority,Nd=We.unstable_scheduleCallback,pc=We.unstable_cancelCallback,U1=We.unstable_shouldYield,_p=We.unstable_requestPaint,mc=We.unstable_now,$1=We.unstable_getCurrentPriorityLevel,ou=We.unstable_ImmediatePriority,d_=We.unstable_UserBlockingPriority,f_=We.unstable_NormalPriority,h_=We.unstable_LowPriority,p_=We.unstable_IdlePriority,Sl={},H1=_p!==void 0?_p:function(){},ln=null,ia=null,kl=!1,vp=mc(),lt=1e4>vp?mc:function(){return mc()-vp};function ui(){switch($1()){case ou:return 99;case d_:return 98;case f_:return 97;case h_:return 96;case p_:return 95;default:throw Error(H(332))}}function m_(t){switch(t){case 99:return ou;case 98:return d_;case 97:return f_;case 96:return h_;case 95:return p_;default:throw Error(H(332))}}function _r(t,e){return t=m_(t),B1(t,e)}function zs(t,e,n){return t=m_(t),Nd(t,e,n)}function rn(){if(ia!==null){var t=ia;ia=null,pc(t)}g_()}function g_(){if(!kl&&ln!==null){kl=!0;var t=0;try{var e=ln;_r(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),ln=null}catch(n){throw ln!==null&&(ln=ln.slice(t+1)),Nd(ou,rn),n}finally{kl=!1}}}var q1=Er.ReactCurrentBatchConfig;function Ut(t,e){if(t&&t.defaultProps){e=be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ka=Xn(null),Ca=null,qr=null,Aa=null;function Vd(){Aa=qr=Ca=null}function Md(t){var e=ka.current;Ie(ka),t.type._context._currentValue=e}function __(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function Zr(t,e){Ca=t,Aa=qr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($t=!0),t.firstContext=null)}function Dt(t,e){if(Aa!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Aa=t,e=1073741823),e={context:t,observedBits:e,next:null},qr===null){if(Ca===null)throw Error(H(308));qr=e,Ca.dependencies={lanes:0,firstContext:e,responders:null}}else qr=qr.next=e;return t._currentValue}var Sn=!1;function Od(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function v_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Nn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vn(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function yp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function js(t,e,n,r){var i=t.updateQueue;Sn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,f=c.next;c.next=null,o===null?s=f:o.next=f,o=c;var w=t.alternate;if(w!==null){w=w.updateQueue;var A=w.lastBaseUpdate;A!==o&&(A===null?w.firstBaseUpdate=f:A.next=f,w.lastBaseUpdate=c)}}if(s!==null){A=i.baseState,o=0,w=f=c=null;do{l=s.lane;var I=s.eventTime;if((r&l)===l){w!==null&&(w=w.next={eventTime:I,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var V=t,M=s;switch(l=e,I=n,M.tag){case 1:if(V=M.payload,typeof V=="function"){A=V.call(I,A,l);break e}A=V;break e;case 3:V.flags=V.flags&-4097|64;case 0:if(V=M.payload,l=typeof V=="function"?V.call(I,A,l):V,l==null)break e;A=be({},A,l);break e;case 2:Sn=!0}}s.callback!==null&&(t.flags|=32,l=i.effects,l===null?i.effects=[s]:l.push(s))}else I={eventTime:I,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},w===null?(f=w=I,c=A):w=w.next=I,o|=l;if(s=s.next,s===null){if(l=i.shared.pending,l===null)break;s=l.next,l.next=null,i.lastBaseUpdate=l,i.shared.pending=null}}while(!0);w===null&&(c=A),i.baseState=c,i.firstBaseUpdate=f,i.lastBaseUpdate=w,io|=o,t.lanes=o,t.memoizedState=A}}function wp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var y_=new Xa.Component().refs;function Ia(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var au={isMounted:function(t){return(t=t._reactInternals)?Tr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=St(),i=Mn(t),s=Nn(r,i);s.payload=e,n!=null&&(s.callback=n),Vn(t,s),On(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=St(),i=Mn(t),s=Nn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),Vn(t,s),On(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=St(),r=Mn(t),i=Nn(n,r);i.tag=2,e!=null&&(i.callback=e),Vn(t,i),On(t,r,n)}};function Ep(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ls(n,r)||!Ls(i,s):!0}function w_(t,e,n){var r=!1,i=$n,s=e.contextType;return typeof s=="object"&&s!==null?s=Dt(s):(i=wt(e)?gr:dt.current,r=e.contextTypes,s=(r=r!=null)?ai(t,i):$n),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=au,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Tp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&au.enqueueReplaceState(e,e.state,null)}function gc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=y_,Od(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Dt(s):(s=wt(e)?gr:dt.current,i.context=ai(t,s)),js(t,n,i,r),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ia(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&au.enqueueReplaceState(i,i.state,null),js(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var zo=Array.isArray;function Yi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=r.refs;o===y_&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function jo(t,e){if(t.type!=="textarea")throw Error(H(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function E_(t){function e(C,S){if(t){var P=C.lastEffect;P!==null?(P.nextEffect=S,C.lastEffect=S):C.firstEffect=C.lastEffect=S,S.nextEffect=null,S.flags=8}}function n(C,S){if(!t)return null;for(;S!==null;)e(C,S),S=S.sibling;return null}function r(C,S){for(C=new Map;S!==null;)S.key!==null?C.set(S.key,S):C.set(S.index,S),S=S.sibling;return C}function i(C,S){return C=qn(C,S),C.index=0,C.sibling=null,C}function s(C,S,P){return C.index=P,t?(P=C.alternate,P!==null?(P=P.index,P<S?(C.flags=2,S):P):(C.flags=2,S)):S}function o(C){return t&&C.alternate===null&&(C.flags=2),C}function l(C,S,P,N){return S===null||S.tag!==6?(S=bl(P,C.mode,N),S.return=C,S):(S=i(S,P),S.return=C,S)}function c(C,S,P,N){return S!==null&&S.elementType===P.type?(N=i(S,P.props),N.ref=Yi(C,S,P),N.return=C,N):(N=ua(P.type,P.key,P.props,null,C.mode,N),N.ref=Yi(C,S,P),N.return=C,N)}function f(C,S,P,N){return S===null||S.tag!==4||S.stateNode.containerInfo!==P.containerInfo||S.stateNode.implementation!==P.implementation?(S=Rl(P,C.mode,N),S.return=C,S):(S=i(S,P.children||[]),S.return=C,S)}function w(C,S,P,N,u){return S===null||S.tag!==7?(S=ri(P,C.mode,N,u),S.return=C,S):(S=i(S,P),S.return=C,S)}function A(C,S,P){if(typeof S=="string"||typeof S=="number")return S=bl(""+S,C.mode,P),S.return=C,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case is:return P=ua(S.type,S.key,S.props,null,C.mode,P),P.ref=Yi(C,null,S),P.return=C,P;case ar:return S=Rl(S,C.mode,P),S.return=C,S}if(zo(S)||Hi(S))return S=ri(S,C.mode,P,null),S.return=C,S;jo(C,S)}return null}function I(C,S,P,N){var u=S!==null?S.key:null;if(typeof P=="string"||typeof P=="number")return u!==null?null:l(C,S,""+P,N);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case is:return P.key===u?P.type===kn?w(C,S,P.props.children,N,u):c(C,S,P,N):null;case ar:return P.key===u?f(C,S,P,N):null}if(zo(P)||Hi(P))return u!==null?null:w(C,S,P,N,null);jo(C,P)}return null}function V(C,S,P,N,u){if(typeof N=="string"||typeof N=="number")return C=C.get(P)||null,l(S,C,""+N,u);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case is:return C=C.get(N.key===null?P:N.key)||null,N.type===kn?w(S,C,N.props.children,u,N.key):c(S,C,N,u);case ar:return C=C.get(N.key===null?P:N.key)||null,f(S,C,N,u)}if(zo(N)||Hi(N))return C=C.get(P)||null,w(S,C,N,u,null);jo(S,N)}return null}function M(C,S,P,N){for(var u=null,p=null,h=S,m=S=0,g=null;h!==null&&m<P.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=I(C,h,P[m],N);if(v===null){h===null&&(h=g);break}t&&h&&v.alternate===null&&e(C,h),S=s(v,S,m),p===null?u=v:p.sibling=v,p=v,h=g}if(m===P.length)return n(C,h),u;if(h===null){for(;m<P.length;m++)h=A(C,P[m],N),h!==null&&(S=s(h,S,m),p===null?u=h:p.sibling=h,p=h);return u}for(h=r(C,h);m<P.length;m++)g=V(h,C,m,P[m],N),g!==null&&(t&&g.alternate!==null&&h.delete(g.key===null?m:g.key),S=s(g,S,m),p===null?u=g:p.sibling=g,p=g);return t&&h.forEach(function(y){return e(C,y)}),u}function D(C,S,P,N){var u=Hi(P);if(typeof u!="function")throw Error(H(150));if(P=u.call(P),P==null)throw Error(H(151));for(var p=u=null,h=S,m=S=0,g=null,v=P.next();h!==null&&!v.done;m++,v=P.next()){h.index>m?(g=h,h=null):g=h.sibling;var y=I(C,h,v.value,N);if(y===null){h===null&&(h=g);break}t&&h&&y.alternate===null&&e(C,h),S=s(y,S,m),p===null?u=y:p.sibling=y,p=y,h=g}if(v.done)return n(C,h),u;if(h===null){for(;!v.done;m++,v=P.next())v=A(C,v.value,N),v!==null&&(S=s(v,S,m),p===null?u=v:p.sibling=v,p=v);return u}for(h=r(C,h);!v.done;m++,v=P.next())v=V(h,C,m,v.value,N),v!==null&&(t&&v.alternate!==null&&h.delete(v.key===null?m:v.key),S=s(v,S,m),p===null?u=v:p.sibling=v,p=v);return t&&h.forEach(function(E){return e(C,E)}),u}return function(C,S,P,N){var u=typeof P=="object"&&P!==null&&P.type===kn&&P.key===null;u&&(P=P.props.children);var p=typeof P=="object"&&P!==null;if(p)switch(P.$$typeof){case is:e:{for(p=P.key,u=S;u!==null;){if(u.key===p){switch(u.tag){case 7:if(P.type===kn){n(C,u.sibling),S=i(u,P.props.children),S.return=C,C=S;break e}break;default:if(u.elementType===P.type){n(C,u.sibling),S=i(u,P.props),S.ref=Yi(C,u,P),S.return=C,C=S;break e}}n(C,u);break}else e(C,u);u=u.sibling}P.type===kn?(S=ri(P.props.children,C.mode,N,P.key),S.return=C,C=S):(N=ua(P.type,P.key,P.props,null,C.mode,N),N.ref=Yi(C,S,P),N.return=C,C=N)}return o(C);case ar:e:{for(u=P.key;S!==null;){if(S.key===u)if(S.tag===4&&S.stateNode.containerInfo===P.containerInfo&&S.stateNode.implementation===P.implementation){n(C,S.sibling),S=i(S,P.children||[]),S.return=C,C=S;break e}else{n(C,S);break}else e(C,S);S=S.sibling}S=Rl(P,C.mode,N),S.return=C,C=S}return o(C)}if(typeof P=="string"||typeof P=="number")return P=""+P,S!==null&&S.tag===6?(n(C,S.sibling),S=i(S,P),S.return=C,C=S):(n(C,S),S=bl(P,C.mode,N),S.return=C,C=S),o(C);if(zo(P))return M(C,S,P,N);if(Hi(P))return D(C,S,P,N);if(p&&jo(C,P),typeof P>"u"&&!u)switch(C.tag){case 1:case 22:case 0:case 11:case 15:throw Error(H(152,Kr(C.type)||"Component"))}return n(C,S)}}var Pa=E_(!0),T_=E_(!1),ro={},Yt=Xn(ro),Fs=Xn(ro),Bs=Xn(ro);function cr(t){if(t===ro)throw Error(H(174));return t}function _c(t,e){switch(Ve(Bs,e),Ve(Fs,t),Ve(Yt,ro),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tc(e,t)}Ie(Yt),Ve(Yt,e)}function li(){Ie(Yt),Ie(Fs),Ie(Bs)}function Sp(t){cr(Bs.current);var e=cr(Yt.current),n=tc(e,t.type);e!==n&&(Ve(Fs,t),Ve(Yt,n))}function Ld(t){Fs.current===t&&(Ie(Yt),Ie(Fs))}var Ne=Xn(0);function ba(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dn=null,In=null,Xt=!1;function S_(t,e){var n=Pt(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function kp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function vc(t){if(Xt){var e=In;if(e){var n=e;if(!kp(t,e)){if(e=Jr(n.nextSibling),!e||!kp(t,e)){t.flags=t.flags&-1025|2,Xt=!1,dn=t;return}S_(dn,n)}dn=t,In=Jr(e.firstChild)}else t.flags=t.flags&-1025|2,Xt=!1,dn=t}}function Cp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dn=t}function Fo(t){if(t!==dn)return!1;if(!Xt)return Cp(t),Xt=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!fc(e,t.memoizedProps))for(e=In;e;)S_(t,e),e=Jr(e.nextSibling);if(Cp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){In=Jr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}In=null}}else In=dn?Jr(t.stateNode.nextSibling):null;return!0}function Cl(){In=dn=null,Xt=!1}var ei=[];function xd(){for(var t=0;t<ei.length;t++)ei[t]._workInProgressVersionPrimary=null;ei.length=0}var ws=Er.ReactCurrentDispatcher,Rt=Er.ReactCurrentBatchConfig,Us=0,Le=null,ot=null,Qe=null,Ra=!1,Es=!1;function gt(){throw Error(H(321))}function zd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!It(t[n],e[n]))return!1;return!0}function jd(t,e,n,r,i,s){if(Us=s,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ws.current=t===null||t.memoizedState===null?G1:K1,t=n(r,i),Es){s=0;do{if(Es=!1,!(25>s))throw Error(H(301));s+=1,Qe=ot=null,e.updateQueue=null,ws.current=Q1,t=n(r,i)}while(Es)}if(ws.current=Ma,e=ot!==null&&ot.next!==null,Us=0,Qe=ot=Le=null,Ra=!1,e)throw Error(H(300));return t}function dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Le.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function Sr(){if(ot===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var e=Qe===null?Le.memoizedState:Qe.next;if(e!==null)Qe=e,ot=t;else{if(t===null)throw Error(H(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Qe===null?Le.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function Kt(t,e){return typeof e=="function"?e(t):e}function Xi(t){var e=Sr(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=ot,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var l=o=s=null,c=i;do{var f=c.lane;if((Us&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===t?c.eagerState:t(r,c.action);else{var w={lane:f,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};l===null?(o=l=w,s=r):l=l.next=w,Le.lanes|=f,io|=f}c=c.next}while(c!==null&&c!==i);l===null?s=r:l.next=o,It(r,e.memoizedState)||($t=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function Ji(t){var e=Sr(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);It(s,e.memoizedState)||($t=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Ap(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===r:(t=t.mutableReadLanes,(t=(Us&t)===t)&&(e._workInProgressVersionPrimary=r,ei.push(e))),t)return n(e._source);throw ei.push(e),Error(H(350))}function k_(t,e,n,r){var i=pt;if(i===null)throw Error(H(349));var s=e._getVersion,o=s(e._source),l=ws.current,c=l.useState(function(){return Ap(i,e,n)}),f=c[1],w=c[0];c=Qe;var A=t.memoizedState,I=A.refs,V=I.getSnapshot,M=A.source;A=A.subscribe;var D=Le;return t.memoizedState={refs:I,source:e,subscribe:r},l.useEffect(function(){I.getSnapshot=n,I.setSnapshot=f;var C=s(e._source);if(!It(o,C)){C=n(e._source),It(w,C)||(f(C),C=Mn(D),i.mutableReadLanes|=C&i.pendingLanes),C=i.mutableReadLanes,i.entangledLanes|=C;for(var S=i.entanglements,P=C;0<P;){var N=31-Un(P),u=1<<N;S[N]|=C,P&=~u}}},[n,e,r]),l.useEffect(function(){return r(e._source,function(){var C=I.getSnapshot,S=I.setSnapshot;try{S(C(e._source));var P=Mn(D);i.mutableReadLanes|=P&i.pendingLanes}catch(N){S(function(){throw N})}})},[e,r]),It(V,n)&&It(M,e)&&It(A,r)||(t={pending:null,dispatch:null,lastRenderedReducer:Kt,lastRenderedState:w},t.dispatch=f=Ud.bind(null,Le,t),c.queue=t,c.baseQueue=null,w=Ap(i,e,n),c.memoizedState=c.baseState=w),w}function C_(t,e,n){var r=Sr();return k_(r,t,e,n)}function Zi(t){var e=dr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Kt,lastRenderedState:t},t=t.dispatch=Ud.bind(null,Le,t),[e.memoizedState,t]}function Da(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null},Le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Ip(t){var e=dr();return t={current:t},e.memoizedState=t}function Na(){return Sr().memoizedState}function yc(t,e,n,r){var i=dr();Le.flags|=t,i.memoizedState=Da(1|e,n,void 0,r===void 0?null:r)}function Fd(t,e,n,r){var i=Sr();r=r===void 0?null:r;var s=void 0;if(ot!==null){var o=ot.memoizedState;if(s=o.destroy,r!==null&&zd(r,o.deps)){Da(e,n,s,r);return}}Le.flags|=t,i.memoizedState=Da(1|e,n,s,r)}function Pp(t,e){return yc(516,4,t,e)}function Va(t,e){return Fd(516,4,t,e)}function A_(t,e){return Fd(4,2,t,e)}function I_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function P_(t,e,n){return n=n!=null?n.concat([t]):null,Fd(4,2,I_.bind(null,e,t),n)}function Bd(){}function b_(t,e){var n=Sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function R_(t,e){var n=Sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function W1(t,e){var n=ui();_r(98>n?98:n,function(){t(!0)}),_r(97<n?97:n,function(){var r=Rt.transition;Rt.transition=1;try{t(!1),e()}finally{Rt.transition=r}})}function Ud(t,e,n){var r=St(),i=Mn(t),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=t.alternate,t===Le||o!==null&&o===Le)Es=Ra=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,c=o(l,n);if(s.eagerReducer=o,s.eagerState=c,It(c,l))return}catch{}finally{}On(t,i,r)}}var Ma={readContext:Dt,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useOpaqueIdentifier:gt,unstable_isNewReconciler:!1},G1={readContext:Dt,useCallback:function(t,e){return dr().memoizedState=[t,e===void 0?null:e],t},useContext:Dt,useEffect:Pp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,yc(4,2,I_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yc(4,2,t,e)},useMemo:function(t,e){var n=dr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=dr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=Ud.bind(null,Le,t),[r.memoizedState,t]},useRef:Ip,useState:Zi,useDebugValue:Bd,useDeferredValue:function(t){var e=Zi(t),n=e[0],r=e[1];return Pp(function(){var i=Rt.transition;Rt.transition=1;try{r(t)}finally{Rt.transition=i}},[t]),n},useTransition:function(){var t=Zi(!1),e=t[0];return t=W1.bind(null,t[1]),Ip(t),[t,e]},useMutableSource:function(t,e,n){var r=dr();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},k_(r,t,e,n)},useOpaqueIdentifier:function(){if(Xt){var t=!1,e=F1(function(){throw t||(t=!0,n("r:"+(Tl++).toString(36))),Error(H(355))}),n=Zi(e)[1];return!(Le.mode&2)&&(Le.flags|=516,Da(5,function(){n("r:"+(Tl++).toString(36))},void 0,null)),e}return e="r:"+(Tl++).toString(36),Zi(e),e},unstable_isNewReconciler:!1},K1={readContext:Dt,useCallback:b_,useContext:Dt,useEffect:Va,useImperativeHandle:P_,useLayoutEffect:A_,useMemo:R_,useReducer:Xi,useRef:Na,useState:function(){return Xi(Kt)},useDebugValue:Bd,useDeferredValue:function(t){var e=Xi(Kt),n=e[0],r=e[1];return Va(function(){var i=Rt.transition;Rt.transition=1;try{r(t)}finally{Rt.transition=i}},[t]),n},useTransition:function(){var t=Xi(Kt)[0];return[Na().current,t]},useMutableSource:C_,useOpaqueIdentifier:function(){return Xi(Kt)[0]},unstable_isNewReconciler:!1},Q1={readContext:Dt,useCallback:b_,useContext:Dt,useEffect:Va,useImperativeHandle:P_,useLayoutEffect:A_,useMemo:R_,useReducer:Ji,useRef:Na,useState:function(){return Ji(Kt)},useDebugValue:Bd,useDeferredValue:function(t){var e=Ji(Kt),n=e[0],r=e[1];return Va(function(){var i=Rt.transition;Rt.transition=1;try{r(t)}finally{Rt.transition=i}},[t]),n},useTransition:function(){var t=Ji(Kt)[0];return[Na().current,t]},useMutableSource:C_,useOpaqueIdentifier:function(){return Ji(Kt)[0]},unstable_isNewReconciler:!1},Y1=Er.ReactCurrentOwner,$t=!1;function _t(t,e,n,r){e.child=t===null?T_(e,null,n,r):Pa(e,t.child,n,r)}function bp(t,e,n,r,i){n=n.render;var s=e.ref;return Zr(e,i),r=jd(t,e,n,r,s,i),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,fn(t,e,i)):(e.flags|=1,_t(t,e,r,i),e.child)}function Rp(t,e,n,r,i,s){if(t===null){var o=n.type;return typeof o=="function"&&!Kd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,D_(t,e,o,r,i,s)):(t=ua(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,!(i&s)&&(i=o.memoizedProps,n=n.compare,n=n!==null?n:Ls,n(i,r)&&t.ref===e.ref)?fn(t,e,s):(e.flags|=1,t=qn(o,r),t.ref=e.ref,t.return=e,e.child=t)}function D_(t,e,n,r,i,s){if(t!==null&&Ls(t.memoizedProps,r)&&t.ref===e.ref)if($t=!1,(s&i)!==0)t.flags&16384&&($t=!0);else return e.lanes=t.lanes,fn(t,e,s);return wc(t,e,n,r,s)}function Al(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},Uo(e,n);else if(n&1073741824)e.memoizedState={baseLanes:0},Uo(e,s!==null?s.baseLanes:n);else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Uo(e,t),null;else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Uo(e,r);return _t(t,e,i,n),e.child}function N_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function wc(t,e,n,r,i){var s=wt(n)?gr:dt.current;return s=ai(e,s),Zr(e,i),n=jd(t,e,n,r,s,i),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,fn(t,e,i)):(e.flags|=1,_t(t,e,n,i),e.child)}function Dp(t,e,n,r,i){if(wt(n)){var s=!0;ra(e)}else s=!1;if(Zr(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),w_(e,n,r),gc(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,f=n.contextType;typeof f=="object"&&f!==null?f=Dt(f):(f=wt(n)?gr:dt.current,f=ai(e,f));var w=n.getDerivedStateFromProps,A=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function";A||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==f)&&Tp(e,o,r,f),Sn=!1;var I=e.memoizedState;o.state=I,js(e,r,o,i),c=e.memoizedState,l!==r||I!==c||yt.current||Sn?(typeof w=="function"&&(Ia(e,n,w,r),c=e.memoizedState),(l=Sn||Ep(e,n,l,r,I,c,f))?(A||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=f,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{o=e.stateNode,v_(t,e),l=e.memoizedProps,f=e.type===e.elementType?l:Ut(e.type,l),o.props=f,A=e.pendingProps,I=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Dt(c):(c=wt(n)?gr:dt.current,c=ai(e,c));var V=n.getDerivedStateFromProps;(w=typeof V=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==A||I!==c)&&Tp(e,o,r,c),Sn=!1,I=e.memoizedState,o.state=I,js(e,r,o,i);var M=e.memoizedState;l!==A||I!==M||yt.current||Sn?(typeof V=="function"&&(Ia(e,n,V,r),M=e.memoizedState),(f=Sn||Ep(e,n,f,r,I,M,c))?(w||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,M,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,M,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&I===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&I===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=M),o.props=r,o.state=M,o.context=c,r=f):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&I===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&I===t.memoizedState||(e.flags|=256),r=!1)}return Ec(t,e,n,r,s,i)}function Ec(t,e,n,r,i,s){N_(t,e);var o=(e.flags&64)!==0;if(!r&&!o)return i&&gp(e,n,!1),fn(t,e,s);r=e.stateNode,Y1.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Pa(e,t.child,null,s),e.child=Pa(e,null,l,s)):_t(t,e,l,s),e.memoizedState=r.state,i&&gp(e,n,!0),e.child}function Np(t){var e=t.stateNode;e.pendingContext?mp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mp(t,e.context,!1),_c(t,e.containerInfo)}var Bo={dehydrated:null,retryLane:0};function Vp(t,e,n){var r=e.pendingProps,i=Ne.current,s=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),Ve(Ne,i&1),t===null?(r.fallback!==void 0&&vc(e),t=r.children,i=r.fallback,s?(t=Mp(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Bo,t):typeof r.unstable_expectedLoadTime=="number"?(t=Mp(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Bo,e.lanes=33554432,t):(n=Qd({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?s?(r=Lp(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=Bo,r):(n=Op(t,e,r.children,n),e.memoizedState=null,n):s?(r=Lp(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=Bo,r):(n=Op(t,e,r.children,n),e.memoizedState=null,n)}function Mp(t,e,n,r){var i=t.mode,s=t.child;return e={mode:"hidden",children:e},!(i&2)&&s!==null?(s.childLanes=0,s.pendingProps=e):s=Qd(e,i,0,null),n=ri(n,i,r,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n}function Op(t,e,n,r){var i=t.child;return t=i.sibling,n=qn(i,{mode:"visible",children:n}),!(e.mode&2)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function Lp(t,e,n,r,i){var s=e.mode,o=t.child;t=o.sibling;var l={mode:"hidden",children:n};return!(s&2)&&e.child!==o?(n=e.child,n.childLanes=0,n.pendingProps=l,o=n.lastEffect,o!==null?(e.firstEffect=n.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):n=qn(o,l),t!==null?r=qn(t,r):(r=ri(r,s,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function xp(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),__(t.return,e)}function Il(t,e,n,r,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function zp(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(_t(t,e,r.children,n),r=Ne.current,r&2)r=r&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xp(t,n);else if(t.tag===19)xp(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ve(Ne,r),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ba(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Il(e,!1,i,n,s,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ba(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Il(e,!0,n,null,s,e.lastEffect);break;case"together":Il(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function fn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),io|=e.lanes,n&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=qn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var V_,Tc,M_,O_;V_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tc=function(){};M_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,cr(Yt.current);var s=null;switch(n){case"input":i=Ql(t,i),r=Ql(t,r),s=[];break;case"option":i=Jl(t,i),r=Jl(t,r),s=[];break;case"select":i=be({},i,{value:void 0}),r=be({},r,{value:void 0}),s=[];break;case"textarea":i=Zl(t,i),r=Zl(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ea)}nc(n,r);var o;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var l=i[f];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(bs.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(l=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&c!==l&&(c!=null||l!=null))if(f==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(f,n)),n=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(bs.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&Ae("scroll",t),s||l===c||(s=[])):typeof c=="object"&&c!==null&&c.$$typeof===md?c.toString():(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};O_=function(t,e,n,r){n!==r&&(e.flags|=4)};function es(t,e){if(!Xt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function X1(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return wt(e.type)&&Sa(),null;case 3:return li(),Ie(yt),Ie(dt),xd(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fo(e)?e.flags|=4:r.hydrate||(e.flags|=256)),Tc(e),null;case 5:Ld(e);var i=cr(Bs.current);if(n=e.type,t!==null&&e.stateNode!=null)M_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(H(166));return null}if(t=cr(Yt.current),Fo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[An]=e,r[Ta]=s,n){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(t=0;t<os.length;t++)Ae(os[t],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":zh(r,s),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ae("invalid",r);break;case"textarea":Fh(r,s),Ae("invalid",r)}nc(n,s),t=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?r.textContent!==i&&(t=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(t=["children",""+i]):bs.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&Ae("scroll",r));switch(n){case"input":Mo(r),jh(r,s,!0);break;case"textarea":Mo(r),Bh(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ea)}r=t,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===ec.html&&(t=bg(n)),t===ec.html?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[An]=e,t[Ta]=r,V_(t,e,!1,!1),e.stateNode=t,o=rc(n,r),n){case"dialog":Ae("cancel",t),Ae("close",t),i=r;break;case"iframe":case"object":case"embed":Ae("load",t),i=r;break;case"video":case"audio":for(i=0;i<os.length;i++)Ae(os[i],t);i=r;break;case"source":Ae("error",t),i=r;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),i=r;break;case"details":Ae("toggle",t),i=r;break;case"input":zh(t,r),i=Ql(t,r),Ae("invalid",t);break;case"option":i=Jl(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=be({},r,{value:void 0}),Ae("invalid",t);break;case"textarea":Fh(t,r),i=Zl(t,r),Ae("invalid",t);break;default:i=r}nc(n,i);var l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?Ng(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Rg(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Rs(t,c):typeof c=="number"&&Rs(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bs.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ae("scroll",t):c!=null&&ld(t,s,c,o))}switch(n){case"input":Mo(t),jh(t,r,!1);break;case"textarea":Mo(t),Bh(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Bn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Qr(t,!!r.multiple,s,!1):r.defaultValue!=null&&Qr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ea)}u_(n,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)O_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));n=cr(Bs.current),cr(Yt.current),Fo(e)?(r=e.stateNode,n=e.memoizedProps,r[An]=e,r.nodeValue!==n&&(e.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[An]=e,e.stateNode=r)}return null;case 13:return Ie(Ne),r=e.memoizedState,e.flags&64?(e.lanes=n,e):(r=r!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&Fo(e):n=t.memoizedState!==null,r&&!n&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||Ne.current&1?Xe===0&&(Xe=3):((Xe===0||Xe===3)&&(Xe=4),pt===null||!(io&134217727)&&!(ki&134217727)||ti(pt,ct))),(r||n)&&(e.flags|=4),null);case 4:return li(),Tc(e),t===null&&s_(e.stateNode.containerInfo),null;case 10:return Md(e),null;case 17:return wt(e.type)&&Sa(),null;case 19:if(Ie(Ne),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!==0,o=r.rendering,o===null)if(s)es(r,!1);else{if(Xe!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(o=ba(t),o!==null){for(e.flags|=64,es(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ve(Ne,Ne.current&1|2),e.child}t=t.sibling}r.tail!==null&&lt()>Pc&&(e.flags|=64,s=!0,es(r,!1),e.lanes=33554432)}else{if(!s)if(t=ba(o),t!==null){if(e.flags|=64,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),es(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!Xt)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*lt()-r.renderingStartTime>Pc&&n!==1073741824&&(e.flags|=64,s=!0,es(r,!1),e.lanes=33554432);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=lt(),n.sibling=null,e=Ne.current,Ve(Ne,s?e&1|2:e&1),n):null;case 23:case 24:return Gd(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(H(156,e.tag))}function J1(t){switch(t.tag){case 1:wt(t.type)&&Sa();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(li(),Ie(yt),Ie(dt),xd(),e=t.flags,e&64)throw Error(H(285));return t.flags=e&-4097|64,t;case 5:return Ld(t),null;case 13:return Ie(Ne),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return Ie(Ne),null;case 4:return li(),null;case 10:return Md(t),null;case 23:case 24:return Gd(),null;default:return null}}function $d(t,e){try{var n="",r=e;do n+=D0(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function Sc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Z1=typeof WeakMap=="function"?WeakMap:Map;function L_(t,e,n){n=Nn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){La||(La=!0,bc=r),Sc(t,e)},n}function x_(t,e,n){n=Nn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return Sc(t,e),r(i)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(Qt===null?Qt=new Set([this]):Qt.add(this),Sc(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}var ew=typeof WeakSet=="function"?WeakSet:Set;function jp(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){Ln(t,n)}else e.current=null}function tw(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:Ut(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&Rd(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(H(163))}function nw(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;r=i.next,i=i.tag,i&4&&i&1&&(W_(n,t),cw(n,t)),t=r}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Ut(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&wp(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}wp(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&u_(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&Ug(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(H(163))}function Fp(t,e){for(var n=t;;){if(n.tag===5){var r=n.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=Dg("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Bp(t,e){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(Dd,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if(r&4)W_(e,n);else{r=e;try{i()}catch(s){Ln(r,s)}}n=n.next}while(n!==t)}break;case 1:if(jp(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){Ln(e,s)}break;case 5:jp(e);break;case 4:z_(t,e)}}function Up(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function $p(t){return t.tag===5||t.tag===3||t.tag===4}function Hp(t){e:{for(var e=t.return;e!==null;){if($p(e))break e;e=e.return}throw Error(H(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(H(161))}n.flags&16&&(Rs(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||$p(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?kc(t,n,e):Cc(t,n,e)}function kc(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ea));else if(r!==4&&(t=t.child,t!==null))for(kc(t,e,n),t=t.sibling;t!==null;)kc(t,e,n),t=t.sibling}function Cc(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Cc(t,e,n),t=t.sibling;t!==null;)Cc(t,e,n),t=t.sibling}function z_(t,e){for(var n=e,r=!1,i,s;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(H(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var o=t,l=n,c=l;;)if(Bp(o,c),c.child!==null&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}s?(o=i,l=n.stateNode,o.nodeType===8?o.parentNode.removeChild(l):o.removeChild(l)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(Bp(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function Pl(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(t=r.destroy,r.destroy=void 0,t!==void 0&&t()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){r=e.memoizedProps;var i=t!==null?t.memoizedProps:r;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(n[Ta]=r,t==="input"&&r.type==="radio"&&r.name!=null&&Ig(n,r),rc(t,i),e=rc(t,r),i=0;i<s.length;i+=2){var o=s[i],l=s[i+1];o==="style"?Ng(n,l):o==="dangerouslySetInnerHTML"?Rg(n,l):o==="children"?Rs(n,l):ld(n,o,l,e)}switch(t){case"input":Yl(n,r);break;case"textarea":Pg(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?Qr(n,!!r.multiple,s,!1):t!==!!r.multiple&&(r.defaultValue!=null?Qr(n,!!r.multiple,r.defaultValue,!0):Qr(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(H(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,Ug(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(Wd=lt(),Fp(e.child,!0)),qp(e);return;case 19:qp(e);return;case 17:return;case 23:case 24:Fp(e,e.memoizedState!==null);return}throw Error(H(163))}function qp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ew),e.forEach(function(r){var i=hw.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function rw(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var iw=Math.ceil,Oa=Er.ReactCurrentDispatcher,Hd=Er.ReactCurrentOwner,ie=0,pt=null,Be=null,ct=0,vr=0,Ac=Xn(0),Xe=0,uu=null,Si=0,io=0,ki=0,qd=0,Ic=null,Wd=0,Pc=1/0;function Ci(){Pc=lt()+500}var Z=null,La=!1,bc=null,Qt=null,Hn=!1,Ts=null,as=90,Rc=[],Dc=[],hn=null,Ss=0,Nc=null,sa=-1,cn=0,oa=0,ks=null,aa=!1;function St(){return ie&48?lt():sa!==-1?sa:sa=lt()}function Mn(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return ui()===99?1:2;if(cn===0&&(cn=Si),q1.transition!==0){oa!==0&&(oa=Ic!==null?Ic.pendingLanes:0),t=cn;var e=4186112&~oa;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=ui(),ie&4&&t===98?t=ya(12,cn):(t=G0(t),t=ya(t,cn)),t}function On(t,e,n){if(50<Ss)throw Ss=0,Nc=null,Error(H(185));if(t=lu(t,e),t===null)return null;tu(t,e,n),t===pt&&(ki|=e,Xe===4&&ti(t,ct));var r=ui();e===1?ie&8&&!(ie&48)?Vc(t):(Nt(t,n),ie===0&&(Ci(),rn())):(!(ie&4)||r!==98&&r!==99||(hn===null?hn=new Set([t]):hn.add(t)),Nt(t,n)),Ic=t}function lu(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function Nt(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-Un(o),c=1<<l,f=s[l];if(f===-1){if(!(c&r)||c&i){f=e,Mr(c);var w=Se;s[l]=10<=w?f+250:6<=w?f+5e3:-1}}else f<=e&&(t.expiredLanes|=c);o&=~c}if(r=Ms(t,t===pt?ct:0),e=Se,r===0)n!==null&&(n!==Sl&&pc(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==Sl&&pc(n)}e===15?(n=Vc.bind(null,t),ln===null?(ln=[n],ia=Nd(ou,g_)):ln.push(n),n=Sl):e===14?n=zs(99,Vc.bind(null,t)):(n=K0(e),n=zs(n,j_.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function j_(t){if(sa=-1,oa=cn=0,ie&48)throw Error(H(327));var e=t.callbackNode;if(Jn()&&t.callbackNode!==e)return null;var n=Ms(t,t===pt?ct:0);if(n===0)return null;var r=n,i=ie;ie|=16;var s=$_();(pt!==t||ct!==r)&&(Ci(),ni(t,r));do try{aw();break}catch(l){U_(t,l)}while(!0);if(Vd(),Oa.current=s,ie=i,Be!==null?r=0:(pt=null,ct=0,r=Xe),Si&ki)ni(t,0);else if(r!==0){if(r===2&&(ie|=64,t.hydrate&&(t.hydrate=!1,Rd(t.containerInfo)),n=Qg(t),n!==0&&(r=us(t,n))),r===1)throw e=uu,ni(t,0),ti(t,n),Nt(t,lt()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(H(345));case 2:sr(t);break;case 3:if(ti(t,n),(n&62914560)===n&&(r=Wd+500-lt(),10<r)){if(Ms(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){St(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=fp(sr.bind(null,t),r);break}sr(t);break;case 4:if(ti(t,n),(n&4186112)===n)break;for(r=t.eventTimes,i=-1;0<n;){var o=31-Un(n);s=1<<o,o=r[o],o>i&&(i=o),n&=~s}if(n=i,n=lt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*iw(n/1960))-n,10<n){t.timeoutHandle=fp(sr.bind(null,t),n);break}sr(t);break;case 5:sr(t);break;default:throw Error(H(329))}}return Nt(t,lt()),t.callbackNode===e?j_.bind(null,t):null}function ti(t,e){for(e&=~qd,e&=~ki,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Un(e),r=1<<n;t[n]=-1,e&=~r}}function Vc(t){if(ie&48)throw Error(H(327));if(Jn(),t===pt&&t.expiredLanes&ct){var e=ct,n=us(t,e);Si&ki&&(e=Ms(t,e),n=us(t,e))}else e=Ms(t,0),n=us(t,e);if(t.tag!==0&&n===2&&(ie|=64,t.hydrate&&(t.hydrate=!1,Rd(t.containerInfo)),e=Qg(t),e!==0&&(n=us(t,e))),n===1)throw n=uu,ni(t,0),ti(t,e),Nt(t,lt()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,sr(t),Nt(t,lt()),null}function sw(){if(hn!==null){var t=hn;hn=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Nt(e,lt())})}rn()}function F_(t,e){var n=ie;ie|=1;try{return t(e)}finally{ie=n,ie===0&&(Ci(),rn())}}function B_(t,e){var n=ie;ie&=-2,ie|=8;try{return t(e)}finally{ie=n,ie===0&&(Ci(),rn())}}function Uo(t,e){Ve(Ac,vr),vr|=e,Si|=e}function Gd(){vr=Ac.current,Ie(Ac)}function ni(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,j1(n)),Be!==null)for(n=Be.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sa();break;case 3:li(),Ie(yt),Ie(dt),xd();break;case 5:Ld(r);break;case 4:li();break;case 13:Ie(Ne);break;case 19:Ie(Ne);break;case 10:Md(r);break;case 23:case 24:Gd()}n=n.return}pt=t,Be=qn(t.current,null),ct=vr=Si=e,Xe=0,uu=null,qd=ki=io=0}function U_(t,e){do{var n=Be;try{if(Vd(),ws.current=Ma,Ra){for(var r=Le.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ra=!1}if(Us=0,Qe=ot=Le=null,Es=!1,Hd.current=null,n===null||n.return===null){Xe=1,uu=e,Be=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=ct,l.flags|=2048,l.firstEffect=l.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c;if(!(l.mode&2)){var w=l.alternate;w?(l.updateQueue=w.updateQueue,l.memoizedState=w.memoizedState,l.lanes=w.lanes):(l.updateQueue=null,l.memoizedState=null)}var A=(Ne.current&1)!==0,I=o;do{var V;if(V=I.tag===13){var M=I.memoizedState;if(M!==null)V=M.dehydrated!==null;else{var D=I.memoizedProps;V=D.fallback===void 0?!1:D.unstable_avoidThisFallback!==!0?!0:!A}}if(V){var C=I.updateQueue;if(C===null){var S=new Set;S.add(f),I.updateQueue=S}else C.add(f);if(!(I.mode&2)){if(I.flags|=64,l.flags|=16384,l.flags&=-2981,l.tag===1)if(l.alternate===null)l.tag=17;else{var P=Nn(-1,1);P.tag=2,Vn(l,P)}l.lanes|=1;break e}c=void 0,l=e;var N=s.pingCache;if(N===null?(N=s.pingCache=new Z1,c=new Set,N.set(f,c)):(c=N.get(f),c===void 0&&(c=new Set,N.set(f,c))),!c.has(l)){c.add(l);var u=fw.bind(null,s,f,l);f.then(u,u)}I.flags|=4096,I.lanes=e;break e}I=I.return}while(I!==null);c=Error((Kr(l.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Xe!==5&&(Xe=2),c=$d(c,l),I=o;do{switch(I.tag){case 3:s=c,I.flags|=4096,e&=-e,I.lanes|=e;var p=L_(I,s,e);yp(I,p);break e;case 1:s=c;var h=I.type,m=I.stateNode;if(!(I.flags&64)&&(typeof h.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Qt===null||!Qt.has(m)))){I.flags|=4096,e&=-e,I.lanes|=e;var g=x_(I,s,e);yp(I,g);break e}}I=I.return}while(I!==null)}q_(n)}catch(v){e=v,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function $_(){var t=Oa.current;return Oa.current=Ma,t===null?Ma:t}function us(t,e){var n=ie;ie|=16;var r=$_();pt===t&&ct===e||ni(t,e);do try{ow();break}catch(i){U_(t,i)}while(!0);if(Vd(),ie=n,Oa.current=r,Be!==null)throw Error(H(261));return pt=null,ct=0,Xe}function ow(){for(;Be!==null;)H_(Be)}function aw(){for(;Be!==null&&!U1();)H_(Be)}function H_(t){var e=G_(t.alternate,t,vr);t.memoizedProps=t.pendingProps,e===null?q_(t):Be=e,Hd.current=null}function q_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&2048){if(n=J1(e),n!==null){n.flags&=2047,Be=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(n=X1(n,e,vr),n!==null){Be=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||vr&1073741824||!(n.mode&4)){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){Be=e;return}Be=e=t}while(e!==null);Xe===0&&(Xe=5)}function sr(t){var e=ui();return _r(99,uw.bind(null,t,e)),null}function uw(t,e){do Jn();while(Ts!==null);if(ie&48)throw Error(H(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,l=t.expirationTimes;0<s;){var c=31-Un(s),f=1<<c;i[c]=0,o[c]=-1,l[c]=-1,s&=~f}if(hn!==null&&!(r&24)&&hn.has(t)&&hn.delete(t),t===pt&&(Be=pt=null,ct=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=ie,ie|=32,Hd.current=null,wl=ea,o=sp(),lc(o)){if("selectionStart"in o)l={start:o.selectionStart,end:o.selectionEnd};else e:if(l=(l=o.ownerDocument)&&l.defaultView||window,(f=l.getSelection&&l.getSelection())&&f.rangeCount!==0){l=f.anchorNode,s=f.anchorOffset,c=f.focusNode,f=f.focusOffset;try{l.nodeType,c.nodeType}catch{l=null;break e}var w=0,A=-1,I=-1,V=0,M=0,D=o,C=null;t:for(;;){for(var S;D!==l||s!==0&&D.nodeType!==3||(A=w+s),D!==c||f!==0&&D.nodeType!==3||(I=w+f),D.nodeType===3&&(w+=D.nodeValue.length),(S=D.firstChild)!==null;)C=D,D=S;for(;;){if(D===o)break t;if(C===l&&++V===s&&(A=w),C===c&&++M===f&&(I=w),(S=D.nextSibling)!==null)break;D=C,C=D.parentNode}D=S}l=A===-1||I===-1?null:{start:A,end:I}}else l=null;l=l||{start:0,end:0}}else l=null;El={focusedElem:o,selectionRange:l},ea=!1,ks=null,aa=!1,Z=r;do try{lw()}catch(v){if(Z===null)throw Error(H(330));Ln(Z,v),Z=Z.nextEffect}while(Z!==null);ks=null,Z=r;do try{for(o=t;Z!==null;){var P=Z.flags;if(P&16&&Rs(Z.stateNode,""),P&128){var N=Z.alternate;if(N!==null){var u=N.ref;u!==null&&(typeof u=="function"?u(null):u.current=null)}}switch(P&1038){case 2:Hp(Z),Z.flags&=-3;break;case 6:Hp(Z),Z.flags&=-3,Pl(Z.alternate,Z);break;case 1024:Z.flags&=-1025;break;case 1028:Z.flags&=-1025,Pl(Z.alternate,Z);break;case 4:Pl(Z.alternate,Z);break;case 8:l=Z,z_(o,l);var p=l.alternate;Up(l),p!==null&&Up(p)}Z=Z.nextEffect}}catch(v){if(Z===null)throw Error(H(330));Ln(Z,v),Z=Z.nextEffect}while(Z!==null);if(u=El,N=sp(),P=u.focusedElem,o=u.selectionRange,N!==P&&P&&P.ownerDocument&&r_(P.ownerDocument.documentElement,P)){for(o!==null&&lc(P)&&(N=o.start,u=o.end,u===void 0&&(u=N),"selectionStart"in P?(P.selectionStart=N,P.selectionEnd=Math.min(u,P.value.length)):(u=(N=P.ownerDocument||document)&&N.defaultView||window,u.getSelection&&(u=u.getSelection(),l=P.textContent.length,p=Math.min(o.start,l),o=o.end===void 0?p:Math.min(o.end,l),!u.extend&&p>o&&(l=o,o=p,p=l),l=ip(P,p),s=ip(P,o),l&&s&&(u.rangeCount!==1||u.anchorNode!==l.node||u.anchorOffset!==l.offset||u.focusNode!==s.node||u.focusOffset!==s.offset)&&(N=N.createRange(),N.setStart(l.node,l.offset),u.removeAllRanges(),p>o?(u.addRange(N),u.extend(s.node,s.offset)):(N.setEnd(s.node,s.offset),u.addRange(N)))))),N=[],u=P;u=u.parentNode;)u.nodeType===1&&N.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<N.length;P++)u=N[P],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}ea=!!wl,El=wl=null,t.current=n,Z=r;do try{for(P=t;Z!==null;){var h=Z.flags;if(h&36&&nw(P,Z.alternate,Z),h&128){N=void 0;var m=Z.ref;if(m!==null){var g=Z.stateNode;switch(Z.tag){case 5:N=g;break;default:N=g}typeof m=="function"?m(N):m.current=N}}Z=Z.nextEffect}}catch(v){if(Z===null)throw Error(H(330));Ln(Z,v),Z=Z.nextEffect}while(Z!==null);Z=null,H1(),ie=i}else t.current=n;if(Hn)Hn=!1,Ts=t,as=e;else for(Z=r;Z!==null;)e=Z.nextEffect,Z.nextEffect=null,Z.flags&8&&(h=Z,h.sibling=null,h.stateNode=null),Z=e;if(r=t.pendingLanes,r===0&&(Qt=null),r===1?t===Nc?Ss++:(Ss=0,Nc=t):Ss=0,n=n.stateNode,hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(Dd,n,void 0,(n.current.flags&64)===64)}catch{}if(Nt(t,lt()),La)throw La=!1,t=bc,bc=null,t;return ie&8||rn(),null}function lw(){for(;Z!==null;){var t=Z.alternate;aa||ks===null||(Z.flags&8?Hh(Z,ks)&&(aa=!0):Z.tag===13&&rw(t,Z)&&Hh(Z,ks)&&(aa=!0));var e=Z.flags;e&256&&tw(t,Z),!(e&512)||Hn||(Hn=!0,zs(97,function(){return Jn(),null})),Z=Z.nextEffect}}function Jn(){if(as!==90){var t=97<as?97:as;return as=90,_r(t,dw)}return!1}function cw(t,e){Rc.push(e,t),Hn||(Hn=!0,zs(97,function(){return Jn(),null}))}function W_(t,e){Dc.push(e,t),Hn||(Hn=!0,zs(97,function(){return Jn(),null}))}function dw(){if(Ts===null)return!1;var t=Ts;if(Ts=null,ie&48)throw Error(H(331));var e=ie;ie|=32;var n=Dc;Dc=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(c){if(s===null)throw Error(H(330));Ln(s,c)}}for(n=Rc,Rc=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var l=i.create;i.destroy=l()}catch(c){if(s===null)throw Error(H(330));Ln(s,c)}}for(l=t.current.firstEffect;l!==null;)t=l.nextEffect,l.nextEffect=null,l.flags&8&&(l.sibling=null,l.stateNode=null),l=t;return ie=e,rn(),!0}function Wp(t,e,n){e=$d(n,e),e=L_(t,e,1),Vn(t,e),e=St(),t=lu(t,1),t!==null&&(tu(t,1,e),Nt(t,e))}function Ln(t,e){if(t.tag===3)Wp(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){Wp(n,t,e);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qt===null||!Qt.has(r))){t=$d(e,t);var i=x_(n,t,1);if(Vn(n,i),i=St(),n=lu(n,1),n!==null)tu(n,1,i),Nt(n,i);else if(typeof r.componentDidCatch=="function"&&(Qt===null||!Qt.has(r)))try{r.componentDidCatch(e,t)}catch{}break}}n=n.return}}function fw(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=St(),t.pingedLanes|=t.suspendedLanes&n,pt===t&&(ct&n)===n&&(Xe===4||Xe===3&&(ct&62914560)===ct&&500>lt()-Wd?ni(t,0):qd|=n),Nt(t,e)}function hw(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(cn===0&&(cn=Si),e=Or(62914560&~cn),e===0&&(e=4194304)):e=ui()===99?1:2:e=1),n=St(),t=lu(t,e),t!==null&&(tu(t,e,n),Nt(t,n))}var G_;G_=function(t,e,n){var r=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||yt.current)$t=!0;else if(n&r)$t=!!(t.flags&16384);else{switch($t=!1,e.tag){case 3:Np(e),Cl();break;case 5:Sp(e);break;case 1:wt(e.type)&&ra(e);break;case 4:_c(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;Ve(ka,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return n&e.child.childLanes?Vp(t,e,n):(Ve(Ne,Ne.current&1),e=fn(t,e,n),e!==null?e.sibling:null);Ve(Ne,Ne.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&64){if(r)return zp(t,e,n);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(Ne,Ne.current),r)break;return null;case 23:case 24:return e.lanes=0,Al(t,e,n)}return fn(t,e,n)}else $t=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=ai(e,dt.current),Zr(e,n),i=jd(null,e,r,t,i,n),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,wt(r)){var s=!0;ra(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Od(e);var o=r.getDerivedStateFromProps;typeof o=="function"&&Ia(e,r,o,t),i.updater=au,e.stateNode=i,i._reactInternals=e,gc(e,r,t,n),e=Ec(null,e,r,!0,s,n)}else e.tag=0,_t(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=mw(i),t=Ut(i,t),s){case 0:e=wc(null,e,i,t,n);break e;case 1:e=Dp(null,e,i,t,n);break e;case 11:e=bp(null,e,i,t,n);break e;case 14:e=Rp(null,e,i,Ut(i.type,t),r,n);break e}throw Error(H(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ut(r,i),wc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ut(r,i),Dp(t,e,r,i,n);case 3:if(Np(e),r=e.updateQueue,t===null||r===null)throw Error(H(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,v_(t,e),js(e,r,null,n),r=e.memoizedState.element,r===i)Cl(),e=fn(t,e,n);else{if(i=e.stateNode,(s=i.hydrate)&&(In=Jr(e.stateNode.containerInfo.firstChild),dn=e,s=Xt=!0),s){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)s=t[i],s._workInProgressVersionPrimary=t[i+1],ei.push(s);for(n=T_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else _t(t,e,r,n),Cl();e=e.child}return e;case 5:return Sp(e),t===null&&vc(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,fc(r,i)?o=null:s!==null&&fc(r,s)&&(e.flags|=16),N_(t,e),_t(t,e,o,n),e.child;case 6:return t===null&&vc(e),null;case 13:return Vp(t,e,n);case 4:return _c(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Pa(e,null,r,n):_t(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ut(r,i),bp(t,e,r,i,n);case 7:return _t(t,e,e.pendingProps,n),e.child;case 8:return _t(t,e,e.pendingProps.children,n),e.child;case 12:return _t(t,e,e.pendingProps.children,n),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var l=e.type._context;if(Ve(ka,l._currentValue),l._currentValue=s,o!==null)if(l=o.value,s=It(l,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(l,s):1073741823)|0,s===0){if(o.children===i.children&&!yt.current){e=fn(t,e,n);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var c=l.dependencies;if(c!==null){o=l.child;for(var f=c.firstContext;f!==null;){if(f.context===r&&f.observedBits&s){l.tag===1&&(f=Nn(-1,n&-n),f.tag=2,Vn(l,f)),l.lanes|=n,f=l.alternate,f!==null&&(f.lanes|=n),__(l.return,n),c.lanes|=n;break}f=f.next}}else o=l.tag===10&&l.type===e.type?null:l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===e){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}_t(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,Zr(e,n),i=Dt(i,s.unstable_observedBits),r=r(i),e.flags|=1,_t(t,e,r,n),e.child;case 14:return i=e.type,s=Ut(i,e.pendingProps),s=Ut(i.type,s),Rp(t,e,i,s,r,n);case 15:return D_(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ut(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,wt(r)?(t=!0,ra(e)):t=!1,Zr(e,n),w_(e,r,i),gc(e,r,i,n),Ec(null,e,r,!0,t,n);case 19:return zp(t,e,n);case 23:return Al(t,e,n);case 24:return Al(t,e,n)}throw Error(H(156,e.tag))};function pw(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(t,e,n,r){return new pw(t,e,n,r)}function Kd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mw(t){if(typeof t=="function")return Kd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ja)return 11;if(t===Za)return 14}return 2}function qn(t,e){var n=t.alternate;return n===null?(n=Pt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ua(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Kd(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case kn:return ri(n.children,i,s,e);case kg:o=8,i|=16;break;case cd:o=8,i|=1;break;case hs:return t=Pt(12,n,e,i|8),t.elementType=hs,t.type=hs,t.lanes=s,t;case ps:return t=Pt(13,n,e,i),t.type=ps,t.elementType=ps,t.lanes=s,t;case ma:return t=Pt(19,n,e,i),t.elementType=ma,t.lanes=s,t;case gd:return Qd(n,i,s,e);case Kl:return t=Pt(24,n,e,i),t.elementType=Kl,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dd:o=10;break e;case fd:o=9;break e;case Ja:o=11;break e;case Za:o=14;break e;case hd:o=16,r=null;break e;case pd:o=22;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Pt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ri(t,e,n,r){return t=Pt(7,t,r,e),t.lanes=n,t}function Qd(t,e,n,r){return t=Pt(23,t,r,e),t.elementType=gd,t.lanes=n,t}function bl(t,e,n){return t=Pt(6,t,null,e),t.lanes=n,t}function Rl(t,e,n){return e=Pt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function gw(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=hl(0),this.expirationTimes=hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hl(0),this.mutableSourceEagerHydrationData=null}function _w(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ar,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xa(t,e,n,r){var i=e.current,s=St(),o=Mn(i);e:if(n){n=n._reactInternals;t:{if(Tr(n)!==n||n.tag!==1)throw Error(H(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(wt(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(l!==null);throw Error(H(171))}if(n.tag===1){var c=n.type;if(wt(c)){n=c_(n,c,l);break e}}n=l}else n=$n;return e.context===null?e.context=n:e.pendingContext=n,e=Nn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),Vn(i,e),On(i,o,s),o}function Dl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Gp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Yd(t,e){Gp(t,e),(t=t.alternate)&&Gp(t,e)}function vw(){return null}function Xd(t,e,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new gw(t,e,n!=null&&n.hydrate===!0),e=Pt(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,Od(e),t[Ti]=n.current,s_(t.nodeType===8?t.parentNode:t),r)for(t=0;t<r.length;t++){e=r[t];var i=e._getVersion;i=i(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}Xd.prototype.render=function(t){xa(t,this._internalRoot,null,null)};Xd.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;xa(null,t,null,function(){e[Ti]=null})};function so(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yw(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Xd(t,0,e?{hydrate:!0}:void 0)}function cu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var l=i;i=function(){var f=Dl(o);l.call(f)}}xa(e,o,t,i)}else{if(s=n._reactRootContainer=yw(n,r),o=s._internalRoot,typeof i=="function"){var c=i;i=function(){var f=Dl(o);c.call(f)}}B_(function(){xa(e,o,t,i)})}return Dl(o)}jg=function(t){if(t.tag===13){var e=St();On(t,4,e),Yd(t,4)}};Ed=function(t){if(t.tag===13){var e=St();On(t,67108864,e),Yd(t,67108864)}};Fg=function(t){if(t.tag===13){var e=St(),n=Mn(t);On(t,n,e),Yd(t,n)}};Bg=function(t,e){return e()};ic=function(t,e,n){switch(e){case"input":if(Yl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=su(r);if(!i)throw Error(H(90));Ag(r),Yl(r,i)}}}break;case"textarea":Pg(t,n);break;case"select":e=n.value,e!=null&&Qr(t,!!n.multiple,e,!1)}};vd=F_;Og=function(t,e,n,r,i){var s=ie;ie|=4;try{return _r(98,t.bind(null,e,n,r,i))}finally{ie=s,ie===0&&(Ci(),rn())}};yd=function(){!(ie&49)&&(sw(),Jn())};Lg=function(t,e){var n=ie;ie|=2;try{return t(e)}finally{ie=n,ie===0&&(Ci(),rn())}};function K_(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!so(e))throw Error(H(200));return _w(t,e,null,n)}var ww={Events:[no,$r,su,Vg,Mg,Jn,{current:!1}]},ts={findFiberByHostInstance:lr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Ew={bundleType:ts.bundleType,version:ts.version,rendererPackageName:ts.rendererPackageName,rendererConfig:ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Er.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zg(t),t===null?null:t.stateNode},findFiberByHostInstance:ts.findFiberByHostInstance||vw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$o.isDisabled&&$o.supportsFiber)try{Dd=$o.inject(Ew),hr=$o}catch{}}Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ww;Mt.createPortal=K_;Mt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):Error(H(268,Object.keys(t)));return t=zg(e),t=t===null?null:t.stateNode,t};Mt.flushSync=function(t,e){var n=ie;if(n&48)return t(e);ie|=1;try{if(t)return _r(99,t.bind(null,e))}finally{ie=n,rn()}};Mt.hydrate=function(t,e,n){if(!so(e))throw Error(H(200));return cu(null,t,e,!0,n)};Mt.render=function(t,e,n){if(!so(e))throw Error(H(200));return cu(null,t,e,!1,n)};Mt.unmountComponentAtNode=function(t){if(!so(t))throw Error(H(40));return t._reactRootContainer?(B_(function(){cu(null,null,t,!1,function(){t._reactRootContainer=null,t[Ti]=null})}),!0):!1};Mt.unstable_batchedUpdates=F_;Mt.unstable_createPortal=function(t,e){return K_(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Mt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!so(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return cu(t,e,n,!1,r)};Mt.version="17.0.2";function Q_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q_)}catch(t){console.error(t)}}Q_(),wg.exports=Mt;var Tw=wg.exports;const Sw=Js(Tw);function kw(t){const e=t.notes.map((n,r)=>je.jsx("div",{children:je.jsxs("div",{className:`title ${n.id===t.currentNote.id?"selected-note":""}`,onClick:()=>t.setCurrentNoteId(n.id),children:[je.jsx("h4",{className:"text-snippet",children:n.body.split(`
`)[0]}),je.jsx("button",{className:"delete-btn",onClick:()=>t.deleteNote(n.id),children:je.jsx("i",{className:"gg-trash trash-icon"})})]})},n.id));return je.jsxs("section",{className:"pane sidebar",children:[je.jsxs("div",{className:"sidebar--header",children:[je.jsx("h3",{children:"Notes"}),je.jsx("button",{className:"new-note",onClick:t.newNote,children:"+"})]}),e]})}var Nl={},ze={};Object.defineProperty(ze,"__esModule",{value:!0});ze.getBreaksNeededForEmptyLineAfter=ze.getBreaksNeededForEmptyLineBefore=ze.selectWord=ze.getSurroundingWord=void 0;function Y_(t,e){if(!t)throw Error("Argument 'text' should be truthy");for(var n=function(o){return o===" "||o.charCodeAt(0)===10},r=0,i=t.length,s=e;s-1>-1;s--)if(n(t[s-1])){r=s;break}for(var s=e;s<t.length;s++)if(n(t[s])){i=s;break}return{start:r,end:i}}ze.getSurroundingWord=Y_;function Cw(t){var e=t.text,n=t.selection;return e&&e.length&&n.start===n.end?Y_(e,n.start):n}ze.selectWord=Cw;function Aw(t,e){if(t===void 0&&(t=""),e===0)return 0;for(var n=2,r=!0,i=e-1;i>=0&&n>=0;i--)switch(t.charCodeAt(i)){case 32:continue;case 10:n--,r=!1;break;default:return n}return r?0:n}ze.getBreaksNeededForEmptyLineBefore=Aw;function Iw(t,e){if(t===void 0&&(t=""),e===t.length-1)return 0;for(var n=2,r=!0,i=e;i<t.length&&n>=0;i++)switch(t.charCodeAt(i)){case 32:continue;case 10:{n--,r=!1;break}default:return n}return r?0:n}ze.getBreaksNeededForEmptyLineAfter=Iw;var Vl={},oo={},yn={};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/Object.defineProperty(yn,"__esModule",{value:!0});yn.classNames=void 0;function Pw(t){return typeof t=="string"}function bw(t){return Array.isArray(t)&&t.length>0}function Rw(t){return typeof t=="object"}function X_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0;r<t.length;r++){var i=t[r];if(i){if(Pw(i))n.push(i);else if(bw(i)){var s=X_.apply(null,i);s&&n.push(s)}else if(Rw(i))for(var o in i)i.hasOwnProperty(o)&&i[o]&&n.push(o)}}return n.join(" ")}yn.classNames=X_;Object.defineProperty(oo,"__esModule",{value:!0});oo.ToolbarButtonGroup=void 0;var Dw=Vt,Nw=yn,Vw=function(t){return Dw.createElement("ul",{className:Nw.classNames("mde-header-group",{hidden:t.hidden})},t.children)};oo.ToolbarButtonGroup=Vw;var ao={},Wr=le&&le.__assign||function(){return Wr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Wr.apply(this,arguments)};Object.defineProperty(ao,"__esModule",{value:!0});ao.ToolbarButton=void 0;var Kp=Vt,Mw={tabIndex:-1},Ow=function(t){var e=t.buttonComponentClass,n=t.buttonContent,r=t.buttonProps,i=t.onClick,s=t.readOnly,o=t.name,l=Wr(Wr({},Mw),r||{}),c=e||"button";return Kp.createElement("li",{className:"mde-header-item"},Kp.createElement(c,Wr(Wr({"data-name":o},l),{onClick:i,disabled:s,type:"button"}),n))};ao.ToolbarButton=Ow;var uo={};Object.defineProperty(uo,"__esModule",{value:!0});uo.MdeFontAwesomeIcon=void 0;var Lw=Vt,xw=function(t){var e=t.icon,n=e;switch(e){case"header":n="heading";break;case"quote":n="quote-right";break;case"unordered-list":n="tasks";break;case"ordered-list":n="list-ol";break;case"checked-list":n="tasks";break;default:n=e}return Lw.createElement("i",{className:"fas fa-"+n,"aria-hidden":"true"})};uo.MdeFontAwesomeIcon=xw;var du={},zw=le&&le.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(du,"__esModule",{value:!0});du.Preview=void 0;var Ho=Vt,jw=yn,Fw=function(t){zw(e,t);function e(n){var r=t.call(this,n)||this;return r.state={loading:!0},r}return e.prototype.componentDidMount=function(){this.generatePreview()},e.prototype.componentDidUpdate=function(n,r){this.props.markdown!==n.markdown&&this.generatePreview()},e.prototype.generatePreview=function(){var n=this,r=this.props,i=r.markdown,s=r.generateMarkdownPreview;s(i).then(function(o){n.setState({preview:o,loading:!1})})},e.prototype.render=function(){var n=this.props,r=n.classes,i=n.minHeight,s=n.loadingPreview,o=n.refObject,l=n.heightUnits,c=this.state,f=c.preview,w=c.loading,A=w?s:f,I;typeof A=="string"?I=Ho.createElement("div",{className:"mde-preview-content",dangerouslySetInnerHTML:{__html:A||"<p>&nbsp;</p>"},ref:o}):I=Ho.createElement("div",{className:"mde-preview-content"},A);var V=i&&l?i+10+l:i+10;return Ho.createElement("div",{className:jw.classNames("mde-preview",r,{loading:w}),style:{minHeight:V},"data-testid":"mde-preview"},I)},e}(Ho.Component);du.Preview=Fw;var fu={},hu={};Object.defineProperty(hu,"__esModule",{value:!0});hu.getCaretCoordinates=void 0;var Bw=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],J_=typeof window<"u",Uw=J_&&window.mozInnerScreenX!=null;function $w(t,e){if(!J_)throw new Error("getCaretCoordinates should only be called in a browser");var n=document.createElement("div");n.id="input-textarea-caret-position-mirror-div",document.body.appendChild(n);var r=n.style,i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle;r.whiteSpace="pre-wrap",r.wordWrap="break-word",r.position="absolute",r.visibility="hidden",Bw.forEach(function(l){r[l]=i[l]}),Uw?t.scrollHeight>parseInt(i.height)&&(r.overflowY="scroll"):r.overflow="hidden",n.textContent=t.value.substring(0,t.selectionStart),e&&(n.textContent+=e);var s=document.createElement("span");s.textContent=t.value.substring(t.selectionEnd)||".",n.appendChild(s);var o={top:s.offsetTop+parseInt(i.borderTopWidth),left:s.offsetLeft+parseInt(i.borderLeftWidth),lineHeight:parseInt(i.lineHeight)};return document.body.removeChild(n),o}hu.getCaretCoordinates=$w;var lo={};/*!
 * The MIT License
   Copyright (c) 2018 Dmitriy Kubyshkin
   Copied from https://github.com/grassator/insert-text-at-cursor
 */Object.defineProperty(lo,"__esModule",{value:!0});lo.insertText=void 0;function Hw(t,e){if(t.focus(),document.selection){var n=document.selection.createRange();n.text=e,n.collapse(!1),n.select();return}var r=document.execCommand("insertText",!1,e);if(!r){var i=t.selectionStart,s=t.selectionEnd;if(typeof t.setRangeText=="function")t.setRangeText(e);else if(qw(t)){var o=document.createTextNode(e),l=t.firstChild;if(!l)t.appendChild(o);else{for(var c=0,f=null,w=null,A=document.createRange();l&&(f===null||w===null);){var I=l.nodeValue.length;i>=c&&i<=c+I&&A.setStart(f=l,i-c),s>=c&&s<=c+I&&A.setEnd(w=l,s-c),c+=I,l=l.nextSibling}i!==s&&A.deleteContents(),A.insertNode(o)}}else{var V=t.value;t.value=V.slice(0,i)+e+V.slice(s)}t.setSelectionRange(i+e.length,i+e.length);var M=document.createEvent("UIEvent");M.initEvent("input",!0,!1),t.dispatchEvent(M)}}lo.insertText=Hw;function qw(t){if(t.nodeName!=="TEXTAREA")return!1;var e;if(typeof e>"u"){var n=document.createElement("textarea");n.value="1",e=!!n.firstChild}return e}var pu={};Object.defineProperty(pu,"__esModule",{value:!0});pu.mod=void 0;function Ww(t,e){return(t%e+e)%e}pu.mod=Ww;var co={};Object.defineProperty(co,"__esModule",{value:!0});co.SuggestionsDropdown=void 0;var Qp=Vt,Gw=yn,Kw=function(t){var e=t.classes,n=t.suggestions,r=t.caret,i=t.onSuggestionSelected,s=t.suggestionsAutoplace,o=t.focusIndex,l=t.textAreaRef,c=function(D){D.preventDefault();var C=parseInt(D.currentTarget.attributes["data-index"].value);i(C)},f=function(D){return D.preventDefault()},w=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),A=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),I=r.left-l.current.scrollLeft,V=r.top-l.current.scrollTop,M={};return s&&V+l.current.getBoundingClientRect().top>A/2?M.bottom=l.current.offsetHeight-V:M.top=V,s&&I+l.current.getBoundingClientRect().left>w/2?M.right=l.current.offsetWidth-I:M.left=I,Qp.createElement("ul",{className:Gw.classNames("mde-suggestions",e),style:M},n.map(function(D,C){return Qp.createElement("li",{onClick:c,onMouseDown:f,key:C,"aria-selected":o===C?"true":"false","data-index":""+C},D.preview)}))};co.SuggestionsDropdown=Kw;var Qw=le&&le.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tt=le&&le.__assign||function(){return Tt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Tt.apply(this,arguments)};Object.defineProperty(fu,"__esModule",{value:!0});fu.TextArea=void 0;var qo=Vt,Yw=yn,Xw=hu,Jw=lo,Zw=pu,e3=co,t3=function(t){Qw(e,t);function e(n){var r=t.call(this,n)||this;return r.currentLoadSuggestionsPromise=Promise.resolve(void 0),r.suggestionsPromiseIndex=0,r.getTextArea=function(){return r.props.refObject.current},r.handleOnChange=function(i){var s=r.props.onChange;s(i.target.value)},r.handleBlur=function(){var i=r.state.mention;i&&r.setState({mention:{status:"inactive",suggestions:[]}})},r.startLoadingSuggestions=function(i){var s=++r.suggestionsPromiseIndex,o=r.props.loadSuggestions;r.currentLoadSuggestionsPromise=r.currentLoadSuggestionsPromise.then(function(){return o(i,r.state.mention.triggeredBy)}).then(function(l){if(r.state.mention.status!=="inactive")return r.suggestionsPromiseIndex===s&&(!l||!l.length?r.setState({mention:{status:"inactive",suggestions:[]}}):r.setState({mention:Tt(Tt({},r.state.mention),{status:"active",suggestions:l,focusIndex:0})}),r.suggestionsPromiseIndex=0),Promise.resolve()})},r.loadEmptySuggestion=function(i,s){var o=Xw.getCaretCoordinates(i,s);r.startLoadingSuggestions(""),r.setState({mention:{status:"loading",startPosition:i.selectionStart+1,caret:o,suggestions:[],triggeredBy:s}})},r.handleSuggestionSelected=function(i){var s=r.state.mention;r.getTextArea().selectionStart=s.startPosition-1,r.props.value.substr(r.getTextArea().selectionStart,r.getTextArea().selectionEnd-r.getTextArea().selectionStart),Jw.insertText(r.getTextArea(),s.suggestions[i].value+" "),r.setState({mention:{status:"inactive",suggestions:[]}})},r.handleKeyDown=function(i){if(r.props.onPossibleKeyCommand){var s=r.props.onPossibleKeyCommand(i);if(s){i.preventDefault(),r.suggestionsPromiseIndex=0,r.setState({mention:{status:"inactive",suggestions:[]}});return}}if(r.suggestionsEnabled()){var o=i.key,l=i.shiftKey,c=i.currentTarget,f=c.selectionStart,w=r.state.mention;switch(w.status){case"loading":case"active":if(o==="Escape"||o==="Backspace"&&f<=r.state.mention.startPosition)r.suggestionsPromiseIndex=0,r.setState({mention:{status:"inactive",suggestions:[]}});else if(w.status==="active"&&(o==="ArrowUp"||o==="ArrowDown")&&!l){i.preventDefault();var A=o==="ArrowUp"?-1:1;r.setState({mention:Tt(Tt({},w),{focusIndex:Zw.mod(w.focusIndex+A,w.suggestions.length)})})}else o==="Enter"&&w.status==="active"&&w.suggestions.length&&(i.preventDefault(),r.handleSuggestionSelected(w.focusIndex));break}}},r.handleKeyUp=function(i){var s=i.key,o=r.state.mention,l=r.props,c=l.suggestionTriggerCharacters,f=l.value;switch(o.status){case"loading":case"active":if(s==="Backspace"){var w=f.substr(o.startPosition,r.getTextArea().selectionStart-o.startPosition);r.startLoadingSuggestions(w),o.status!=="loading"&&r.setState({mention:Tt(Tt({},r.state.mention),{status:"loading"})})}break;case"inactive":if(s==="Backspace"){var A=f.charAt(r.getTextArea().selectionStart-1),I=c.includes(f.charAt(r.getTextArea().selectionStart-1));I&&r.loadEmptySuggestion(i.currentTarget,A)}break}},r.handleKeyPress=function(i){var s=r.props,o=s.suggestionTriggerCharacters,l=s.value,c=r.state.mention,f=i.key;switch(c.status){case"loading":case"active":if(f===" "){r.setState({mention:Tt(Tt({},r.state.mention),{status:"inactive"})});return}var w=l.substr(c.startPosition,r.getTextArea().selectionStart-c.startPosition)+f;r.startLoadingSuggestions(w),c.status!=="loading"&&r.setState({mention:Tt(Tt({},r.state.mention),{status:"loading"})});break;case"inactive":if(o.indexOf(i.key)===-1||!/\s|\(|\[|^.{0}$/.test(l.charAt(r.getTextArea().selectionStart-1)))return;r.loadEmptySuggestion(i.currentTarget,i.key);break}},r.state={mention:{status:"inactive",suggestions:[]}},r}return e.prototype.suggestionsEnabled=function(){return this.props.suggestionTriggerCharacters&&this.props.suggestionTriggerCharacters.length&&this.props.loadSuggestions},e.prototype.render=function(){var n=this,r=this.props,i=r.classes,s=r.readOnly,o=r.textAreaProps,l=r.height,c=r.heightUnits,f=r.value,w=r.suggestionTriggerCharacters,A=r.loadSuggestions,I=r.suggestionsDropdownClasses,V=r.textAreaComponent,M=r.onPaste,D=r.onDrop,C=w&&w.length&&A,S=this.state.mention,P=V||"textarea",N=l&&c?l+c:l;return qo.createElement("div",{className:"mde-textarea-wrapper"},qo.createElement(P,Tt({className:Yw.classNames("mde-text",i),style:{height:N},ref:this.props.refObject,readOnly:s,value:f,"data-testid":"text-area"},o,{onChange:function(u){var p;(p=o==null?void 0:o.onChange)===null||p===void 0||p.call(o,u),n.handleOnChange(u)},onBlur:function(u){var p;(p=o==null?void 0:o.onBlur)===null||p===void 0||p.call(o,u),C&&n.handleBlur()},onKeyDown:function(u){var p;(p=o==null?void 0:o.onKeyDown)===null||p===void 0||p.call(o,u),n.handleKeyDown(u)},onKeyUp:function(u){var p;(p=o==null?void 0:o.onKeyUp)===null||p===void 0||p.call(o,u),C&&n.handleKeyUp(u)},onKeyPress:function(u){var p;(p=o==null?void 0:o.onKeyPress)===null||p===void 0||p.call(o,u),C&&n.handleKeyPress(u)},onPaste:function(u){var p;(p=o==null?void 0:o.onPaste)===null||p===void 0||p.call(o,u),M(u)},onDragOver:function(u){u.preventDefault(),u.stopPropagation()},onDrop:function(u){var p;(p=o==null?void 0:o.onDrop)===null||p===void 0||p.call(o,u),D(u),u.preventDefault()}})),S.status==="active"&&S.suggestions.length&&qo.createElement(e3.SuggestionsDropdown,{classes:I,caret:S.caret,suggestions:S.suggestions,onSuggestionSelected:this.handleSuggestionSelected,suggestionsAutoplace:this.props.suggestionsAutoplace,focusIndex:S.focusIndex,textAreaRef:this.props.refObject}))},e}(qo.Component);fu.TextArea=t3;var mu={},n3=le&&le.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gr=le&&le.__assign||function(){return Gr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Gr.apply(this,arguments)};Object.defineProperty(mu,"__esModule",{value:!0});mu.Toolbar=void 0;var ir=Vt,Ml=yn,r3=oo,i3=ao,s3=function(t){n3(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleTabChange=function(r){var i=n.props.onTabChange;i(r)},n}return e.prototype.render=function(){var n=this,r=this.props.l18n,i=this.props,s=i.classes,o=i.children,l=i.buttons,c=i.onCommand,f=i.readOnly,w=i.disablePreview,A=i.writeButtonProps,I=i.previewButtonProps,V=i.buttonProps;if((!l||l.length===0)&&!o)return null;var M=ir.createElement("div",{className:"mde-tabs"},ir.createElement("button",Gr({type:"button",className:Ml.classNames({selected:this.props.tab==="write"}),onClick:function(){return n.handleTabChange("write")}},A),r.write),ir.createElement("button",Gr({type:"button",className:Ml.classNames({selected:this.props.tab==="preview"}),onClick:function(){return n.handleTabChange("preview")}},I),r.preview));return ir.createElement("div",{className:Ml.classNames("mde-header",s)},!w&&M,l.map(function(D,C){return ir.createElement(r3.ToolbarButtonGroup,{key:C,hidden:n.props.tab==="preview"},D.map(function(S,P){return ir.createElement(i3.ToolbarButton,{key:P,name:S.commandName,buttonContent:S.buttonContent,buttonProps:Gr(Gr({},V||{}),S.buttonProps),onClick:function(){return c(S.commandName)},readOnly:f,buttonComponentClass:S.buttonComponentClass})}))}))},e}(ir.Component);mu.Toolbar=s3;var ns={},Jt={},gu={};Object.defineProperty(gu,"__esModule",{value:!0});gu.headerCommand=void 0;var o3=ze;function a3(t,e,n){var r=o3.selectWord({text:t.text,selection:t.selection}),i=e.setSelectionRange(r),s=e.replaceSelection(""+n+i.selectedText);e.setSelectionRange({start:s.selection.end-i.selectedText.length,end:s.selection.end})}gu.headerCommand={buttonProps:{"aria-label":"Add header"},execute:function(t){var e=t.initialState,n=t.textApi;a3(e,n,"### ")}};var _u={};Object.defineProperty(_u,"__esModule",{value:!0});_u.boldCommand=void 0;var u3=ze;_u.boldCommand={buttonProps:{"aria-label":"Add bold text"},execute:function(t){var e=t.initialState,n=t.textApi,r=u3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("**"+i.selectedText+"**");n.setSelectionRange({start:s.selection.end-2-i.selectedText.length,end:s.selection.end-2})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="b"}};var vu={};Object.defineProperty(vu,"__esModule",{value:!0});vu.italicCommand=void 0;var l3=ze;vu.italicCommand={buttonProps:{"aria-label":"Add italic text"},execute:function(t){var e=t.initialState,n=t.textApi,r=l3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("*"+i.selectedText+"*");n.setSelectionRange({start:s.selection.end-1-i.selectedText.length,end:s.selection.end-1})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="i"}};var yu={};Object.defineProperty(yu,"__esModule",{value:!0});yu.strikeThroughCommand=void 0;var c3=ze;yu.strikeThroughCommand={buttonProps:{"aria-label":"Add strikethrough text"},execute:function(t){var e=t.initialState,n=t.textApi,r=c3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("~~"+i.selectedText+"~~");n.setSelectionRange({start:s.selection.end-2-i.selectedText.length,end:s.selection.end-2})}};var wu={};Object.defineProperty(wu,"__esModule",{value:!0});wu.linkCommand=void 0;var d3=ze;wu.linkCommand={buttonProps:{"aria-label":"Add a link"},execute:function(t){var e=t.initialState,n=t.textApi,r=d3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("["+i.selectedText+"](url)");n.setSelectionRange({start:s.selection.end-6-i.selectedText.length,end:s.selection.end-6})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="k"}};var Eu={};Object.defineProperty(Eu,"__esModule",{value:!0});Eu.quoteCommand=void 0;var Ol=ze;Eu.quoteCommand={buttonProps:{"aria-label":"Insert a quote"},execute:function(t){var e=t.initialState,n=t.textApi,r=Ol.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=Ol.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),o=Array(s+1).join(`
`),l=Ol.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),c=Array(l+1).join(`
`);n.replaceSelection(o+"> "+i.selectedText+c);var f=i.selection.start+s+2,w=f+i.selectedText.length;n.setSelectionRange({start:f,end:w})}};var Tu={};Object.defineProperty(Tu,"__esModule",{value:!0});Tu.codeCommand=void 0;var Ll=ze;Tu.codeCommand={buttonProps:{"aria-label":"Insert code"},execute:function(t){var e=t.initialState,n=t.textApi,r=Ll.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r);if(i.selectedText.indexOf(`
`)===-1){n.replaceSelection("`"+i.selectedText+"`");var s=i.selection.start+1,o=s+i.selectedText.length;n.setSelectionRange({start:s,end:o});return}var l=Ll.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),c=Array(l+1).join(`
`),f=Ll.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),w=Array(f+1).join(`
`);n.replaceSelection(c+"```\n"+i.selectedText+"\n```"+w);var A=i.selection.start+l+4,I=A+i.selectedText.length;n.setSelectionRange({start:A,end:I})}};var Z_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkedListCommand=t.orderedListCommand=t.unorderedListCommand=t.makeList=t.insertBeforeEachLine=void 0;var e=ze;function n(i,s){var o=i.split(/\n/),l=0,c=o.map(function(f,w){if(typeof s=="string")return l+=s.length,s+f;if(typeof s=="function"){var A=s(f,w);return l+=A.length,s(f,w)+f}throw Error("insertion is expected to be either a string or a function")}).join(`
`);return{modifiedText:c,insertionLength:l}}t.insertBeforeEachLine=n;var r=function(i,s,o){var l=e.selectWord({text:i.text,selection:i.selection}),c=s.setSelectionRange(l),f=e.getBreaksNeededForEmptyLineBefore(c.text,c.selection.start),w=Array(f+1).join(`
`),A=e.getBreaksNeededForEmptyLineAfter(c.text,c.selection.end),I=Array(A+1).join(`
`),V=n(c.selectedText,o);s.replaceSelection(""+w+V.modifiedText+I);var M=c.selectedText.indexOf(`
`)===-1?V.insertionLength:0,D=c.selection.start+f+M,C=D+V.modifiedText.length-M;s.setSelectionRange({start:D,end:C})};t.makeList=r,t.unorderedListCommand={buttonProps:{"aria-label":"Add unordered list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,"- ")}},t.orderedListCommand={buttonProps:{"aria-label":"Add ordered list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,function(l,c){return c+1+". "})}},t.checkedListCommand={buttonProps:{"aria-label":"Add checked list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,function(l,c){return"- [ ] "})}}})(Z_);var Su={};Object.defineProperty(Su,"__esModule",{value:!0});Su.imageCommand=void 0;var f3=ze;Su.imageCommand={buttonProps:{"aria-label":"Add image"},execute:function(t){var e=t.initialState,n=t.textApi,r=n.setSelectionRange(f3.selectWord({text:e.text,selection:e.selection})),i=r.selectedText||"https://example.com/your-image.png";n.replaceSelection("![]("+i+")"),n.setSelectionRange({start:r.selection.start+4,end:r.selection.start+4+i.length})}};var ku={},Cu={},h3=le&&le.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(w){try{f(r.next(w))}catch(A){o(A)}}function c(w){try{f(r.throw(w))}catch(A){o(A)}}function f(w){w.done?s(w.value):i(w.value).then(l,c)}f((r=r.apply(t,e||[])).next())})},p3=le&&le.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(f){return function(w){return c([f,w])}}function c(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(w){f=[6,w],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}};Object.defineProperty(Cu,"__esModule",{value:!0});Cu.readFileAsync=void 0;function m3(t){return h3(this,void 0,void 0,function(){return p3(this,function(e){return[2,new Promise(function(n,r){var i=new FileReader;i.onload=function(){if(typeof i.result=="string")throw new Error("reader.result is expected to be an ArrayBuffer");n(i.result)},i.onerror=r,i.readAsArrayBuffer(t)})]})})}Cu.readFileAsync=m3;var g3=le&&le.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(w){try{f(r.next(w))}catch(A){o(A)}}function c(w){try{f(r.throw(w))}catch(A){o(A)}}function f(w){w.done?s(w.value):i(w.value).then(l,c)}f((r=r.apply(t,e||[])).next())})},_3=le&&le.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(f){return function(w){return c([f,w])}}function c(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(w){f=[6,w],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}};Object.defineProperty(ku,"__esModule",{value:!0});ku.saveImageCommand=void 0;var v3=Cu,y3=ze;function Yp(t){var e=[];for(var n in t){var r=t[n];r.kind==="file"&&e.push(r.getAsFile())}return e}function w3(t){for(var e=[],n=0;n<t.length;n++)e.push(t[0]);return e}function E3(t,e){var n=e.multiple,r=e.accept,i=t;if(n||(i=i.slice(0,1)),r){var s=r.split(","),o=new Set(s.filter(function(f){return/^\.\w+/.test(f)}).map(function(f){return f.split(".")[1]})),l=new Set(s.filter(function(f){return/^[-\w.]+\/[-\w.]+$/.test(f)})),c=new Set(s.filter(function(f){return/(audio|video|image)\/\*/.test(f)}).map(function(f){return f.split("/")[0]}));i=i.filter(function(f){return o.has(f.name.split(".")[1])||l.has(f.type)||c.has(f.type.split("/")[0])})}return i}ku.saveImageCommand={execute:function(t){t.initialState;var e=t.textApi,n=t.context,r=t.l18n;return g3(this,void 0,void 0,function(){var i,s,o,l,c,f,w,A,I,V,M,D,C,S,P,N,u,p,h,m,g,v,y,E;return _3(this,function(b){switch(b.label){case 0:if(!n)throw new Error("wrong context");i=n,s=i.event,o=i.pasteOptions,l=o.saveImage,c=o.multiple,f=o.accept,w=T3(n)?Yp(s.clipboardData.items):S3(n)?Yp(s.dataTransfer.items):w3(s.target.files),A=E3(w,{multiple:c,accept:f}),I=[];for(V in A)I.push(V);M=0,b.label=1;case 1:return M<I.length?(D=I[M],C=e.getState(),S=y3.getBreaksNeededForEmptyLineBefore(C.text,C.selection.start),P=Array(S+1).join(`
`),N=P+"!["+r.uploadingImage+"]()",e.replaceSelection(N),u=w[D],[4,v3.readFileAsync(u)]):[3,5];case 2:return p=b.sent(),h=l(p,u),[4,h.next()];case 3:m=b.sent().value,g=e.getState(),v=g.text.substr(C.selection.start,N.length),v===N&&(e.setSelectionRange({start:C.selection.start,end:C.selection.start+N.length}),y=m?P+"![image]("+m+")":"",E=y.length-N.length,e.replaceSelection(y),e.setSelectionRange({start:g.selection.start+E,end:g.selection.end+E})),b.label=4;case 4:return M++,[3,1];case 5:return[2]}})})}};function T3(t){return t.event.clipboardData!==void 0}function S3(t){return t.event.dataTransfer!==void 0}Object.defineProperty(Jt,"__esModule",{value:!0});Jt.getDefaultSaveImageCommandName=Jt.getDefaultCommandMap=Jt.getDefaultToolbarCommands=void 0;var k3=gu,C3=_u,A3=vu,I3=yu,P3=wu,b3=Eu,R3=Tu,xl=Z_,D3=Su,N3=ku;function V3(){return[["header","bold","italic","strikethrough"],["link","quote","code","image"],["unordered-list","ordered-list","checked-list"]]}Jt.getDefaultToolbarCommands=V3;function M3(){return{header:k3.headerCommand,bold:C3.boldCommand,italic:A3.italicCommand,strikethrough:I3.strikeThroughCommand,link:P3.linkCommand,quote:b3.quoteCommand,code:R3.codeCommand,image:D3.imageCommand,"unordered-list":xl.unorderedListCommand,"ordered-list":xl.orderedListCommand,"checked-list":xl.checkedListCommand,"save-image":N3.saveImageCommand}}Jt.getDefaultCommandMap=M3;function O3(){return"save-image"}Jt.getDefaultSaveImageCommandName=O3;var Au={};Object.defineProperty(Au,"__esModule",{value:!0});Au.enL18n=void 0;Au.enL18n={write:"Write",preview:"Preview",uploadingImage:"Uploading image...",pasteDropSelect:"Attach files by dragging & dropping, selecting or pasting them."};var Jd={},Iu={};Object.defineProperty(Iu,"__esModule",{value:!0});Iu.SvgIcon=void 0;var Me=Vt,L3=Me.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"tasks",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Me.createElement("path",{fill:"currentColor",d:"M208 132h288c8.8 0 16-7.2 16-16V76c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zM64 368c-26.5 0-48.6 21.5-48.6 48s22.1 48 48.6 48 48-21.5 48-48-21.5-48-48-48zm92.5-299l-72.2 72.2-15.6 15.6c-4.7 4.7-12.9 4.7-17.6 0L3.5 109.4c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.3c4.7-4.7 12.3-4.7 17 0l17 16.5c4.6 4.7 4.6 12.3-.1 17zm0 159.6l-72.2 72.2-15.7 15.7c-4.7 4.7-12.9 4.7-17.6 0L3.5 269c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.7c4.7-4.7 12.3-4.7 17 0l17 17c4.6 4.6 4.6 12.2-.1 16.9z"})),x3=Me.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ol",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Me.createElement("path",{fill:"currentColor",d:"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),z3=Me.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ul",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Me.createElement("path",{fill:"currentColor",d:"M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),j3=Me.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"image",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Me.createElement("path",{fill:"currentColor",d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"})),F3=Me.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"code",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512","data-fa-i2svg":""},Me.createElement("path",{fill:"currentColor",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})),B3=Me.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"quote-right",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Me.createElement("path",{fill:"currentColor",d:"M512 80v128c0 137.018-63.772 236.324-193.827 271.172-15.225 4.08-30.173-7.437-30.173-23.199v-33.895c0-10.057 6.228-19.133 15.687-22.55C369.684 375.688 408 330.054 408 256h-72c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h128c26.51 0 48 21.49 48 48zM176 32H48C21.49 32 0 53.49 0 80v128c0 26.51 21.49 48 48 48h72c0 74.054-38.316 119.688-104.313 143.528C6.228 402.945 0 412.021 0 422.078v33.895c0 15.762 14.948 27.279 30.173 23.199C160.228 444.324 224 345.018 224 208V80c0-26.51-21.49-48-48-48z"})),U3=Me.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"link",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Me.createElement("path",{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"})),$3=Me.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"strikethrough",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Me.createElement("path",{fill:"currentColor",d:"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z"})),H3=Me.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"italic",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512","data-fa-i2svg":""},Me.createElement("path",{fill:"currentColor",d:"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z"})),q3=Me.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"heading",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Me.createElement("path",{fill:"currentColor",d:"M496 80V48c0-8.837-7.163-16-16-16H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.621v128H154.379V96H192c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.275v320H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.621V288H357.62v128H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.275V96H480c8.837 0 16-7.163 16-16z"})),W3=Me.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"bold",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512","data-fa-i2svg":""},Me.createElement("path",{fill:"currentColor",d:"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z"})),G3=function(t){var e=t.icon;switch(e){case"header":return q3;case"bold":return W3;case"italic":return H3;case"strikethrough":return $3;case"link":return U3;case"quote":return B3;case"code":return F3;case"image":return j3;case"unordered-list":return z3;case"ordered-list":return x3;case"checked-list":return L3;default:return null}};Iu.SvgIcon=G3;(function(t){var e=le&&le.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=le&&le.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(uo,t),n(Iu,t)})(Jd);var an={},Pu={};Object.defineProperty(Pu,"__esModule",{value:!0});Pu.extractKeyActivatedCommands=void 0;function K3(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&t[n].handleKeyCommand&&e.push(n);return e}Pu.extractKeyActivatedCommands=K3;var Xp;function Q3(){if(Xp)return an;Xp=1;var t=le&&le.__assign||function(){return t=Object.assign||function(w){for(var A,I=1,V=arguments.length;I<V;I++){A=arguments[I];for(var M in A)Object.prototype.hasOwnProperty.call(A,M)&&(w[M]=A[M])}return w},t.apply(this,arguments)},e=le&&le.__awaiter||function(w,A,I,V){function M(D){return D instanceof I?D:new I(function(C){C(D)})}return new(I||(I=Promise))(function(D,C){function S(u){try{N(V.next(u))}catch(p){C(p)}}function P(u){try{N(V.throw(u))}catch(p){C(p)}}function N(u){u.done?D(u.value):M(u.value).then(S,P)}N((V=V.apply(w,A||[])).next())})},n=le&&le.__generator||function(w,A){var I={label:0,sent:function(){if(D[0]&1)throw D[1];return D[1]},trys:[],ops:[]},V,M,D,C;return C={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function S(N){return function(u){return P([N,u])}}function P(N){if(V)throw new TypeError("Generator is already executing.");for(;I;)try{if(V=1,M&&(D=N[0]&2?M.return:N[0]?M.throw||((D=M.return)&&D.call(M),0):M.next)&&!(D=D.call(M,N[1])).done)return D;switch(M=0,D&&(N=[N[0]&2,D.value]),N[0]){case 0:case 1:D=N;break;case 4:return I.label++,{value:N[1],done:!1};case 5:I.label++,M=N[1],N=[0];continue;case 7:N=I.ops.pop(),I.trys.pop();continue;default:if(D=I.trys,!(D=D.length>0&&D[D.length-1])&&(N[0]===6||N[0]===2)){I=0;continue}if(N[0]===3&&(!D||N[1]>D[0]&&N[1]<D[3])){I.label=N[1];break}if(N[0]===6&&I.label<D[1]){I.label=D[1],D=N;break}if(D&&I.label<D[2]){I.label=D[2],I.ops.push(N);break}D[2]&&I.ops.pop(),I.trys.pop();continue}N=A.call(w,I)}catch(u){N=[6,u],M=0}finally{V=D=0}if(N[0]&5)throw N[1];return{value:N[0]?N[1]:void 0,done:!0}}};Object.defineProperty(an,"__esModule",{value:!0}),an.CommandOrchestrator=an.getStateFromTextArea=an.TextAreaTextApi=void 0;var r=tv(),i=lo,s=Pu,o=Jt,l=function(){function w(A){this.textAreaRef=A}return w.prototype.replaceSelection=function(A){var I=this.textAreaRef.current;return i.insertText(I,A),c(I)},w.prototype.setSelectionRange=function(A){var I=this.textAreaRef.current;return I.focus(),I.selectionStart=A.start,I.selectionEnd=A.end,c(I)},w.prototype.getState=function(){var A=this.textAreaRef.current;return c(A)},w}();an.TextAreaTextApi=l;function c(w){return{selection:{start:w.selectionStart,end:w.selectionEnd},text:w.value,selectedText:w.value.slice(w.selectionStart,w.selectionEnd)}}an.getStateFromTextArea=c;var f=function(){function w(A,I,V,M){var D=this;if(this.getCommand=function(C){var S=D.commandMap[C];if(!S)throw new Error("Cannot execute command. Command not found: "+C);return S},this.handlePossibleKeyCommand=function(C){for(var S=0,P=D.keyActivatedCommands;S<P.length;S++){var N=P[S];if(D.getCommand(N).handleKeyCommand(C))return D.executeCommand(N).then(function(u){}),!0}return!1},M&&!M.saveImage)throw new Error("paste options are incomplete. saveImage are required ");this.commandMap=t(t({},r.getDefaultCommandMap()),A||{}),this.pasteOptions=M,this.keyActivatedCommands=s.extractKeyActivatedCommands(A),this.textAreaRef=I,this.textApi=new l(I),this.l18n=V}return w.prototype.executeCommand=function(A,I){return e(this,void 0,void 0,function(){var V,M;return n(this,function(D){switch(D.label){case 0:return this.isExecuting?[2]:(this.isExecuting=!0,V=this.commandMap[A],M=V.execute({initialState:c(this.textAreaRef.current),textApi:this.textApi,l18n:this.l18n,context:I}),[4,M]);case 1:return D.sent(),this.isExecuting=!1,[2]}})})},w.prototype.executePasteCommand=function(A){return e(this,void 0,void 0,function(){return n(this,function(I){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:A})]:[2]})})},w.prototype.executeDropCommand=function(A){return e(this,void 0,void 0,function(){return n(this,function(I){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:A})]:[2]})})},w.prototype.executeSelectImageCommand=function(A){return e(this,void 0,void 0,function(){return n(this,function(I){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:A})]:[2]})})},w.prototype.getCommandByName=function(A){return this.commandMap[A]},w}();return an.CommandOrchestrator=f,an}var Jp;function Y3(){if(Jp)return ns;Jp=1;var t=le&&le.__extends||function(){var V=function(M,D){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,S){C.__proto__=S}||function(C,S){for(var P in S)Object.prototype.hasOwnProperty.call(S,P)&&(C[P]=S[P])},V(M,D)};return function(M,D){if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");V(M,D);function C(){this.constructor=M}M.prototype=D===null?Object.create(D):(C.prototype=D.prototype,new C)}}(),e=le&&le.__assign||function(){return e=Object.assign||function(V){for(var M,D=1,C=arguments.length;D<C;D++){M=arguments[D];for(var S in M)Object.prototype.hasOwnProperty.call(M,S)&&(V[S]=M[S])}return V},e.apply(this,arguments)},n=le&&le.__awaiter||function(V,M,D,C){function S(P){return P instanceof D?P:new D(function(N){N(P)})}return new(D||(D=Promise))(function(P,N){function u(m){try{h(C.next(m))}catch(g){N(g)}}function p(m){try{h(C.throw(m))}catch(g){N(g)}}function h(m){m.done?P(m.value):S(m.value).then(u,p)}h((C=C.apply(V,M||[])).next())})},r=le&&le.__generator||function(V,M){var D={label:0,sent:function(){if(P[0]&1)throw P[1];return P[1]},trys:[],ops:[]},C,S,P,N;return N={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function u(h){return function(m){return p([h,m])}}function p(h){if(C)throw new TypeError("Generator is already executing.");for(;D;)try{if(C=1,S&&(P=h[0]&2?S.return:h[0]?S.throw||((P=S.return)&&P.call(S),0):S.next)&&!(P=P.call(S,h[1])).done)return P;switch(S=0,P&&(h=[h[0]&2,P.value]),h[0]){case 0:case 1:P=h;break;case 4:return D.label++,{value:h[1],done:!1};case 5:D.label++,S=h[1],h=[0];continue;case 7:h=D.ops.pop(),D.trys.pop();continue;default:if(P=D.trys,!(P=P.length>0&&P[P.length-1])&&(h[0]===6||h[0]===2)){D=0;continue}if(h[0]===3&&(!P||h[1]>P[0]&&h[1]<P[3])){D.label=h[1];break}if(h[0]===6&&D.label<P[1]){D.label=P[1],P=h;break}if(P&&D.label<P[2]){D.label=P[2],D.ops.push(h);break}P[2]&&D.ops.pop(),D.trys.pop();continue}h=M.call(V,D)}catch(m){h=[6,m],S=0}finally{C=P=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}};Object.defineProperty(ns,"__esModule",{value:!0}),ns.ReactMde=void 0;var i=Vt,s=ev(),o=Jt,l=Au,c=Jd,f=yn,w=Q3(),A={accept:"image/*",multiple:!1},I=function(V){t(M,V);function M(D){var C,S=V.call(this,D)||this;S.handleTextChange=function(N){var u=S.props.onChange;u(N)},S.handlePaste=function(N){return n(S,void 0,void 0,function(){var u;return r(this,function(p){switch(p.label){case 0:return u=this.props.paste,!u||!u.saveImage?[2]:[4,this.commandOrchestrator.executePasteCommand(N)];case 1:return p.sent(),[2]}})})},S.handleDrop=function(N){return n(S,void 0,void 0,function(){var u;return r(this,function(p){switch(p.label){case 0:return u=this.props.paste,!u||!u.saveImage?[2]:[4,this.commandOrchestrator.executeDropCommand(N)];case 1:return p.sent(),[2]}})})},S.handleImageSelection=function(N){return n(S,void 0,void 0,function(){var u;return r(this,function(p){switch(p.label){case 0:return u=this.props.paste,!u||!u.saveImage?[2]:[4,this.commandOrchestrator.executeSelectImageCommand(N)];case 1:return p.sent(),[2]}})})},S.handleTabChange=function(N){var u=S.props.onTabChange;u(N)},S.handleCommand=function(N){return n(S,void 0,void 0,function(){return r(this,function(u){switch(u.label){case 0:return[4,this.commandOrchestrator.executeCommand(N)];case 1:return u.sent(),[2]}})})},S.finalRefs=e({},D.refs||{}),S.finalRefs.textarea||(S.finalRefs.textarea=i.createRef()),S.finalRefs.preview||(S.finalRefs.preview=i.createRef()),S.commandOrchestrator=new w.CommandOrchestrator(S.props.commands,S.finalRefs.textarea,S.props.l18n,S.props.paste?e(e({},A),S.props.paste):void 0);var P=Math.min(D.maxEditorHeight,D.minEditorHeight);return S.state={editorHeight:(C=D.initialEditorHeight)!==null&&C!==void 0?C:P},S}return M.prototype.render=function(){var D=this,C,S,P=this.props,N=P.getIcon,u=P.toolbarCommands,p=P.classes,h=P.loadingPreview,m=P.readOnly,g=P.disablePreview,v=P.value,y=P.l18n,E=P.minPreviewHeight,b=P.heightUnits,T=P.childProps,z=P.selectedTab,F=P.generateMarkdownPreview,R=P.loadSuggestions,j=P.suggestionTriggerCharacters,K=P.textAreaComponent,X=T||{},ce=u.map(function(x){return x.map(function(Q){var Y=D.commandOrchestrator.getCommand(Q);return{commandName:Q,buttonContent:Y.icon?Y.icon(N):N(Q),buttonProps:Y.buttonProps,buttonComponentClass:Y.buttonComponentClass}})});return i.createElement("div",{className:f.classNames("react-mde","react-mde-tabbed-layout",p==null?void 0:p.reactMde)},i.createElement(s.Toolbar,{classes:p==null?void 0:p.toolbar,buttons:ce,onCommand:this.handleCommand,onTabChange:this.handleTabChange,tab:z,readOnly:m,disablePreview:g,l18n:y,buttonProps:X.commandButtons,writeButtonProps:X.writeButton,previewButtonProps:X.previewButton}),i.createElement("div",{className:f.classNames({invisible:z!=="write"})},i.createElement(s.TextArea,{classes:p==null?void 0:p.textArea,suggestionsDropdownClasses:p==null?void 0:p.suggestionsDropdown,suggestionsAutoplace:this.props.suggestionsAutoplace,refObject:this.finalRefs.textarea,onChange:this.handleTextChange,onPaste:this.handlePaste,onDrop:this.handleDrop,readOnly:m,textAreaComponent:K,textAreaProps:T&&T.textArea,height:this.state.editorHeight,heightUnits:this.props.heightUnits,value:v,suggestionTriggerCharacters:j,loadSuggestions:R,onPossibleKeyCommand:this.commandOrchestrator.handlePossibleKeyCommand}),this.props.paste&&i.createElement("label",{className:f.classNames("image-tip")},i.createElement("input",{className:f.classNames("image-input"),type:"file",accept:(C=this.props.paste.accept)!==null&&C!==void 0?C:A.accept,multiple:(S=this.props.paste.multiple)!==null&&S!==void 0?S:A.multiple,onChange:this.handleImageSelection}),i.createElement("span",null,y.pasteDropSelect))),z!=="write"&&i.createElement(s.Preview,{classes:p==null?void 0:p.preview,refObject:this.finalRefs.preview,loadingPreview:h,minHeight:E,heightUnits:b,generateMarkdownPreview:F,markdown:v}))},M.defaultProps={commands:o.getDefaultCommandMap(),toolbarCommands:o.getDefaultToolbarCommands(),getIcon:function(D){return i.createElement(c.SvgIcon,{icon:D})},readOnly:!1,l18n:l.enL18n,minEditorHeight:200,maxEditorHeight:500,minPreviewHeight:200,heightUnits:"px",selectedTab:"write",disablePreview:!1,suggestionTriggerCharacters:["@"],suggestionsAutoplace:!1},M}(i.Component);return ns.ReactMde=I,ns}var Zp;function ev(){return Zp||(Zp=1,function(t){var e=le&&le.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=le&&le.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(oo,t),n(ao,t),n(uo,t),n(du,t),n(fu,t),n(mu,t),n(Y3(),t),n(co,t)}(Vl)),Vl}var em;function tv(){return em||(em=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultToolbarCommands=t.getDefaultCommandMap=t.MdeFontAwesomeIcon=t.SvgIcon=t.MarkdownUtil=t.ToolbarButtonGroup=t.Toolbar=t.Preview=t.SuggestionsDropdown=t.TextArea=void 0;var e=ze;t.MarkdownUtil=e;var n=ev();Object.defineProperty(t,"TextArea",{enumerable:!0,get:function(){return n.TextArea}}),Object.defineProperty(t,"SuggestionsDropdown",{enumerable:!0,get:function(){return n.SuggestionsDropdown}}),Object.defineProperty(t,"Preview",{enumerable:!0,get:function(){return n.Preview}}),Object.defineProperty(t,"Toolbar",{enumerable:!0,get:function(){return n.Toolbar}}),Object.defineProperty(t,"ToolbarButtonGroup",{enumerable:!0,get:function(){return n.ToolbarButtonGroup}});var r=Jd;Object.defineProperty(t,"SvgIcon",{enumerable:!0,get:function(){return r.SvgIcon}}),Object.defineProperty(t,"MdeFontAwesomeIcon",{enumerable:!0,get:function(){return r.MdeFontAwesomeIcon}});var i=Jt;Object.defineProperty(t,"getDefaultCommandMap",{enumerable:!0,get:function(){return i.getDefaultCommandMap}}),Object.defineProperty(t,"getDefaultToolbarCommands",{enumerable:!0,get:function(){return i.getDefaultToolbarCommands}}),t.default=n.ReactMde}(Nl)),Nl}var X3=tv();const J3=Js(X3);var nv={exports:{}};(function(t){(function(){function e(u){var p={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,description:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,description:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,description:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,description:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},completeHTMLDocument:{defaultValue:!1,description:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,description:"Enable support for document metadata (defined at the top of the document between `` and `` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,description:"Split adjacent blockquote blocks",type:"boolean"}};if(u===!1)return JSON.parse(JSON.stringify(p));var h={};for(var m in p)p.hasOwnProperty(m)&&(h[m]=p[m].defaultValue);return h}function n(){var u=e(!0),p={};for(var h in u)u.hasOwnProperty(h)&&(p[h]=!0);return p}var r={},i={},s={},o=e(!0),l="vanilla",c={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:e(!0),allOn:n()};r.helper={},r.extensions={},r.setOption=function(u,p){return o[u]=p,this},r.getOption=function(u){return o[u]},r.getOptions=function(){return o},r.resetOptions=function(){o=e(!0)},r.setFlavor=function(u){if(!c.hasOwnProperty(u))throw Error(u+" flavor was not found");r.resetOptions();var p=c[u];l=u;for(var h in p)p.hasOwnProperty(h)&&(o[h]=p[h])},r.getFlavor=function(){return l},r.getFlavorOptions=function(u){if(c.hasOwnProperty(u))return c[u]},r.getDefaultOptions=function(u){return e(u)},r.subParser=function(u,p){if(r.helper.isString(u))if(typeof p<"u")i[u]=p;else{if(i.hasOwnProperty(u))return i[u];throw Error("SubParser named "+u+" not registered!")}},r.extension=function(u,p){if(!r.helper.isString(u))throw Error("Extension 'name' must be a string");if(u=r.helper.stdExtName(u),r.helper.isUndefined(p)){if(!s.hasOwnProperty(u))throw Error("Extension named "+u+" is not registered!");return s[u]}else{typeof p=="function"&&(p=p()),r.helper.isArray(p)||(p=[p]);var h=f(p,u);if(h.valid)s[u]=p;else throw Error(h.error)}},r.getAllExtensions=function(){return s},r.removeExtension=function(u){delete s[u]},r.resetExtensions=function(){s={}};function f(u,p){var h=p?"Error in "+p+" extension->":"Error in unnamed extension",m={valid:!0,error:""};r.helper.isArray(u)||(u=[u]);for(var g=0;g<u.length;++g){var v=h+" sub-extension "+g+": ",y=u[g];if(typeof y!="object")return m.valid=!1,m.error=v+"must be an object, but "+typeof y+" given",m;if(!r.helper.isString(y.type))return m.valid=!1,m.error=v+'property "type" must be a string, but '+typeof y.type+" given",m;var E=y.type=y.type.toLowerCase();if(E==="language"&&(E=y.type="lang"),E==="html"&&(E=y.type="output"),E!=="lang"&&E!=="output"&&E!=="listener")return m.valid=!1,m.error=v+"type "+E+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',m;if(E==="listener"){if(r.helper.isUndefined(y.listeners))return m.valid=!1,m.error=v+'. Extensions of type "listener" must have a property called "listeners"',m}else if(r.helper.isUndefined(y.filter)&&r.helper.isUndefined(y.regex))return m.valid=!1,m.error=v+E+' extensions must define either a "regex" property or a "filter" method',m;if(y.listeners){if(typeof y.listeners!="object")return m.valid=!1,m.error=v+'"listeners" property must be an object but '+typeof y.listeners+" given",m;for(var b in y.listeners)if(y.listeners.hasOwnProperty(b)&&typeof y.listeners[b]!="function")return m.valid=!1,m.error=v+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+b+" must be a function but "+typeof y.listeners[b]+" given",m}if(y.filter){if(typeof y.filter!="function")return m.valid=!1,m.error=v+'"filter" must be a function, but '+typeof y.filter+" given",m}else if(y.regex){if(r.helper.isString(y.regex)&&(y.regex=new RegExp(y.regex,"g")),!(y.regex instanceof RegExp))return m.valid=!1,m.error=v+'"regex" property must either be a string or a RegExp object, but '+typeof y.regex+" given",m;if(r.helper.isUndefined(y.replace))return m.valid=!1,m.error=v+'"regex" extensions must implement a replace string or function',m}}return m}r.validateExtension=function(u){var p=f(u,null);return p.valid?!0:(console.warn(p.error),!1)},r.hasOwnProperty("helper")||(r.helper={}),r.helper.isString=function(u){return typeof u=="string"||u instanceof String},r.helper.isFunction=function(u){var p={};return u&&p.toString.call(u)==="[object Function]"},r.helper.isArray=function(u){return Array.isArray(u)},r.helper.isUndefined=function(u){return typeof u>"u"},r.helper.forEach=function(u,p){if(r.helper.isUndefined(u))throw new Error("obj param is required");if(r.helper.isUndefined(p))throw new Error("callback param is required");if(!r.helper.isFunction(p))throw new Error("callback param must be a function/closure");if(typeof u.forEach=="function")u.forEach(p);else if(r.helper.isArray(u))for(var h=0;h<u.length;h++)p(u[h],h,u);else if(typeof u=="object")for(var m in u)u.hasOwnProperty(m)&&p(u[m],m,u);else throw new Error("obj does not seem to be an array or an iterable object")},r.helper.stdExtName=function(u){return u.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function w(u,p){var h=p.charCodeAt(0);return"E"+h+"E"}r.helper.escapeCharactersCallback=w,r.helper.escapeCharacters=function(u,p,h){var m="(["+p.replace(/([\[\]\\])/g,"\\$1")+"])";h&&(m="\\\\"+m);var g=new RegExp(m,"g");return u=u.replace(g,w),u},r.helper.unescapeHTMLEntities=function(u){return u.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var A=function(u,p,h,m){var g=m||"",v=g.indexOf("g")>-1,y=new RegExp(p+"|"+h,"g"+g.replace(/g/g,"")),E=new RegExp(p,g.replace(/g/g,"")),b=[],T,z,F,R,j;do for(T=0;F=y.exec(u);)if(E.test(F[0]))T++||(z=y.lastIndex,R=z-F[0].length);else if(T&&!--T){j=F.index+F[0].length;var K={left:{start:R,end:z},match:{start:z,end:F.index},right:{start:F.index,end:j},wholeMatch:{start:R,end:j}};if(b.push(K),!v)return b}while(T&&(y.lastIndex=z));return b};r.helper.matchRecursiveRegExp=function(u,p,h,m){for(var g=A(u,p,h,m),v=[],y=0;y<g.length;++y)v.push([u.slice(g[y].wholeMatch.start,g[y].wholeMatch.end),u.slice(g[y].match.start,g[y].match.end),u.slice(g[y].left.start,g[y].left.end),u.slice(g[y].right.start,g[y].right.end)]);return v},r.helper.replaceRecursiveRegExp=function(u,p,h,m,g){if(!r.helper.isFunction(p)){var v=p;p=function(){return v}}var y=A(u,h,m,g),E=u,b=y.length;if(b>0){var T=[];y[0].wholeMatch.start!==0&&T.push(u.slice(0,y[0].wholeMatch.start));for(var z=0;z<b;++z)T.push(p(u.slice(y[z].wholeMatch.start,y[z].wholeMatch.end),u.slice(y[z].match.start,y[z].match.end),u.slice(y[z].left.start,y[z].left.end),u.slice(y[z].right.start,y[z].right.end))),z<b-1&&T.push(u.slice(y[z].wholeMatch.end,y[z+1].wholeMatch.start));y[b-1].wholeMatch.end<u.length&&T.push(u.slice(y[b-1].wholeMatch.end)),E=T.join("")}return E},r.helper.regexIndexOf=function(u,p,h){if(!r.helper.isString(u))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(p instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var m=u.substring(h||0).search(p);return m>=0?m+(h||0):m},r.helper.splitAtIndex=function(u,p){if(!r.helper.isString(u))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[u.substring(0,p),u.substring(p)]},r.helper.encodeEmailAddress=function(u){var p=[function(h){return"&#"+h.charCodeAt(0)+";"},function(h){return"&#x"+h.charCodeAt(0).toString(16)+";"},function(h){return h}];return u=u.replace(/./g,function(h){if(h==="@")h=p[Math.floor(Math.random()*2)](h);else{var m=Math.random();h=m>.9?p[2](h):m>.45?p[1](h):p[0](h)}return h}),u},r.helper.padEnd=function(p,h,m){return h=h>>0,m=String(m||" "),p.length>h?String(p):(h=h-p.length,h>m.length&&(m+=m.repeat(h/m.length)),String(p)+m.slice(0,h))},typeof console>"u"&&(console={warn:function(u){alert(u)},log:function(u){alert(u)},error:function(u){throw u}}),r.helper.regexes={asteriskDashAndColon:/([*_:~])/g},r.helper.emojis={"+1":"","-1":"",100:"",1234:"","1st_place_medal":"","2nd_place_medal":"","3rd_place_medal":"","8ball":"",a:"",ab:"",abc:"",abcd:"",accept:"",aerial_tramway:"",airplane:"",alarm_clock:"",alembic:"",alien:"",ambulance:"",amphora:"",anchor:"",angel:"",anger:"",angry:"",anguished:"",ant:"",apple:"",aquarius:"",aries:"",arrow_backward:"",arrow_double_down:"",arrow_double_up:"",arrow_down:"",arrow_down_small:"",arrow_forward:"",arrow_heading_down:"",arrow_heading_up:"",arrow_left:"",arrow_lower_left:"",arrow_lower_right:"",arrow_right:"",arrow_right_hook:"",arrow_up:"",arrow_up_down:"",arrow_up_small:"",arrow_upper_left:"",arrow_upper_right:"",arrows_clockwise:"",arrows_counterclockwise:"",art:"",articulated_lorry:"",artificial_satellite:"",astonished:"",athletic_shoe:"",atm:"",atom_symbol:"",avocado:"",b:"",baby:"",baby_bottle:"",baby_chick:"",baby_symbol:"",back:"",bacon:"",badminton:"",baggage_claim:"",baguette_bread:"",balance_scale:"",balloon:"",ballot_box:"",ballot_box_with_check:"",bamboo:"",banana:"",bangbang:"",bank:"",bar_chart:"",barber:"",baseball:"",basketball:"",basketball_man:"",basketball_woman:"&zwj;",bat:"",bath:"",bathtub:"",battery:"",beach_umbrella:"",bear:"",bed:"",bee:"",beer:"",beers:"",beetle:"",beginner:"",bell:"",bellhop_bell:"",bento:"",biking_man:"",bike:"",biking_woman:"&zwj;",bikini:"",biohazard:"",bird:"",birthday:"",black_circle:"",black_flag:"",black_heart:"",black_joker:"",black_large_square:"",black_medium_small_square:"",black_medium_square:"",black_nib:"",black_small_square:"",black_square_button:"",blonde_man:"",blonde_woman:"&zwj;",blossom:"",blowfish:"",blue_book:"",blue_car:"",blue_heart:"",blush:"",boar:"",boat:"",bomb:"",book:"",bookmark:"",bookmark_tabs:"",books:"",boom:"",boot:"",bouquet:"",bowing_man:"",bow_and_arrow:"",bowing_woman:"&zwj;",bowling:"",boxing_glove:"",boy:"",bread:"",bride_with_veil:"",bridge_at_night:"",briefcase:"",broken_heart:"",bug:"",building_construction:"",bulb:"",bullettrain_front:"",bullettrain_side:"",burrito:"",bus:"",business_suit_levitating:"",busstop:"",bust_in_silhouette:"",busts_in_silhouette:"",butterfly:"",cactus:"",cake:"",calendar:"",call_me_hand:"",calling:"",camel:"",camera:"",camera_flash:"",camping:"",cancer:"",candle:"",candy:"",canoe:"",capital_abcd:"",capricorn:"",car:"",card_file_box:"",card_index:"",card_index_dividers:"",carousel_horse:"",carrot:"",cat:"",cat2:"",cd:"",chains:"",champagne:"",chart:"",chart_with_downwards_trend:"",chart_with_upwards_trend:"",checkered_flag:"",cheese:"",cherries:"",cherry_blossom:"",chestnut:"",chicken:"",children_crossing:"",chipmunk:"",chocolate_bar:"",christmas_tree:"",church:"",cinema:"",circus_tent:"",city_sunrise:"",city_sunset:"",cityscape:"",cl:"",clamp:"",clap:"",clapper:"",classical_building:"",clinking_glasses:"",clipboard:"",clock1:"",clock10:"",clock1030:"",clock11:"",clock1130:"",clock12:"",clock1230:"",clock130:"",clock2:"",clock230:"",clock3:"",clock330:"",clock4:"",clock430:"",clock5:"",clock530:"",clock6:"",clock630:"",clock7:"",clock730:"",clock8:"",clock830:"",clock9:"",clock930:"",closed_book:"",closed_lock_with_key:"",closed_umbrella:"",cloud:"",cloud_with_lightning:"",cloud_with_lightning_and_rain:"",cloud_with_rain:"",cloud_with_snow:"",clown_face:"",clubs:"",cocktail:"",coffee:"",coffin:"",cold_sweat:"",comet:"",computer:"",computer_mouse:"",confetti_ball:"",confounded:"",confused:"",congratulations:"",construction:"",construction_worker_man:"",construction_worker_woman:"&zwj;",control_knobs:"",convenience_store:"",cookie:"",cool:"",policeman:"",copyright:"",corn:"",couch_and_lamp:"",couple:"",couple_with_heart_woman_man:"",couple_with_heart_man_man:"&zwj;&zwj;",couple_with_heart_woman_woman:"&zwj;&zwj;",couplekiss_man_man:"&zwj;&zwj;&zwj;",couplekiss_man_woman:"",couplekiss_woman_woman:"&zwj;&zwj;&zwj;",cow:"",cow2:"",cowboy_hat_face:"",crab:"",crayon:"",credit_card:"",crescent_moon:"",cricket:"",crocodile:"",croissant:"",crossed_fingers:"",crossed_flags:"",crossed_swords:"",crown:"",cry:"",crying_cat_face:"",crystal_ball:"",cucumber:"",cupid:"",curly_loop:"",currency_exchange:"",curry:"",custard:"",customs:"",cyclone:"",dagger:"",dancer:"",dancing_women:"",dancing_men:"&zwj;",dango:"",dark_sunglasses:"",dart:"",dash:"",date:"",deciduous_tree:"",deer:"",department_store:"",derelict_house:"",desert:"",desert_island:"",desktop_computer:"",male_detective:"",diamond_shape_with_a_dot_inside:"",diamonds:"",disappointed:"",disappointed_relieved:"",dizzy:"",dizzy_face:"",do_not_litter:"",dog:"",dog2:"",dollar:"",dolls:"",dolphin:"",door:"",doughnut:"",dove:"",dragon:"",dragon_face:"",dress:"",dromedary_camel:"",drooling_face:"",droplet:"",drum:"",duck:"",dvd:"","e-mail":"",eagle:"",ear:"",ear_of_rice:"",earth_africa:"",earth_americas:"",earth_asia:"",egg:"",eggplant:"",eight_pointed_black_star:"",eight_spoked_asterisk:"",electric_plug:"",elephant:"",email:"",end:"",envelope_with_arrow:"",euro:"",european_castle:"",european_post_office:"",evergreen_tree:"",exclamation:"",expressionless:"",eye:"",eye_speech_bubble:"&zwj;",eyeglasses:"",eyes:"",face_with_head_bandage:"",face_with_thermometer:"",fist_oncoming:"",factory:"",fallen_leaf:"",family_man_woman_boy:"",family_man_boy:"&zwj;",family_man_boy_boy:"&zwj;&zwj;",family_man_girl:"&zwj;",family_man_girl_boy:"&zwj;&zwj;",family_man_girl_girl:"&zwj;&zwj;",family_man_man_boy:"&zwj;&zwj;",family_man_man_boy_boy:"&zwj;&zwj;&zwj;",family_man_man_girl:"&zwj;&zwj;",family_man_man_girl_boy:"&zwj;&zwj;&zwj;",family_man_man_girl_girl:"&zwj;&zwj;&zwj;",family_man_woman_boy_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl:"&zwj;&zwj;",family_man_woman_girl_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl_girl:"&zwj;&zwj;&zwj;",family_woman_boy:"&zwj;",family_woman_boy_boy:"&zwj;&zwj;",family_woman_girl:"&zwj;",family_woman_girl_boy:"&zwj;&zwj;",family_woman_girl_girl:"&zwj;&zwj;",family_woman_woman_boy:"&zwj;&zwj;",family_woman_woman_boy_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl:"&zwj;&zwj;",family_woman_woman_girl_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl_girl:"&zwj;&zwj;&zwj;",fast_forward:"",fax:"",fearful:"",feet:"",female_detective:"&zwj;",ferris_wheel:"",ferry:"",field_hockey:"",file_cabinet:"",file_folder:"",film_projector:"",film_strip:"",fire:"",fire_engine:"",fireworks:"",first_quarter_moon:"",first_quarter_moon_with_face:"",fish:"",fish_cake:"",fishing_pole_and_fish:"",fist_raised:"",fist_left:"",fist_right:"",flags:"",flashlight:"",fleur_de_lis:"",flight_arrival:"",flight_departure:"",floppy_disk:"",flower_playing_cards:"",flushed:"",fog:"",foggy:"",football:"",footprints:"",fork_and_knife:"",fountain:"",fountain_pen:"",four_leaf_clover:"",fox_face:"",framed_picture:"",free:"",fried_egg:"",fried_shrimp:"",fries:"",frog:"",frowning:"",frowning_face:"",frowning_man:"&zwj;",frowning_woman:"",middle_finger:"",fuelpump:"",full_moon:"",full_moon_with_face:"",funeral_urn:"",game_die:"",gear:"",gem:"",gemini:"",ghost:"",gift:"",gift_heart:"",girl:"",globe_with_meridians:"",goal_net:"",goat:"",golf:"",golfing_man:"",golfing_woman:"&zwj;",gorilla:"",grapes:"",green_apple:"",green_book:"",green_heart:"",green_salad:"",grey_exclamation:"",grey_question:"",grimacing:"",grin:"",grinning:"",guardsman:"",guardswoman:"&zwj;",guitar:"",gun:"",haircut_woman:"",haircut_man:"&zwj;",hamburger:"",hammer:"",hammer_and_pick:"",hammer_and_wrench:"",hamster:"",hand:"",handbag:"",handshake:"",hankey:"",hatched_chick:"",hatching_chick:"",headphones:"",hear_no_evil:"",heart:"",heart_decoration:"",heart_eyes:"",heart_eyes_cat:"",heartbeat:"",heartpulse:"",hearts:"",heavy_check_mark:"",heavy_division_sign:"",heavy_dollar_sign:"",heavy_heart_exclamation:"",heavy_minus_sign:"",heavy_multiplication_x:"",heavy_plus_sign:"",helicopter:"",herb:"",hibiscus:"",high_brightness:"",high_heel:"",hocho:"",hole:"",honey_pot:"",horse:"",horse_racing:"",hospital:"",hot_pepper:"",hotdog:"",hotel:"",hotsprings:"",hourglass:"",hourglass_flowing_sand:"",house:"",house_with_garden:"",houses:"",hugs:"",hushed:"",ice_cream:"",ice_hockey:"",ice_skate:"",icecream:"",id:"",ideograph_advantage:"",imp:"",inbox_tray:"",incoming_envelope:"",tipping_hand_woman:"",information_source:"",innocent:"",interrobang:"",iphone:"",izakaya_lantern:"",jack_o_lantern:"",japan:"",japanese_castle:"",japanese_goblin:"",japanese_ogre:"",jeans:"",joy:"",joy_cat:"",joystick:"",kaaba:"",key:"",keyboard:"",keycap_ten:"",kick_scooter:"",kimono:"",kiss:"",kissing:"",kissing_cat:"",kissing_closed_eyes:"",kissing_heart:"",kissing_smiling_eyes:"",kiwi_fruit:"",koala:"",koko:"",label:"",large_blue_circle:"",large_blue_diamond:"",large_orange_diamond:"",last_quarter_moon:"",last_quarter_moon_with_face:"",latin_cross:"",laughing:"",leaves:"",ledger:"",left_luggage:"",left_right_arrow:"",leftwards_arrow_with_hook:"",lemon:"",leo:"",leopard:"",level_slider:"",libra:"",light_rail:"",link:"",lion:"",lips:"",lipstick:"",lizard:"",lock:"",lock_with_ink_pen:"",lollipop:"",loop:"",loud_sound:"",loudspeaker:"",love_hotel:"",love_letter:"",low_brightness:"",lying_face:"",m:"",mag:"",mag_right:"",mahjong:"",mailbox:"",mailbox_closed:"",mailbox_with_mail:"",mailbox_with_no_mail:"",man:"",man_artist:"&zwj;",man_astronaut:"&zwj;",man_cartwheeling:"&zwj;",man_cook:"&zwj;",man_dancing:"",man_facepalming:"&zwj;",man_factory_worker:"&zwj;",man_farmer:"&zwj;",man_firefighter:"&zwj;",man_health_worker:"&zwj;",man_in_tuxedo:"",man_judge:"&zwj;",man_juggling:"&zwj;",man_mechanic:"&zwj;",man_office_worker:"&zwj;",man_pilot:"&zwj;",man_playing_handball:"&zwj;",man_playing_water_polo:"&zwj;",man_scientist:"&zwj;",man_shrugging:"&zwj;",man_singer:"&zwj;",man_student:"&zwj;",man_teacher:"&zwj;",man_technologist:"&zwj;",man_with_gua_pi_mao:"",man_with_turban:"",tangerine:"",mans_shoe:"",mantelpiece_clock:"",maple_leaf:"",martial_arts_uniform:"",mask:"",massage_woman:"",massage_man:"&zwj;",meat_on_bone:"",medal_military:"",medal_sports:"",mega:"",melon:"",memo:"",men_wrestling:"&zwj;",menorah:"",mens:"",metal:"",metro:"",microphone:"",microscope:"",milk_glass:"",milky_way:"",minibus:"",minidisc:"",mobile_phone_off:"",money_mouth_face:"",money_with_wings:"",moneybag:"",monkey:"",monkey_face:"",monorail:"",moon:"",mortar_board:"",mosque:"",motor_boat:"",motor_scooter:"",motorcycle:"",motorway:"",mount_fuji:"",mountain:"",mountain_biking_man:"",mountain_biking_woman:"&zwj;",mountain_cableway:"",mountain_railway:"",mountain_snow:"",mouse:"",mouse2:"",movie_camera:"",moyai:"",mrs_claus:"",muscle:"",mushroom:"",musical_keyboard:"",musical_note:"",musical_score:"",mute:"",nail_care:"",name_badge:"",national_park:"",nauseated_face:"",necktie:"",negative_squared_cross_mark:"",nerd_face:"",neutral_face:"",new:"",new_moon:"",new_moon_with_face:"",newspaper:"",newspaper_roll:"",next_track_button:"",ng:"",no_good_man:"&zwj;",no_good_woman:"",night_with_stars:"",no_bell:"",no_bicycles:"",no_entry:"",no_entry_sign:"",no_mobile_phones:"",no_mouth:"",no_pedestrians:"",no_smoking:"","non-potable_water":"",nose:"",notebook:"",notebook_with_decorative_cover:"",notes:"",nut_and_bolt:"",o:"",o2:"",ocean:"",octopus:"",oden:"",office:"",oil_drum:"",ok:"",ok_hand:"",ok_man:"&zwj;",ok_woman:"",old_key:"",older_man:"",older_woman:"",om:"",on:"",oncoming_automobile:"",oncoming_bus:"",oncoming_police_car:"",oncoming_taxi:"",open_file_folder:"",open_hands:"",open_mouth:"",open_umbrella:"",ophiuchus:"",orange_book:"",orthodox_cross:"",outbox_tray:"",owl:"",ox:"",package:"",page_facing_up:"",page_with_curl:"",pager:"",paintbrush:"",palm_tree:"",pancakes:"",panda_face:"",paperclip:"",paperclips:"",parasol_on_ground:"",parking:"",part_alternation_mark:"",partly_sunny:"",passenger_ship:"",passport_control:"",pause_button:"",peace_symbol:"",peach:"",peanuts:"",pear:"",pen:"",pencil2:"",penguin:"",pensive:"",performing_arts:"",persevere:"",person_fencing:"",pouting_woman:"",phone:"",pick:"",pig:"",pig2:"",pig_nose:"",pill:"",pineapple:"",ping_pong:"",pisces:"",pizza:"",place_of_worship:"",plate_with_cutlery:"",play_or_pause_button:"",point_down:"",point_left:"",point_right:"",point_up:"",point_up_2:"",police_car:"",policewoman:"&zwj;",poodle:"",popcorn:"",post_office:"",postal_horn:"",postbox:"",potable_water:"",potato:"",pouch:"",poultry_leg:"",pound:"",rage:"",pouting_cat:"",pouting_man:"&zwj;",pray:"",prayer_beads:"",pregnant_woman:"",previous_track_button:"",prince:"",princess:"",printer:"",purple_heart:"",purse:"",pushpin:"",put_litter_in_its_place:"",question:"",rabbit:"",rabbit2:"",racehorse:"",racing_car:"",radio:"",radio_button:"",radioactive:"",railway_car:"",railway_track:"",rainbow:"",rainbow_flag:"&zwj;",raised_back_of_hand:"",raised_hand_with_fingers_splayed:"",raised_hands:"",raising_hand_woman:"",raising_hand_man:"&zwj;",ram:"",ramen:"",rat:"",record_button:"",recycle:"",red_circle:"",registered:"",relaxed:"",relieved:"",reminder_ribbon:"",repeat:"",repeat_one:"",rescue_worker_helmet:"",restroom:"",revolving_hearts:"",rewind:"",rhinoceros:"",ribbon:"",rice:"",rice_ball:"",rice_cracker:"",rice_scene:"",right_anger_bubble:"",ring:"",robot:"",rocket:"",rofl:"",roll_eyes:"",roller_coaster:"",rooster:"",rose:"",rosette:"",rotating_light:"",round_pushpin:"",rowing_man:"",rowing_woman:"&zwj;",rugby_football:"",running_man:"",running_shirt_with_sash:"",running_woman:"&zwj;",sa:"",sagittarius:"",sake:"",sandal:"",santa:"",satellite:"",saxophone:"",school:"",school_satchel:"",scissors:"",scorpion:"",scorpius:"",scream:"",scream_cat:"",scroll:"",seat:"",secret:"",see_no_evil:"",seedling:"",selfie:"",shallow_pan_of_food:"",shamrock:"",shark:"",shaved_ice:"",sheep:"",shell:"",shield:"",shinto_shrine:"",ship:"",shirt:"",shopping:"",shopping_cart:"",shower:"",shrimp:"",signal_strength:"",six_pointed_star:"",ski:"",skier:"",skull:"",skull_and_crossbones:"",sleeping:"",sleeping_bed:"",sleepy:"",slightly_frowning_face:"",slightly_smiling_face:"",slot_machine:"",small_airplane:"",small_blue_diamond:"",small_orange_diamond:"",small_red_triangle:"",small_red_triangle_down:"",smile:"",smile_cat:"",smiley:"",smiley_cat:"",smiling_imp:"",smirk:"",smirk_cat:"",smoking:"",snail:"",snake:"",sneezing_face:"",snowboarder:"",snowflake:"",snowman:"",snowman_with_snow:"",sob:"",soccer:"",soon:"",sos:"",sound:"",space_invader:"",spades:"",spaghetti:"",sparkle:"",sparkler:"",sparkles:"",sparkling_heart:"",speak_no_evil:"",speaker:"",speaking_head:"",speech_balloon:"",speedboat:"",spider:"",spider_web:"",spiral_calendar:"",spiral_notepad:"",spoon:"",squid:"",stadium:"",star:"",star2:"",star_and_crescent:"",star_of_david:"",stars:"",station:"",statue_of_liberty:"",steam_locomotive:"",stew:"",stop_button:"",stop_sign:"",stopwatch:"",straight_ruler:"",strawberry:"",stuck_out_tongue:"",stuck_out_tongue_closed_eyes:"",stuck_out_tongue_winking_eye:"",studio_microphone:"",stuffed_flatbread:"",sun_behind_large_cloud:"",sun_behind_rain_cloud:"",sun_behind_small_cloud:"",sun_with_face:"",sunflower:"",sunglasses:"",sunny:"",sunrise:"",sunrise_over_mountains:"",surfing_man:"",surfing_woman:"&zwj;",sushi:"",suspension_railway:"",sweat:"",sweat_drops:"",sweat_smile:"",sweet_potato:"",swimming_man:"",swimming_woman:"&zwj;",symbols:"",synagogue:"",syringe:"",taco:"",tada:"",tanabata_tree:"",taurus:"",taxi:"",tea:"",telephone_receiver:"",telescope:"",tennis:"",tent:"",thermometer:"",thinking:"",thought_balloon:"",ticket:"",tickets:"",tiger:"",tiger2:"",timer_clock:"",tipping_hand_man:"&zwj;",tired_face:"",tm:"",toilet:"",tokyo_tower:"",tomato:"",tongue:"",top:"",tophat:"",tornado:"",trackball:"",tractor:"",traffic_light:"",train:"",train2:"",tram:"",triangular_flag_on_post:"",triangular_ruler:"",trident:"",triumph:"",trolleybus:"",trophy:"",tropical_drink:"",tropical_fish:"",truck:"",trumpet:"",tulip:"",tumbler_glass:"",turkey:"",turtle:"",tv:"",twisted_rightwards_arrows:"",two_hearts:"",two_men_holding_hands:"",two_women_holding_hands:"",u5272:"",u5408:"",u55b6:"",u6307:"",u6708:"",u6709:"",u6e80:"",u7121:"",u7533:"",u7981:"",u7a7a:"",umbrella:"",unamused:"",underage:"",unicorn:"",unlock:"",up:"",upside_down_face:"",v:"",vertical_traffic_light:"",vhs:"",vibration_mode:"",video_camera:"",video_game:"",violin:"",virgo:"",volcano:"",volleyball:"",vs:"",vulcan_salute:"",walking_man:"",walking_woman:"&zwj;",waning_crescent_moon:"",waning_gibbous_moon:"",warning:"",wastebasket:"",watch:"",water_buffalo:"",watermelon:"",wave:"",wavy_dash:"",waxing_crescent_moon:"",wc:"",weary:"",wedding:"",weight_lifting_man:"",weight_lifting_woman:"&zwj;",whale:"",whale2:"",wheel_of_dharma:"",wheelchair:"",white_check_mark:"",white_circle:"",white_flag:"",white_flower:"",white_large_square:"",white_medium_small_square:"",white_medium_square:"",white_small_square:"",white_square_button:"",wilted_flower:"",wind_chime:"",wind_face:"",wine_glass:"",wink:"",wolf:"",woman:"",woman_artist:"&zwj;",woman_astronaut:"&zwj;",woman_cartwheeling:"&zwj;",woman_cook:"&zwj;",woman_facepalming:"&zwj;",woman_factory_worker:"&zwj;",woman_farmer:"&zwj;",woman_firefighter:"&zwj;",woman_health_worker:"&zwj;",woman_judge:"&zwj;",woman_juggling:"&zwj;",woman_mechanic:"&zwj;",woman_office_worker:"&zwj;",woman_pilot:"&zwj;",woman_playing_handball:"&zwj;",woman_playing_water_polo:"&zwj;",woman_scientist:"&zwj;",woman_shrugging:"&zwj;",woman_singer:"&zwj;",woman_student:"&zwj;",woman_teacher:"&zwj;",woman_technologist:"&zwj;",woman_with_turban:"&zwj;",womans_clothes:"",womans_hat:"",women_wrestling:"&zwj;",womens:"",world_map:"",worried:"",wrench:"",writing_hand:"",x:"",yellow_heart:"",yen:"",yin_yang:"",yum:"",zap:"",zipper_mouth_face:"",zzz:"",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},r.Converter=function(u){var p={},h=[],m=[],g={},v=l,y={parsed:{},raw:"",format:""};E();function E(){u=u||{};for(var R in o)o.hasOwnProperty(R)&&(p[R]=o[R]);if(typeof u=="object")for(var j in u)u.hasOwnProperty(j)&&(p[j]=u[j]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof u+" was passed instead.");p.extensions&&r.helper.forEach(p.extensions,b)}function b(R,j){if(j=j||null,r.helper.isString(R))if(R=r.helper.stdExtName(R),j=R,r.extensions[R]){console.warn("DEPRECATION WARNING: "+R+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),T(r.extensions[R],R);return}else if(!r.helper.isUndefined(s[R]))R=s[R];else throw Error('Extension "'+R+'" could not be loaded. It was either not found or is not a valid extension.');typeof R=="function"&&(R=R()),r.helper.isArray(R)||(R=[R]);var K=f(R,j);if(!K.valid)throw Error(K.error);for(var X=0;X<R.length;++X){switch(R[X].type){case"lang":h.push(R[X]);break;case"output":m.push(R[X]);break}if(R[X].hasOwnProperty("listeners"))for(var ce in R[X].listeners)R[X].listeners.hasOwnProperty(ce)&&z(ce,R[X].listeners[ce])}}function T(R,j){typeof R=="function"&&(R=R(new r.Converter)),r.helper.isArray(R)||(R=[R]);var K=f(R,j);if(!K.valid)throw Error(K.error);for(var X=0;X<R.length;++X)switch(R[X].type){case"lang":h.push(R[X]);break;case"output":m.push(R[X]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function z(R,j){if(!r.helper.isString(R))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof R+" given");if(typeof j!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof j+" given");g.hasOwnProperty(R)||(g[R]=[]),g[R].push(j)}function F(R){var j=R.match(/^\s*/)[0].length,K=new RegExp("^\\s{0,"+j+"}","gm");return R.replace(K,"")}this._dispatch=function(j,K,X,ce){if(g.hasOwnProperty(j))for(var x=0;x<g[j].length;++x){var Q=g[j][x](j,K,this,X,ce);Q&&typeof Q<"u"&&(K=Q)}return K},this.listen=function(R,j){return z(R,j),this},this.makeHtml=function(R){if(!R)return R;var j={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:h,outputModifiers:m,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return R=R.replace(//g,"T"),R=R.replace(/\$/g,"D"),R=R.replace(/\r\n/g,`
`),R=R.replace(/\r/g,`
`),R=R.replace(/\u00A0/g,"&nbsp;"),p.smartIndentationFix&&(R=F(R)),R=`

`+R+`

`,R=r.subParser("detab")(R,p,j),R=R.replace(/^[ \t]+$/mg,""),r.helper.forEach(h,function(K){R=r.subParser("runExtension")(K,R,p,j)}),R=r.subParser("metadata")(R,p,j),R=r.subParser("hashPreCodeTags")(R,p,j),R=r.subParser("githubCodeBlocks")(R,p,j),R=r.subParser("hashHTMLBlocks")(R,p,j),R=r.subParser("hashCodeTags")(R,p,j),R=r.subParser("stripLinkDefinitions")(R,p,j),R=r.subParser("blockGamut")(R,p,j),R=r.subParser("unhashHTMLSpans")(R,p,j),R=r.subParser("unescapeSpecialChars")(R,p,j),R=R.replace(/D/g,"$$"),R=R.replace(/T/g,""),R=r.subParser("completeHTMLDocument")(R,p,j),r.helper.forEach(m,function(K){R=r.subParser("runExtension")(K,R,p,j)}),y=j.metadata,R},this.makeMarkdown=this.makeMd=function(R,j){if(R=R.replace(/\r\n/g,`
`),R=R.replace(/\r/g,`
`),R=R.replace(/>[ \t]+</,">NBSP;<"),!j)if(window&&window.document)j=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var K=j.createElement("div");K.innerHTML=R;var X={preList:ue(K)};Y(K);for(var ce=K.childNodes,x="",Q=0;Q<ce.length;Q++)x+=r.subParser("makeMarkdown.node")(ce[Q],X);function Y(oe){for(var ye=0;ye<oe.childNodes.length;++ye){var ve=oe.childNodes[ye];ve.nodeType===3?/\S/.test(ve.nodeValue)?(ve.nodeValue=ve.nodeValue.split(`
`).join(" "),ve.nodeValue=ve.nodeValue.replace(/(\s)+/g,"$1")):(oe.removeChild(ve),--ye):ve.nodeType===1&&Y(ve)}}function ue(oe){for(var ye=oe.querySelectorAll("pre"),ve=[],q=0;q<ye.length;++q)if(ye[q].childElementCount===1&&ye[q].firstChild.tagName.toLowerCase()==="code"){var U=ye[q].firstChild.innerHTML.trim(),W=ye[q].firstChild.getAttribute("data-language")||"";if(W==="")for(var ee=ye[q].firstChild.className.split(" "),ke=0;ke<ee.length;++ke){var we=ee[ke].match(/^language-(.+)$/);if(we!==null){W=we[1];break}}U=r.helper.unescapeHTMLEntities(U),ve.push(U),ye[q].outerHTML='<precode language="'+W+'" precodenum="'+q.toString()+'"></precode>'}else ve.push(ye[q].innerHTML),ye[q].innerHTML="",ye[q].setAttribute("prenum",q.toString());return ve}return x},this.setOption=function(R,j){p[R]=j},this.getOption=function(R){return p[R]},this.getOptions=function(){return p},this.addExtension=function(R,j){j=j||null,b(R,j)},this.useExtension=function(R){b(R)},this.setFlavor=function(R){if(!c.hasOwnProperty(R))throw Error(R+" flavor was not found");var j=c[R];v=R;for(var K in j)j.hasOwnProperty(K)&&(p[K]=j[K])},this.getFlavor=function(){return v},this.removeExtension=function(R){r.helper.isArray(R)||(R=[R]);for(var j=0;j<R.length;++j){for(var K=R[j],X=0;X<h.length;++X)h[X]===K&&h[X].splice(X,1);for(var ce=0;ce<m.length;++X)m[ce]===K&&m[ce].splice(X,1)}},this.getAllExtensions=function(){return{language:h,output:m}},this.getMetadata=function(R){return R?y.raw:y.parsed},this.getMetadataFormat=function(){return y.format},this._setMetadataPair=function(R,j){y.parsed[R]=j},this._setMetadataFormat=function(R){y.format=R},this._setMetadataRaw=function(R){y.raw=R}},r.subParser("anchors",function(u,p,h){u=h.converter._dispatch("anchors.before",u,p,h);var m=function(g,v,y,E,b,T,z){if(r.helper.isUndefined(z)&&(z=""),y=y.toLowerCase(),g.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)E="";else if(!E)if(y||(y=v.toLowerCase().replace(/ ?\n/g," ")),E="#"+y,!r.helper.isUndefined(h.gUrls[y]))E=h.gUrls[y],r.helper.isUndefined(h.gTitles[y])||(z=h.gTitles[y]);else return g;E=E.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var F='<a href="'+E+'"';return z!==""&&z!==null&&(z=z.replace(/"/g,"&quot;"),z=z.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),F+=' title="'+z+'"'),p.openLinksInNewWindow&&!/^#/.test(E)&&(F+=' rel="noopener noreferrer" target="E95Eblank"'),F+=">"+v+"</a>",F};return u=u.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,m),u=u.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,m),u=u.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,m),u=u.replace(/\[([^\[\]]+)]()()()()()/g,m),p.ghMentions&&(u=u.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(g,v,y,E,b){if(y==="\\")return v+E;if(!r.helper.isString(p.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var T=p.ghMentionsLink.replace(/\{u}/g,b),z="";return p.openLinksInNewWindow&&(z=' rel="noopener noreferrer" target="E95Eblank"'),v+'<a href="'+T+'"'+z+">"+E+"</a>"})),u=h.converter._dispatch("anchors.after",u,p,h),u});var I=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,V=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,M=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,D=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,C=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,S=function(u){return function(p,h,m,g,v,y,E){m=m.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var b=m,T="",z="",F=h||"",R=E||"";return/^www\./i.test(m)&&(m=m.replace(/^www\./i,"http://www.")),u.excludeTrailingPunctuationFromURLs&&y&&(T=y),u.openLinksInNewWindow&&(z=' rel="noopener noreferrer" target="E95Eblank"'),F+'<a href="'+m+'"'+z+">"+b+"</a>"+T+R}},P=function(u,p){return function(h,m,g){var v="mailto:";return m=m||"",g=r.subParser("unescapeSpecialChars")(g,u,p),u.encodeEmails?(v=r.helper.encodeEmailAddress(v+g),g=r.helper.encodeEmailAddress(g)):v=v+g,m+'<a href="'+v+'">'+g+"</a>"}};r.subParser("autoLinks",function(u,p,h){return u=h.converter._dispatch("autoLinks.before",u,p,h),u=u.replace(M,S(p)),u=u.replace(C,P(p,h)),u=h.converter._dispatch("autoLinks.after",u,p,h),u}),r.subParser("simplifiedAutoLinks",function(u,p,h){return p.simplifiedAutoLink&&(u=h.converter._dispatch("simplifiedAutoLinks.before",u,p,h),p.excludeTrailingPunctuationFromURLs?u=u.replace(V,S(p)):u=u.replace(I,S(p)),u=u.replace(D,P(p,h)),u=h.converter._dispatch("simplifiedAutoLinks.after",u,p,h)),u}),r.subParser("blockGamut",function(u,p,h){return u=h.converter._dispatch("blockGamut.before",u,p,h),u=r.subParser("blockQuotes")(u,p,h),u=r.subParser("headers")(u,p,h),u=r.subParser("horizontalRule")(u,p,h),u=r.subParser("lists")(u,p,h),u=r.subParser("codeBlocks")(u,p,h),u=r.subParser("tables")(u,p,h),u=r.subParser("hashHTMLBlocks")(u,p,h),u=r.subParser("paragraphs")(u,p,h),u=h.converter._dispatch("blockGamut.after",u,p,h),u}),r.subParser("blockQuotes",function(u,p,h){u=h.converter._dispatch("blockQuotes.before",u,p,h),u=u+`

`;var m=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return p.splitAdjacentBlockquotes&&(m=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),u=u.replace(m,function(g){return g=g.replace(/^[ \t]*>[ \t]?/gm,""),g=g.replace(/0/g,""),g=g.replace(/^[ \t]+$/gm,""),g=r.subParser("githubCodeBlocks")(g,p,h),g=r.subParser("blockGamut")(g,p,h),g=g.replace(/(^|\n)/g,"$1  "),g=g.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(v,y){var E=y;return E=E.replace(/^  /mg,"0"),E=E.replace(/0/g,""),E}),r.subParser("hashBlock")(`<blockquote>
`+g+`
</blockquote>`,p,h)}),u=h.converter._dispatch("blockQuotes.after",u,p,h),u}),r.subParser("codeBlocks",function(u,p,h){u=h.converter._dispatch("codeBlocks.before",u,p,h),u+="0";var m=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=0))/g;return u=u.replace(m,function(g,v,y){var E=v,b=y,T=`
`;return E=r.subParser("outdent")(E,p,h),E=r.subParser("encodeCode")(E,p,h),E=r.subParser("detab")(E,p,h),E=E.replace(/^\n+/g,""),E=E.replace(/\n+$/g,""),p.omitExtraWLInCodeBlocks&&(T=""),E="<pre><code>"+E+T+"</code></pre>",r.subParser("hashBlock")(E,p,h)+b}),u=u.replace(/0/,""),u=h.converter._dispatch("codeBlocks.after",u,p,h),u}),r.subParser("codeSpans",function(u,p,h){return u=h.converter._dispatch("codeSpans.before",u,p,h),typeof u>"u"&&(u=""),u=u.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(m,g,v,y){var E=y;return E=E.replace(/^([ \t]*)/g,""),E=E.replace(/[ \t]*$/g,""),E=r.subParser("encodeCode")(E,p,h),E=g+"<code>"+E+"</code>",E=r.subParser("hashHTMLSpans")(E,p,h),E}),u=h.converter._dispatch("codeSpans.after",u,p,h),u}),r.subParser("completeHTMLDocument",function(u,p,h){if(!p.completeHTMLDocument)return u;u=h.converter._dispatch("completeHTMLDocument.before",u,p,h);var m="html",g=`<!DOCTYPE HTML>
`,v="",y=`<meta charset="utf-8">
`,E="",b="";typeof h.metadata.parsed.doctype<"u"&&(g="<!DOCTYPE "+h.metadata.parsed.doctype+`>
`,m=h.metadata.parsed.doctype.toString().toLowerCase(),(m==="html"||m==="html5")&&(y='<meta charset="utf-8">'));for(var T in h.metadata.parsed)if(h.metadata.parsed.hasOwnProperty(T))switch(T.toLowerCase()){case"doctype":break;case"title":v="<title>"+h.metadata.parsed.title+`</title>
`;break;case"charset":m==="html"||m==="html5"?y='<meta charset="'+h.metadata.parsed.charset+`">
`:y='<meta name="charset" content="'+h.metadata.parsed.charset+`">
`;break;case"language":case"lang":E=' lang="'+h.metadata.parsed[T]+'"',b+='<meta name="'+T+'" content="'+h.metadata.parsed[T]+`">
`;break;default:b+='<meta name="'+T+'" content="'+h.metadata.parsed[T]+`">
`}return u=g+"<html"+E+`>
<head>
`+v+y+b+`</head>
<body>
`+u.trim()+`
</body>
</html>`,u=h.converter._dispatch("completeHTMLDocument.after",u,p,h),u}),r.subParser("detab",function(u,p,h){return u=h.converter._dispatch("detab.before",u,p,h),u=u.replace(/\t(?=\t)/g,"    "),u=u.replace(/\t/g,"AB"),u=u.replace(/B(.+?)A/g,function(m,g){for(var v=g,y=4-v.length%4,E=0;E<y;E++)v+=" ";return v}),u=u.replace(/A/g,"    "),u=u.replace(/B/g,""),u=h.converter._dispatch("detab.after",u,p,h),u}),r.subParser("ellipsis",function(u,p,h){return u=h.converter._dispatch("ellipsis.before",u,p,h),u=u.replace(/\.\.\./g,""),u=h.converter._dispatch("ellipsis.after",u,p,h),u}),r.subParser("emoji",function(u,p,h){if(!p.emoji)return u;u=h.converter._dispatch("emoji.before",u,p,h);var m=/:([\S]+?):/g;return u=u.replace(m,function(g,v){return r.helper.emojis.hasOwnProperty(v)?r.helper.emojis[v]:g}),u=h.converter._dispatch("emoji.after",u,p,h),u}),r.subParser("encodeAmpsAndAngles",function(u,p,h){return u=h.converter._dispatch("encodeAmpsAndAngles.before",u,p,h),u=u.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),u=u.replace(/<(?![a-z\/?$!])/gi,"&lt;"),u=u.replace(/</g,"&lt;"),u=u.replace(/>/g,"&gt;"),u=h.converter._dispatch("encodeAmpsAndAngles.after",u,p,h),u}),r.subParser("encodeBackslashEscapes",function(u,p,h){return u=h.converter._dispatch("encodeBackslashEscapes.before",u,p,h),u=u.replace(/\\(\\)/g,r.helper.escapeCharactersCallback),u=u.replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,r.helper.escapeCharactersCallback),u=h.converter._dispatch("encodeBackslashEscapes.after",u,p,h),u}),r.subParser("encodeCode",function(u,p,h){return u=h.converter._dispatch("encodeCode.before",u,p,h),u=u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,r.helper.escapeCharactersCallback),u=h.converter._dispatch("encodeCode.after",u,p,h),u}),r.subParser("escapeSpecialCharsWithinTagAttributes",function(u,p,h){u=h.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",u,p,h);var m=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,g=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return u=u.replace(m,function(v){return v.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),u=u.replace(g,function(v){return v.replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),u=h.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",u,p,h),u}),r.subParser("githubCodeBlocks",function(u,p,h){return p.ghCodeBlocks?(u=h.converter._dispatch("githubCodeBlocks.before",u,p,h),u+="0",u=u.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(m,g,v,y){var E=p.omitExtraWLInCodeBlocks?"":`
`;return y=r.subParser("encodeCode")(y,p,h),y=r.subParser("detab")(y,p,h),y=y.replace(/^\n+/g,""),y=y.replace(/\n+$/g,""),y="<pre><code"+(v?' class="'+v+" language-"+v+'"':"")+">"+y+E+"</code></pre>",y=r.subParser("hashBlock")(y,p,h),`

G`+(h.ghCodeBlocks.push({text:m,codeblock:y})-1)+`G

`}),u=u.replace(/0/,""),h.converter._dispatch("githubCodeBlocks.after",u,p,h)):u}),r.subParser("hashBlock",function(u,p,h){return u=h.converter._dispatch("hashBlock.before",u,p,h),u=u.replace(/(^\n+|\n+$)/g,""),u=`

K`+(h.gHtmlBlocks.push(u)-1)+`K

`,u=h.converter._dispatch("hashBlock.after",u,p,h),u}),r.subParser("hashCodeTags",function(u,p,h){u=h.converter._dispatch("hashCodeTags.before",u,p,h);var m=function(g,v,y,E){var b=y+r.subParser("encodeCode")(v,p,h)+E;return"C"+(h.gHtmlSpans.push(b)-1)+"C"};return u=r.helper.replaceRecursiveRegExp(u,m,"<code\\b[^>]*>","</code>","gim"),u=h.converter._dispatch("hashCodeTags.after",u,p,h),u}),r.subParser("hashElement",function(u,p,h){return function(m,g){var v=g;return v=v.replace(/\n\n/g,`
`),v=v.replace(/^\n/,""),v=v.replace(/\n+$/g,""),v=`

K`+(h.gHtmlBlocks.push(v)-1)+`K

`,v}}),r.subParser("hashHTMLBlocks",function(u,p,h){u=h.converter._dispatch("hashHTMLBlocks.before",u,p,h);var m=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],g=function(R,j,K,X){var ce=R;return K.search(/\bmarkdown\b/)!==-1&&(ce=K+h.converter.makeHtml(j)+X),`

K`+(h.gHtmlBlocks.push(ce)-1)+`K

`};p.backslashEscapesHTMLTags&&(u=u.replace(/\\<(\/?[^>]+?)>/g,function(R,j){return"&lt;"+j+"&gt;"}));for(var v=0;v<m.length;++v)for(var y,E=new RegExp("^ {0,3}(<"+m[v]+"\\b[^>]*>)","im"),b="<"+m[v]+"\\b[^>]*>",T="</"+m[v]+">";(y=r.helper.regexIndexOf(u,E))!==-1;){var z=r.helper.splitAtIndex(u,y),F=r.helper.replaceRecursiveRegExp(z[1],g,b,T,"im");if(F===z[1])break;u=z[0].concat(F)}return u=u.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(u,p,h)),u=r.helper.replaceRecursiveRegExp(u,function(R){return`

K`+(h.gHtmlBlocks.push(R)-1)+`K

`},"^ {0,3}<!--","-->","gm"),u=u.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(u,p,h)),u=h.converter._dispatch("hashHTMLBlocks.after",u,p,h),u}),r.subParser("hashHTMLSpans",function(u,p,h){u=h.converter._dispatch("hashHTMLSpans.before",u,p,h);function m(g){return"C"+(h.gHtmlSpans.push(g)-1)+"C"}return u=u.replace(/<[^>]+?\/>/gi,function(g){return m(g)}),u=u.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(g){return m(g)}),u=u.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(g){return m(g)}),u=u.replace(/<[^>]+?>/gi,function(g){return m(g)}),u=h.converter._dispatch("hashHTMLSpans.after",u,p,h),u}),r.subParser("unhashHTMLSpans",function(u,p,h){u=h.converter._dispatch("unhashHTMLSpans.before",u,p,h);for(var m=0;m<h.gHtmlSpans.length;++m){for(var g=h.gHtmlSpans[m],v=0;/C(\d+)C/.test(g);){var y=RegExp.$1;if(g=g.replace("C"+y+"C",h.gHtmlSpans[y]),v===10){console.error("maximum nesting of 10 spans reached!!!");break}++v}u=u.replace("C"+m+"C",g)}return u=h.converter._dispatch("unhashHTMLSpans.after",u,p,h),u}),r.subParser("hashPreCodeTags",function(u,p,h){u=h.converter._dispatch("hashPreCodeTags.before",u,p,h);var m=function(g,v,y,E){var b=y+r.subParser("encodeCode")(v,p,h)+E;return`

G`+(h.ghCodeBlocks.push({text:g,codeblock:b})-1)+`G

`};return u=r.helper.replaceRecursiveRegExp(u,m,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),u=h.converter._dispatch("hashPreCodeTags.after",u,p,h),u}),r.subParser("headers",function(u,p,h){u=h.converter._dispatch("headers.before",u,p,h);var m=isNaN(parseInt(p.headerLevelStart))?1:parseInt(p.headerLevelStart),g=p.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,v=p.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;u=u.replace(g,function(b,T){var z=r.subParser("spanGamut")(T,p,h),F=p.noHeaderId?"":' id="'+E(T)+'"',R=m,j="<h"+R+F+">"+z+"</h"+R+">";return r.subParser("hashBlock")(j,p,h)}),u=u.replace(v,function(b,T){var z=r.subParser("spanGamut")(T,p,h),F=p.noHeaderId?"":' id="'+E(T)+'"',R=m+1,j="<h"+R+F+">"+z+"</h"+R+">";return r.subParser("hashBlock")(j,p,h)});var y=p.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;u=u.replace(y,function(b,T,z){var F=z;p.customizedHeaderId&&(F=z.replace(/\s?\{([^{]+?)}\s*$/,""));var R=r.subParser("spanGamut")(F,p,h),j=p.noHeaderId?"":' id="'+E(z)+'"',K=m-1+T.length,X="<h"+K+j+">"+R+"</h"+K+">";return r.subParser("hashBlock")(X,p,h)});function E(b){var T,z;if(p.customizedHeaderId){var F=b.match(/\{([^{]+?)}\s*$/);F&&F[1]&&(b=F[1])}return T=b,r.helper.isString(p.prefixHeaderId)?z=p.prefixHeaderId:p.prefixHeaderId===!0?z="section-":z="",p.rawPrefixHeaderId||(T=z+T),p.ghCompatibleHeaderId?T=T.replace(/ /g,"-").replace(/&amp;/g,"").replace(/T/g,"").replace(/D/g,"").replace(/[&+$,\/:;=?@"#{}|^~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():p.rawHeaderId?T=T.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/T/g,"").replace(/D/g,"$").replace(/["']/g,"-").toLowerCase():T=T.replace(/[^\w]/g,"").toLowerCase(),p.rawPrefixHeaderId&&(T=z+T),h.hashLinkCounts[T]?T=T+"-"+h.hashLinkCounts[T]++:h.hashLinkCounts[T]=1,T}return u=h.converter._dispatch("headers.after",u,p,h),u}),r.subParser("horizontalRule",function(u,p,h){u=h.converter._dispatch("horizontalRule.before",u,p,h);var m=r.subParser("hashBlock")("<hr />",p,h);return u=u.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,m),u=u.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,m),u=u.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,m),u=h.converter._dispatch("horizontalRule.after",u,p,h),u}),r.subParser("images",function(u,p,h){u=h.converter._dispatch("images.before",u,p,h);var m=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,g=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,v=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,y=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,E=/!\[([^\[\]]+)]()()()()()/g;function b(z,F,R,j,K,X,ce,x){return j=j.replace(/\s/g,""),T(z,F,R,j,K,X,ce,x)}function T(z,F,R,j,K,X,ce,x){var Q=h.gUrls,Y=h.gTitles,ue=h.gDimensions;if(R=R.toLowerCase(),x||(x=""),z.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)j="";else if(j===""||j===null)if((R===""||R===null)&&(R=F.toLowerCase().replace(/ ?\n/g," ")),j="#"+R,!r.helper.isUndefined(Q[R]))j=Q[R],r.helper.isUndefined(Y[R])||(x=Y[R]),r.helper.isUndefined(ue[R])||(K=ue[R].width,X=ue[R].height);else return z;F=F.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),j=j.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var oe='<img src="'+j+'" alt="'+F+'"';return x&&r.helper.isString(x)&&(x=x.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),oe+=' title="'+x+'"'),K&&X&&(K=K==="*"?"auto":K,X=X==="*"?"auto":X,oe+=' width="'+K+'"',oe+=' height="'+X+'"'),oe+=" />",oe}return u=u.replace(y,T),u=u.replace(v,b),u=u.replace(g,T),u=u.replace(m,T),u=u.replace(E,T),u=h.converter._dispatch("images.after",u,p,h),u}),r.subParser("italicsAndBold",function(u,p,h){u=h.converter._dispatch("italicsAndBold.before",u,p,h);function m(g,v,y){return v+g+y}return p.literalMidWordUnderscores?(u=u.replace(/\b___(\S[\s\S]*?)___\b/g,function(g,v){return m(v,"<strong><em>","</em></strong>")}),u=u.replace(/\b__(\S[\s\S]*?)__\b/g,function(g,v){return m(v,"<strong>","</strong>")}),u=u.replace(/\b_(\S[\s\S]*?)_\b/g,function(g,v){return m(v,"<em>","</em>")})):(u=u.replace(/___(\S[\s\S]*?)___/g,function(g,v){return/\S$/.test(v)?m(v,"<strong><em>","</em></strong>"):g}),u=u.replace(/__(\S[\s\S]*?)__/g,function(g,v){return/\S$/.test(v)?m(v,"<strong>","</strong>"):g}),u=u.replace(/_([^\s_][\s\S]*?)_/g,function(g,v){return/\S$/.test(v)?m(v,"<em>","</em>"):g})),p.literalMidWordAsterisks?(u=u.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(g,v,y){return m(y,v+"<strong><em>","</em></strong>")}),u=u.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(g,v,y){return m(y,v+"<strong>","</strong>")}),u=u.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(g,v,y){return m(y,v+"<em>","</em>")})):(u=u.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(g,v){return/\S$/.test(v)?m(v,"<strong><em>","</em></strong>"):g}),u=u.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(g,v){return/\S$/.test(v)?m(v,"<strong>","</strong>"):g}),u=u.replace(/\*([^\s*][\s\S]*?)\*/g,function(g,v){return/\S$/.test(v)?m(v,"<em>","</em>"):g})),u=h.converter._dispatch("italicsAndBold.after",u,p,h),u}),r.subParser("lists",function(u,p,h){function m(y,E){h.gListLevel++,y=y.replace(/\n{2,}$/,`
`),y+="0";var b=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,T=/\n[ \t]*\n(?!0)/.test(y);return p.disableForced4SpacesIndentedSublists&&(b=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0|\2([*+-]|\d+[.])[ \t]+))/gm),y=y.replace(b,function(z,F,R,j,K,X,ce){ce=ce&&ce.trim()!=="";var x=r.subParser("outdent")(K,p,h),Q="";return X&&p.tasklists&&(Q=' class="task-list-item" style="list-style-type: none;"',x=x.replace(/^[ \t]*\[(x|X| )?]/m,function(){var Y='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return ce&&(Y+=" checked"),Y+=">",Y})),x=x.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(Y){return"A"+Y}),F||x.search(/\n{2,}/)>-1?(x=r.subParser("githubCodeBlocks")(x,p,h),x=r.subParser("blockGamut")(x,p,h)):(x=r.subParser("lists")(x,p,h),x=x.replace(/\n$/,""),x=r.subParser("hashHTMLBlocks")(x,p,h),x=x.replace(/\n\n+/g,`

`),T?x=r.subParser("paragraphs")(x,p,h):x=r.subParser("spanGamut")(x,p,h)),x=x.replace("A",""),x="<li"+Q+">"+x+`</li>
`,x}),y=y.replace(/0/g,""),h.gListLevel--,E&&(y=y.replace(/\s+$/,"")),y}function g(y,E){if(E==="ol"){var b=y.match(/^ *(\d+)\./);if(b&&b[1]!=="1")return' start="'+b[1]+'"'}return""}function v(y,E,b){var T=p.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,z=p.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,F=E==="ul"?T:z,R="";if(y.search(F)!==-1)(function K(X){var ce=X.search(F),x=g(y,E);ce!==-1?(R+=`

<`+E+x+`>
`+m(X.slice(0,ce),!!b)+"</"+E+`>
`,E=E==="ul"?"ol":"ul",F=E==="ul"?T:z,K(X.slice(ce))):R+=`

<`+E+x+`>
`+m(X,!!b)+"</"+E+`>
`})(y);else{var j=g(y,E);R=`

<`+E+j+`>
`+m(y,!!b)+"</"+E+`>
`}return R}return u=h.converter._dispatch("lists.before",u,p,h),u+="0",h.gListLevel?u=u.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(y,E,b){var T=b.search(/[*+-]/g)>-1?"ul":"ol";return v(E,T,!0)}):u=u.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(y,E,b,T){var z=T.search(/[*+-]/g)>-1?"ul":"ol";return v(b,z,!1)}),u=u.replace(/0/,""),u=h.converter._dispatch("lists.after",u,p,h),u}),r.subParser("metadata",function(u,p,h){if(!p.metadata)return u;u=h.converter._dispatch("metadata.before",u,p,h);function m(g){h.metadata.raw=g,g=g.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),g=g.replace(/\n {4}/g," "),g.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(v,y,E){return h.metadata.parsed[y]=E,""})}return u=u.replace(/^\s*+(\S*?)\n([\s\S]+?)\n+\n/,function(g,v,y){return m(y),"M"}),u=u.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(g,v,y){return v&&(h.metadata.format=v),m(y),"M"}),u=u.replace(/M/g,""),u=h.converter._dispatch("metadata.after",u,p,h),u}),r.subParser("outdent",function(u,p,h){return u=h.converter._dispatch("outdent.before",u,p,h),u=u.replace(/^(\t|[ ]{1,4})/gm,"0"),u=u.replace(/0/g,""),u=h.converter._dispatch("outdent.after",u,p,h),u}),r.subParser("paragraphs",function(u,p,h){u=h.converter._dispatch("paragraphs.before",u,p,h),u=u.replace(/^\n+/g,""),u=u.replace(/\n+$/g,"");for(var m=u.split(/\n{2,}/g),g=[],v=m.length,y=0;y<v;y++){var E=m[y];E.search(/(K|G)(\d+)\1/g)>=0?g.push(E):E.search(/\S/)>=0&&(E=r.subParser("spanGamut")(E,p,h),E=E.replace(/^([ \t]*)/g,"<p>"),E+="</p>",g.push(E))}for(v=g.length,y=0;y<v;y++){for(var b="",T=g[y],z=!1;/(K|G)(\d+)\1/.test(T);){var F=RegExp.$1,R=RegExp.$2;F==="K"?b=h.gHtmlBlocks[R]:z?b=r.subParser("encodeCode")(h.ghCodeBlocks[R].text,p,h):b=h.ghCodeBlocks[R].codeblock,b=b.replace(/\$/g,"$$$$"),T=T.replace(/(\n\n)?(K|G)\d+\2(\n\n)?/,b),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(T)&&(z=!0)}g[y]=T}return u=g.join(`
`),u=u.replace(/^\n+/g,""),u=u.replace(/\n+$/g,""),h.converter._dispatch("paragraphs.after",u,p,h)}),r.subParser("runExtension",function(u,p,h,m){if(u.filter)p=u.filter(p,m.converter,h);else if(u.regex){var g=u.regex;g instanceof RegExp||(g=new RegExp(g,"g")),p=p.replace(g,u.replace)}return p}),r.subParser("spanGamut",function(u,p,h){return u=h.converter._dispatch("spanGamut.before",u,p,h),u=r.subParser("codeSpans")(u,p,h),u=r.subParser("escapeSpecialCharsWithinTagAttributes")(u,p,h),u=r.subParser("encodeBackslashEscapes")(u,p,h),u=r.subParser("images")(u,p,h),u=r.subParser("anchors")(u,p,h),u=r.subParser("autoLinks")(u,p,h),u=r.subParser("simplifiedAutoLinks")(u,p,h),u=r.subParser("emoji")(u,p,h),u=r.subParser("underline")(u,p,h),u=r.subParser("italicsAndBold")(u,p,h),u=r.subParser("strikethrough")(u,p,h),u=r.subParser("ellipsis")(u,p,h),u=r.subParser("hashHTMLSpans")(u,p,h),u=r.subParser("encodeAmpsAndAngles")(u,p,h),p.simpleLineBreaks?/\n\nK/.test(u)||(u=u.replace(/\n+/g,`<br />
`)):u=u.replace(/  +\n/g,`<br />
`),u=h.converter._dispatch("spanGamut.after",u,p,h),u}),r.subParser("strikethrough",function(u,p,h){function m(g){return p.simplifiedAutoLink&&(g=r.subParser("simplifiedAutoLinks")(g,p,h)),"<del>"+g+"</del>"}return p.strikethrough&&(u=h.converter._dispatch("strikethrough.before",u,p,h),u=u.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(g,v){return m(v)}),u=h.converter._dispatch("strikethrough.after",u,p,h)),u}),r.subParser("stripLinkDefinitions",function(u,p,h){var m=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=0))/gm,g=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=0)|(?=\n\[))/gm;u+="0";var v=function(y,E,b,T,z,F,R){return E=E.toLowerCase(),b.match(/^data:.+?\/.+?;base64,/)?h.gUrls[E]=b.replace(/\s/g,""):h.gUrls[E]=r.subParser("encodeAmpsAndAngles")(b,p,h),F?F+R:(R&&(h.gTitles[E]=R.replace(/"|'/g,"&quot;")),p.parseImgDimensions&&T&&z&&(h.gDimensions[E]={width:T,height:z}),"")};return u=u.replace(g,v),u=u.replace(m,v),u=u.replace(/0/,""),u}),r.subParser("tables",function(u,p,h){if(!p.tables)return u;var m=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|0)/gm,g=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|0)/gm;function v(z){return/^:[ \t]*--*$/.test(z)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(z)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(z)?' style="text-align:center;"':""}function y(z,F){var R="";return z=z.trim(),(p.tablesHeaderId||p.tableHeaderId)&&(R=' id="'+z.replace(/ /g,"_").toLowerCase()+'"'),z=r.subParser("spanGamut")(z,p,h),"<th"+R+F+">"+z+`</th>
`}function E(z,F){var R=r.subParser("spanGamut")(z,p,h);return"<td"+F+">"+R+`</td>
`}function b(z,F){for(var R=`<table>
<thead>
<tr>
`,j=z.length,K=0;K<j;++K)R+=z[K];for(R+=`</tr>
</thead>
<tbody>
`,K=0;K<F.length;++K){R+=`<tr>
`;for(var X=0;X<j;++X)R+=F[K][X];R+=`</tr>
`}return R+=`</tbody>
</table>
`,R}function T(z){var F,R=z.split(`
`);for(F=0;F<R.length;++F)/^ {0,3}\|/.test(R[F])&&(R[F]=R[F].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(R[F])&&(R[F]=R[F].replace(/\|[ \t]*$/,"")),R[F]=r.subParser("codeSpans")(R[F],p,h);var j=R[0].split("|").map(function(oe){return oe.trim()}),K=R[1].split("|").map(function(oe){return oe.trim()}),X=[],ce=[],x=[],Q=[];for(R.shift(),R.shift(),F=0;F<R.length;++F)R[F].trim()!==""&&X.push(R[F].split("|").map(function(oe){return oe.trim()}));if(j.length<K.length)return z;for(F=0;F<K.length;++F)x.push(v(K[F]));for(F=0;F<j.length;++F)r.helper.isUndefined(x[F])&&(x[F]=""),ce.push(y(j[F],x[F]));for(F=0;F<X.length;++F){for(var Y=[],ue=0;ue<ce.length;++ue)r.helper.isUndefined(X[F][ue]),Y.push(E(X[F][ue],x[ue]));Q.push(Y)}return b(ce,Q)}return u=h.converter._dispatch("tables.before",u,p,h),u=u.replace(/\\(\|)/g,r.helper.escapeCharactersCallback),u=u.replace(m,T),u=u.replace(g,T),u=h.converter._dispatch("tables.after",u,p,h),u}),r.subParser("underline",function(u,p,h){return p.underline&&(u=h.converter._dispatch("underline.before",u,p,h),p.literalMidWordUnderscores?(u=u.replace(/\b___(\S[\s\S]*?)___\b/g,function(m,g){return"<u>"+g+"</u>"}),u=u.replace(/\b__(\S[\s\S]*?)__\b/g,function(m,g){return"<u>"+g+"</u>"})):(u=u.replace(/___(\S[\s\S]*?)___/g,function(m,g){return/\S$/.test(g)?"<u>"+g+"</u>":m}),u=u.replace(/__(\S[\s\S]*?)__/g,function(m,g){return/\S$/.test(g)?"<u>"+g+"</u>":m})),u=u.replace(/(_)/g,r.helper.escapeCharactersCallback),u=h.converter._dispatch("underline.after",u,p,h)),u}),r.subParser("unescapeSpecialChars",function(u,p,h){return u=h.converter._dispatch("unescapeSpecialChars.before",u,p,h),u=u.replace(/E(\d+)E/g,function(m,g){var v=parseInt(g);return String.fromCharCode(v)}),u=h.converter._dispatch("unescapeSpecialChars.after",u,p,h),u}),r.subParser("makeMarkdown.blockquote",function(u,p){var h="";if(u.hasChildNodes())for(var m=u.childNodes,g=m.length,v=0;v<g;++v){var y=r.subParser("makeMarkdown.node")(m[v],p);y!==""&&(h+=y)}return h=h.trim(),h="> "+h.split(`
`).join(`
> `),h}),r.subParser("makeMarkdown.codeBlock",function(u,p){var h=u.getAttribute("language"),m=u.getAttribute("precodenum");return"```"+h+`
`+p.preList[m]+"\n```"}),r.subParser("makeMarkdown.codeSpan",function(u){return"`"+u.innerHTML+"`"}),r.subParser("makeMarkdown.emphasis",function(u,p){var h="";if(u.hasChildNodes()){h+="*";for(var m=u.childNodes,g=m.length,v=0;v<g;++v)h+=r.subParser("makeMarkdown.node")(m[v],p);h+="*"}return h}),r.subParser("makeMarkdown.header",function(u,p,h){var m=new Array(h+1).join("#"),g="";if(u.hasChildNodes()){g=m+" ";for(var v=u.childNodes,y=v.length,E=0;E<y;++E)g+=r.subParser("makeMarkdown.node")(v[E],p)}return g}),r.subParser("makeMarkdown.hr",function(){return"---"}),r.subParser("makeMarkdown.image",function(u){var p="";return u.hasAttribute("src")&&(p+="!["+u.getAttribute("alt")+"](",p+="<"+u.getAttribute("src")+">",u.hasAttribute("width")&&u.hasAttribute("height")&&(p+=" ="+u.getAttribute("width")+"x"+u.getAttribute("height")),u.hasAttribute("title")&&(p+=' "'+u.getAttribute("title")+'"'),p+=")"),p}),r.subParser("makeMarkdown.links",function(u,p){var h="";if(u.hasChildNodes()&&u.hasAttribute("href")){var m=u.childNodes,g=m.length;h="[";for(var v=0;v<g;++v)h+=r.subParser("makeMarkdown.node")(m[v],p);h+="](",h+="<"+u.getAttribute("href")+">",u.hasAttribute("title")&&(h+=' "'+u.getAttribute("title")+'"'),h+=")"}return h}),r.subParser("makeMarkdown.list",function(u,p,h){var m="";if(!u.hasChildNodes())return"";for(var g=u.childNodes,v=g.length,y=u.getAttribute("start")||1,E=0;E<v;++E)if(!(typeof g[E].tagName>"u"||g[E].tagName.toLowerCase()!=="li")){var b="";h==="ol"?b=y.toString()+". ":b="- ",m+=b+r.subParser("makeMarkdown.listItem")(g[E],p),++y}return m+=`
<!-- -->
`,m.trim()}),r.subParser("makeMarkdown.listItem",function(u,p){for(var h="",m=u.childNodes,g=m.length,v=0;v<g;++v)h+=r.subParser("makeMarkdown.node")(m[v],p);return/\n$/.test(h)?h=h.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):h+=`
`,h}),r.subParser("makeMarkdown.node",function(u,p,h){h=h||!1;var m="";if(u.nodeType===3)return r.subParser("makeMarkdown.txt")(u,p);if(u.nodeType===8)return"<!--"+u.data+`-->

`;if(u.nodeType!==1)return"";var g=u.tagName.toLowerCase();switch(g){case"h1":h||(m=r.subParser("makeMarkdown.header")(u,p,1)+`

`);break;case"h2":h||(m=r.subParser("makeMarkdown.header")(u,p,2)+`

`);break;case"h3":h||(m=r.subParser("makeMarkdown.header")(u,p,3)+`

`);break;case"h4":h||(m=r.subParser("makeMarkdown.header")(u,p,4)+`

`);break;case"h5":h||(m=r.subParser("makeMarkdown.header")(u,p,5)+`

`);break;case"h6":h||(m=r.subParser("makeMarkdown.header")(u,p,6)+`

`);break;case"p":h||(m=r.subParser("makeMarkdown.paragraph")(u,p)+`

`);break;case"blockquote":h||(m=r.subParser("makeMarkdown.blockquote")(u,p)+`

`);break;case"hr":h||(m=r.subParser("makeMarkdown.hr")(u,p)+`

`);break;case"ol":h||(m=r.subParser("makeMarkdown.list")(u,p,"ol")+`

`);break;case"ul":h||(m=r.subParser("makeMarkdown.list")(u,p,"ul")+`

`);break;case"precode":h||(m=r.subParser("makeMarkdown.codeBlock")(u,p)+`

`);break;case"pre":h||(m=r.subParser("makeMarkdown.pre")(u,p)+`

`);break;case"table":h||(m=r.subParser("makeMarkdown.table")(u,p)+`

`);break;case"code":m=r.subParser("makeMarkdown.codeSpan")(u,p);break;case"em":case"i":m=r.subParser("makeMarkdown.emphasis")(u,p);break;case"strong":case"b":m=r.subParser("makeMarkdown.strong")(u,p);break;case"del":m=r.subParser("makeMarkdown.strikethrough")(u,p);break;case"a":m=r.subParser("makeMarkdown.links")(u,p);break;case"img":m=r.subParser("makeMarkdown.image")(u,p);break;default:m=u.outerHTML+`

`}return m}),r.subParser("makeMarkdown.paragraph",function(u,p){var h="";if(u.hasChildNodes())for(var m=u.childNodes,g=m.length,v=0;v<g;++v)h+=r.subParser("makeMarkdown.node")(m[v],p);return h=h.trim(),h}),r.subParser("makeMarkdown.pre",function(u,p){var h=u.getAttribute("prenum");return"<pre>"+p.preList[h]+"</pre>"}),r.subParser("makeMarkdown.strikethrough",function(u,p){var h="";if(u.hasChildNodes()){h+="~~";for(var m=u.childNodes,g=m.length,v=0;v<g;++v)h+=r.subParser("makeMarkdown.node")(m[v],p);h+="~~"}return h}),r.subParser("makeMarkdown.strong",function(u,p){var h="";if(u.hasChildNodes()){h+="**";for(var m=u.childNodes,g=m.length,v=0;v<g;++v)h+=r.subParser("makeMarkdown.node")(m[v],p);h+="**"}return h}),r.subParser("makeMarkdown.table",function(u,p){var h="",m=[[],[]],g=u.querySelectorAll("thead>tr>th"),v=u.querySelectorAll("tbody>tr"),y,E;for(y=0;y<g.length;++y){var b=r.subParser("makeMarkdown.tableCell")(g[y],p),T="---";if(g[y].hasAttribute("style")){var z=g[y].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(z){case"text-align:left;":T=":---";break;case"text-align:right;":T="---:";break;case"text-align:center;":T=":---:";break}}m[0][y]=b.trim(),m[1][y]=T}for(y=0;y<v.length;++y){var F=m.push([])-1,R=v[y].getElementsByTagName("td");for(E=0;E<g.length;++E){var j=" ";typeof R[E]<"u"&&(j=r.subParser("makeMarkdown.tableCell")(R[E],p)),m[F].push(j)}}var K=3;for(y=0;y<m.length;++y)for(E=0;E<m[y].length;++E){var X=m[y][E].length;X>K&&(K=X)}for(y=0;y<m.length;++y){for(E=0;E<m[y].length;++E)y===1?m[y][E].slice(-1)===":"?m[y][E]=r.helper.padEnd(m[y][E].slice(-1),K-1,"-")+":":m[y][E]=r.helper.padEnd(m[y][E],K,"-"):m[y][E]=r.helper.padEnd(m[y][E],K);h+="| "+m[y].join(" | ")+` |
`}return h.trim()}),r.subParser("makeMarkdown.tableCell",function(u,p){var h="";if(!u.hasChildNodes())return"";for(var m=u.childNodes,g=m.length,v=0;v<g;++v)h+=r.subParser("makeMarkdown.node")(m[v],p,!0);return h.trim()}),r.subParser("makeMarkdown.txt",function(u){var p=u.nodeValue;return p=p.replace(/ +/g," "),p=p.replace(/NBSP;/g," "),p=r.helper.unescapeHTMLEntities(p),p=p.replace(/([*_~|`])/g,"\\$1"),p=p.replace(/^(\s*)>/g,"\\$1>"),p=p.replace(/^#/gm,"\\#"),p=p.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),p=p.replace(/^( {0,3}\d+)\./gm,"$1\\."),p=p.replace(/^( {0,3})([+-])/gm,"$1\\$2"),p=p.replace(/]([\s]*)\(/g,"\\]$1\\("),p=p.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),p});var N=this;t.exports?t.exports=r:N.showdown=r}).call(le)})(nv);var Z3=nv.exports;const eE=Js(Z3);function tE({tempNoteText:t,setTempNoteText:e}){const[n,r]=Wt.useState("write"),i=new eE.Converter({tables:!0,simplifiedAutoLink:!0,strikethrough:!0,tasklists:!0});return je.jsx("section",{className:"pane editor",children:je.jsx(J3,{value:t,onChange:e,selectedTab:n,onTabChange:r,generateMarkdownPreview:s=>Promise.resolve(i.makeHtml(s)),minEditorHeight:80,heightUnits:"vh"})})}var rv={exports:{}},nE="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",rE=nE,iE=rE;function iv(){}function sv(){}sv.resetWarningCache=iv;var sE=function(){function t(r,i,s,o,l,c){if(c!==iE){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:sv,resetWarningCache:iv};return n.PropTypes=n,n};rv.exports=sE();var oE=rv.exports;const Te=Js(oE);var At=typeof window<"u"?window:null,Zd=At===null,$s=Zd?void 0:At.document,zt="addEventListener",jt="removeEventListener",zl="getBoundingClientRect",rs="_a",Ft="_b",un="_c",Wo="horizontal",Bt=function(){return!1},aE=Zd?"calc":["","-webkit-","-moz-","-o-"].filter(function(t){var e=$s.createElement("div");return e.style.cssText="width:"+t+"calc(9px)",!!e.style.length}).shift()+"calc",ov=function(t){return typeof t=="string"||t instanceof String},tm=function(t){if(ov(t)){var e=$s.querySelector(t);if(!e)throw new Error("Selector "+t+" did not match a DOM element");return e}return t},it=function(t,e,n){var r=t[e];return r!==void 0?r:n},Go=function(t,e,n,r){if(e){if(r==="end")return 0;if(r==="center")return t/2}else if(n){if(r==="start")return 0;if(r==="center")return t/2}return t},uE=function(t,e){var n=$s.createElement("div");return n.className="gutter gutter-"+e,n},lE=function(t,e,n){var r={};return ov(e)?r[t]=e:r[t]=aE+"("+e+"% - "+n+"px)",r},cE=function(t,e){var n;return n={},n[t]=e+"px",n},nm=function(t,e){if(e===void 0&&(e={}),Zd)return{};var n=t,r,i,s,o,l,c;Array.from&&(n=Array.from(n));var f=tm(n[0]),w=f.parentNode,A=getComputedStyle?getComputedStyle(w):null,I=A?A.flexDirection:null,V=it(e,"sizes")||n.map(function(){return 100/n.length}),M=it(e,"minSize",100),D=Array.isArray(M)?M:n.map(function(){return M}),C=it(e,"maxSize",1/0),S=Array.isArray(C)?C:n.map(function(){return C}),P=it(e,"expandToMin",!1),N=it(e,"gutterSize",10),u=it(e,"gutterAlign","center"),p=it(e,"snapOffset",30),h=Array.isArray(p)?p:n.map(function(){return p}),m=it(e,"dragInterval",1),g=it(e,"direction",Wo),v=it(e,"cursor",g===Wo?"col-resize":"row-resize"),y=it(e,"gutter",uE),E=it(e,"elementStyle",lE),b=it(e,"gutterStyle",cE);g===Wo?(r="width",i="clientX",s="left",o="right",l="clientWidth"):g==="vertical"&&(r="height",i="clientY",s="top",o="bottom",l="clientHeight");function T(q,U,W,ee){var ke=E(r,U,W,ee);Object.keys(ke).forEach(function(we){q.style[we]=ke[we]})}function z(q,U,W){var ee=b(r,U,W);Object.keys(ee).forEach(function(ke){q.style[ke]=ee[ke]})}function F(){return c.map(function(q){return q.size})}function R(q){return"touches"in q?q.touches[0][i]:q[i]}function j(q){var U=c[this.a],W=c[this.b],ee=U.size+W.size;U.size=q/this.size*ee,W.size=ee-q/this.size*ee,T(U.element,U.size,this[Ft],U.i),T(W.element,W.size,this[un],W.i)}function K(q){var U,W=c[this.a],ee=c[this.b];this.dragging&&(U=R(q)-this.start+(this[Ft]-this.dragOffset),m>1&&(U=Math.round(U/m)*m),U<=W.minSize+W.snapOffset+this[Ft]?U=W.minSize+this[Ft]:U>=this.size-(ee.minSize+ee.snapOffset+this[un])&&(U=this.size-(ee.minSize+this[un])),U>=W.maxSize-W.snapOffset+this[Ft]?U=W.maxSize+this[Ft]:U<=this.size-(ee.maxSize-ee.snapOffset+this[un])&&(U=this.size-(ee.maxSize+this[un])),j.call(this,U),it(e,"onDrag",Bt)(F()))}function X(){var q=c[this.a].element,U=c[this.b].element,W=q[zl](),ee=U[zl]();this.size=W[r]+ee[r]+this[Ft]+this[un],this.start=W[s],this.end=W[o]}function ce(q){if(!getComputedStyle)return null;var U=getComputedStyle(q);if(!U)return null;var W=q[l];return W===0?null:(g===Wo?W-=parseFloat(U.paddingLeft)+parseFloat(U.paddingRight):W-=parseFloat(U.paddingTop)+parseFloat(U.paddingBottom),W)}function x(q){var U=ce(w);if(U===null||D.reduce(function(we,Ge){return we+Ge},0)>U)return q;var W=0,ee=[],ke=q.map(function(we,Ge){var Ot=U*we/100,Zn=Go(N,Ge===0,Ge===q.length-1,u),Pr=D[Ge]+Zn;return Ot<Pr?(W+=Pr-Ot,ee.push(0),Pr):(ee.push(Ot-Pr),Ot)});return W===0?q:ke.map(function(we,Ge){var Ot=we;if(W>0&&ee[Ge]-W>0){var Zn=Math.min(W,ee[Ge]-W);W-=Zn,Ot=we-Zn}return Ot/U*100})}function Q(){var q=this,U=c[q.a].element,W=c[q.b].element;q.dragging&&it(e,"onDragEnd",Bt)(F()),q.dragging=!1,At[jt]("mouseup",q.stop),At[jt]("touchend",q.stop),At[jt]("touchcancel",q.stop),At[jt]("mousemove",q.move),At[jt]("touchmove",q.move),q.stop=null,q.move=null,U[jt]("selectstart",Bt),U[jt]("dragstart",Bt),W[jt]("selectstart",Bt),W[jt]("dragstart",Bt),U.style.userSelect="",U.style.webkitUserSelect="",U.style.MozUserSelect="",U.style.pointerEvents="",W.style.userSelect="",W.style.webkitUserSelect="",W.style.MozUserSelect="",W.style.pointerEvents="",q.gutter.style.cursor="",q.parent.style.cursor="",$s.body.style.cursor=""}function Y(q){if(!("button"in q&&q.button!==0)){var U=this,W=c[U.a].element,ee=c[U.b].element;U.dragging||it(e,"onDragStart",Bt)(F()),q.preventDefault(),U.dragging=!0,U.move=K.bind(U),U.stop=Q.bind(U),At[zt]("mouseup",U.stop),At[zt]("touchend",U.stop),At[zt]("touchcancel",U.stop),At[zt]("mousemove",U.move),At[zt]("touchmove",U.move),W[zt]("selectstart",Bt),W[zt]("dragstart",Bt),ee[zt]("selectstart",Bt),ee[zt]("dragstart",Bt),W.style.userSelect="none",W.style.webkitUserSelect="none",W.style.MozUserSelect="none",W.style.pointerEvents="none",ee.style.userSelect="none",ee.style.webkitUserSelect="none",ee.style.MozUserSelect="none",ee.style.pointerEvents="none",U.gutter.style.cursor=v,U.parent.style.cursor=v,$s.body.style.cursor=v,X.call(U),U.dragOffset=R(q)-U.end}}V=x(V);var ue=[];c=n.map(function(q,U){var W={element:tm(q),size:V[U],minSize:D[U],maxSize:S[U],snapOffset:h[U],i:U},ee;if(U>0&&(ee={a:U-1,b:U,dragging:!1,direction:g,parent:w},ee[Ft]=Go(N,U-1===0,!1,u),ee[un]=Go(N,!1,U===n.length-1,u),I==="row-reverse"||I==="column-reverse")){var ke=ee.a;ee.a=ee.b,ee.b=ke}if(U>0){var we=y(U,g,W.element);z(we,N,U),ee[rs]=Y.bind(ee),we[zt]("mousedown",ee[rs]),we[zt]("touchstart",ee[rs]),w.insertBefore(we,W.element),ee.gutter=we}return T(W.element,W.size,Go(N,U===0,U===n.length-1,u),U),U>0&&ue.push(ee),W});function oe(q){var U=q.i===ue.length,W=U?ue[q.i-1]:ue[q.i];X.call(W);var ee=U?W.size-q.minSize-W[un]:q.minSize+W[Ft];j.call(W,ee)}c.forEach(function(q){var U=q.element[zl]()[r];U<q.minSize&&(P?oe(q):q.minSize=U)});function ye(q){var U=x(q);U.forEach(function(W,ee){if(ee>0){var ke=ue[ee-1],we=c[ke.a],Ge=c[ke.b];we.size=U[ee-1],Ge.size=W,T(we.element,we.size,ke[Ft],we.i),T(Ge.element,Ge.size,ke[un],Ge.i)}})}function ve(q,U){ue.forEach(function(W){if(U!==!0?W.parent.removeChild(W.gutter):(W.gutter[jt]("mousedown",W[rs]),W.gutter[jt]("touchstart",W[rs])),q!==!0){var ee=E(r,W.a.size,W[Ft]);Object.keys(ee).forEach(function(ke){c[W.a].element.style[ke]="",c[W.b].element.style[ke]=""})}})}return{setSizes:ye,getSizes:F,collapse:function(U){oe(c[U])},destroy:ve,parent:w,pairs:ue}};function jl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)===-1&&(n[r]=t[r]);return n}var ef=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.componentDidMount=function(){var r=this.props;r.children;var i=r.gutter,s=jl(r,["children","gutter"]),o=s;o.gutter=function(l,c){var f;return i?f=i(l,c):(f=document.createElement("div"),f.className="gutter gutter-"+c),f.__isSplitGutter=!0,f},this.split=nm(this.parent.children,o)},e.prototype.componentDidUpdate=function(r){var i=this,s=this.props;s.children;var o=s.minSize,l=s.sizes,c=s.collapsed,f=jl(s,["children","minSize","sizes","collapsed"]),w=f,A=r.minSize,I=r.sizes,V=r.collapsed,M=["maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"],D=M.map(function(P){return i.props[P]!==r[P]}).reduce(function(P,N){return P||N},!1);if(Array.isArray(o)&&Array.isArray(A)){var C=!1;o.forEach(function(P,N){C=C||P!==A[N]}),D=D||C}else Array.isArray(o)||Array.isArray(A)?D=!0:D=D||o!==A;if(D)w.minSize=o,w.sizes=l||this.split.getSizes(),this.split.destroy(!0,!0),w.gutter=function(P,N,u){return u.previousSibling},this.split=nm(Array.from(this.parent.children).filter(function(P){return!P.__isSplitGutter}),w);else if(l){var S=!1;l.forEach(function(P,N){S=S||P!==I[N]}),S&&this.split.setSizes(this.props.sizes)}Number.isInteger(c)&&(c!==V||D)&&this.split.collapse(c)},e.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},e.prototype.render=function(){var r=this,i=this.props;i.sizes,i.minSize,i.maxSize,i.expandToMin,i.gutterSize,i.gutterAlign,i.snapOffset,i.dragInterval,i.direction,i.cursor,i.gutter,i.elementStyle,i.gutterStyle,i.onDrag,i.onDragStart,i.onDragEnd,i.collapsed;var s=i.children,o=jl(i,["sizes","minSize","maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]),l=o;return Wt.createElement("div",Object.assign({},{ref:function(c){r.parent=c}},l),s)},e}(Wt.Component);ef.propTypes={sizes:Te.arrayOf(Te.number),minSize:Te.oneOfType([Te.number,Te.arrayOf(Te.number)]),maxSize:Te.oneOfType([Te.number,Te.arrayOf(Te.number)]),expandToMin:Te.bool,gutterSize:Te.number,gutterAlign:Te.string,snapOffset:Te.number,dragInterval:Te.number,direction:Te.string,cursor:Te.string,gutter:Te.func,elementStyle:Te.func,gutterStyle:Te.func,onDrag:Te.func,onDragStart:Te.func,onDragEnd:Te.func,collapsed:Te.number,children:Te.arrayOf(Te.element)};ef.defaultProps={sizes:void 0,minSize:void 0,maxSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};var rm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dE=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},uv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,w=s>>2,A=(s&3)<<4|l>>4;let I=(l&15)<<2|f>>6,V=f&63;c||(V=64,o||(I=64)),r.push(n[w],n[A],n[I],n[V])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(av(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const A=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||f==null||A==null)throw new fE;const I=s<<2|l>>4;if(r.push(I),f!==64){const V=l<<4&240|f>>2;if(r.push(V),A!==64){const M=f<<6&192|A;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hE=function(t){const e=av(t);return uv.encodeByteArray(e,!0)},za=function(t){return hE(t).replace(/\./g,"")},pE=function(t){try{return uv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=()=>mE().__FIREBASE_DEFAULTS__,_E=()=>{if(typeof process>"u"||typeof rm>"u")return;const t=rm.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pE(t[1]);return e&&JSON.parse(e)},tf=()=>{try{return gE()||_E()||vE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yE=t=>{var e,n;return(n=(e=tf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wE=t=>{const e=yE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},lv=()=>{var t;return(t=tf())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[za(JSON.stringify(n)),za(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kE(){var t;const e=(t=tf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CE(){return!kE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AE(){try{return typeof indexedDB=="object"}catch{return!1}}function IE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="FirebaseError";class Ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=PE,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cv.prototype.create)}}class cv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?bE(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ai(i,l,r)}}function bE(t,e){return t.replace(RE,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const RE=/\{\$([^}]+)}/g;function Mc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(im(s)&&im(o)){if(!Mc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function im(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t){return t&&t._delegate?t._delegate:t}class Hs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new EE;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VE(e))try{this.getOrInitializeService({instanceIdentifier:or})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=or){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=or){return this.instances.has(e)}getOptions(e=or){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NE(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=or){return this.component?this.component.multipleInstances?e:or:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NE(t){return t===or?void 0:t}function VE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const OE={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},LE=he.INFO,xE={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},zE=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=xE[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dv{constructor(e){this.name=e,this._logLevel=LE,this._logHandler=zE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const jE=(t,e)=>e.some(n=>t instanceof n);let sm,om;function FE(){return sm||(sm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BE(){return om||(om=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fv=new WeakMap,Oc=new WeakMap,hv=new WeakMap,Fl=new WeakMap,nf=new WeakMap;function UE(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(xn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&fv.set(n,t)}).catch(()=>{}),nf.set(e,t),e}function $E(t){if(Oc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Oc.set(t,e)}let Lc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Oc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HE(t){Lc=t(Lc)}function qE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Bl(this),e,...n);return hv.set(r,e.sort?e.sort():[e]),xn(r)}:BE().includes(t)?function(...e){return t.apply(Bl(this),e),xn(fv.get(this))}:function(...e){return xn(t.apply(Bl(this),e))}}function WE(t){return typeof t=="function"?qE(t):(t instanceof IDBTransaction&&$E(t),jE(t,FE())?new Proxy(t,Lc):t)}function xn(t){if(t instanceof IDBRequest)return UE(t);if(Fl.has(t))return Fl.get(t);const e=WE(t);return e!==t&&(Fl.set(t,e),nf.set(e,t)),e}const Bl=t=>nf.get(t);function GE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=xn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(xn(o.result),c.oldVersion,c.newVersion,xn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const KE=["get","getKey","getAll","getAllKeys","count"],QE=["put","add","delete","clear"],Ul=new Map;function am(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ul.get(e))return Ul.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=QE.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||KE.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&c.done]))[0]};return Ul.set(e,s),s}HE(t=>({...t,get:(e,n,r)=>am(e,n)||t.get(e,n,r),has:(e,n)=>!!am(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XE(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XE(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xc="@firebase/app",um="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn=new dv("@firebase/app"),JE="@firebase/app-compat",ZE="@firebase/analytics-compat",e8="@firebase/analytics",t8="@firebase/app-check-compat",n8="@firebase/app-check",r8="@firebase/auth",i8="@firebase/auth-compat",s8="@firebase/database",o8="@firebase/data-connect",a8="@firebase/database-compat",u8="@firebase/functions",l8="@firebase/functions-compat",c8="@firebase/installations",d8="@firebase/installations-compat",f8="@firebase/messaging",h8="@firebase/messaging-compat",p8="@firebase/performance",m8="@firebase/performance-compat",g8="@firebase/remote-config",_8="@firebase/remote-config-compat",v8="@firebase/storage",y8="@firebase/storage-compat",w8="@firebase/firestore",E8="@firebase/vertexai",T8="@firebase/firestore-compat",S8="firebase",k8="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc="[DEFAULT]",C8={[xc]:"fire-core",[JE]:"fire-core-compat",[e8]:"fire-analytics",[ZE]:"fire-analytics-compat",[n8]:"fire-app-check",[t8]:"fire-app-check-compat",[r8]:"fire-auth",[i8]:"fire-auth-compat",[s8]:"fire-rtdb",[o8]:"fire-data-connect",[a8]:"fire-rtdb-compat",[u8]:"fire-fn",[l8]:"fire-fn-compat",[c8]:"fire-iid",[d8]:"fire-iid-compat",[f8]:"fire-fcm",[h8]:"fire-fcm-compat",[p8]:"fire-perf",[m8]:"fire-perf-compat",[g8]:"fire-rc",[_8]:"fire-rc-compat",[v8]:"fire-gcs",[y8]:"fire-gcs-compat",[w8]:"fire-fst",[T8]:"fire-fst-compat",[E8]:"fire-vertex","fire-js":"fire-js",[S8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=new Map,A8=new Map,jc=new Map;function lm(t,e){try{t.container.addComponent(e)}catch(n){mn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fa(t){const e=t.name;if(jc.has(e))return mn.debug(`There were multiple attempts to register component ${e}.`),!1;jc.set(e,t);for(const n of ja.values())lm(n,t);for(const n of A8.values())lm(n,t);return!0}function I8(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zn=new cv("app","Firebase",P8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8=k8;function pv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:zc,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw zn.create("bad-app-name",{appName:String(i)});if(n||(n=lv()),!n)throw zn.create("no-options");const s=ja.get(i);if(s){if(Mc(n,s.options)&&Mc(r,s.config))return s;throw zn.create("duplicate-app",{appName:i})}const o=new ME(i);for(const c of jc.values())o.addComponent(c);const l=new b8(n,r,o);return ja.set(i,l),l}function D8(t=zc){const e=ja.get(t);if(!e&&t===zc&&lv())return pv();if(!e)throw zn.create("no-app",{appName:t});return e}function ii(t,e,n){var r;let i=(r=C8[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mn.warn(l.join(" "));return}Fa(new Hs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8="firebase-heartbeat-database",V8=1,qs="firebase-heartbeat-store";let $l=null;function mv(){return $l||($l=GE(N8,V8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qs)}catch(n){console.warn(n)}}}}).catch(t=>{throw zn.create("idb-open",{originalErrorMessage:t.message})})),$l}async function M8(t){try{const n=(await mv()).transaction(qs),r=await n.objectStore(qs).get(gv(t));return await n.done,r}catch(e){if(e instanceof Ai)mn.warn(e.message);else{const n=zn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mn.warn(n.message)}}}async function cm(t,e){try{const r=(await mv()).transaction(qs,"readwrite");await r.objectStore(qs).put(e,gv(t)),await r.done}catch(n){if(n instanceof Ai)mn.warn(n.message);else{const r=zn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mn.warn(r.message)}}}function gv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8=1024,L8=30*24*60*60*1e3;class x8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new j8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=dm();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=L8}),this._storage.overwrite(this._heartbeatsCache))}catch(r){mn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dm(),{heartbeatsToSend:r,unsentEntries:i}=z8(this._heartbeatsCache.heartbeats),s=za(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return mn.warn(n),""}}}function dm(){return new Date().toISOString().substring(0,10)}function z8(t,e=O8){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),fm(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fm(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class j8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AE()?IE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await M8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function fm(t){return za(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F8(t){Fa(new Hs("platform-logger",e=>new YE(e),"PRIVATE")),Fa(new Hs("heartbeat",e=>new x8(e),"PRIVATE")),ii(xc,um,t),ii(xc,um,"esm2017"),ii("fire-js","")}F8("");var hm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pr,_v;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(m,g){function v(){}v.prototype=g.prototype,m.D=g.prototype,m.prototype=new v,m.prototype.constructor=m,m.C=function(y,E,b){for(var T=Array(arguments.length-2),z=2;z<arguments.length;z++)T[z-2]=arguments[z];return g.prototype[E].apply(y,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(m,g,v){v||(v=0);var y=Array(16);if(typeof g=="string")for(var E=0;16>E;++E)y[E]=g.charCodeAt(v++)|g.charCodeAt(v++)<<8|g.charCodeAt(v++)<<16|g.charCodeAt(v++)<<24;else for(E=0;16>E;++E)y[E]=g[v++]|g[v++]<<8|g[v++]<<16|g[v++]<<24;g=m.g[0],v=m.g[1],E=m.g[2];var b=m.g[3],T=g+(b^v&(E^b))+y[0]+3614090360&4294967295;g=v+(T<<7&4294967295|T>>>25),T=b+(E^g&(v^E))+y[1]+3905402710&4294967295,b=g+(T<<12&4294967295|T>>>20),T=E+(v^b&(g^v))+y[2]+606105819&4294967295,E=b+(T<<17&4294967295|T>>>15),T=v+(g^E&(b^g))+y[3]+3250441966&4294967295,v=E+(T<<22&4294967295|T>>>10),T=g+(b^v&(E^b))+y[4]+4118548399&4294967295,g=v+(T<<7&4294967295|T>>>25),T=b+(E^g&(v^E))+y[5]+1200080426&4294967295,b=g+(T<<12&4294967295|T>>>20),T=E+(v^b&(g^v))+y[6]+2821735955&4294967295,E=b+(T<<17&4294967295|T>>>15),T=v+(g^E&(b^g))+y[7]+4249261313&4294967295,v=E+(T<<22&4294967295|T>>>10),T=g+(b^v&(E^b))+y[8]+1770035416&4294967295,g=v+(T<<7&4294967295|T>>>25),T=b+(E^g&(v^E))+y[9]+2336552879&4294967295,b=g+(T<<12&4294967295|T>>>20),T=E+(v^b&(g^v))+y[10]+4294925233&4294967295,E=b+(T<<17&4294967295|T>>>15),T=v+(g^E&(b^g))+y[11]+2304563134&4294967295,v=E+(T<<22&4294967295|T>>>10),T=g+(b^v&(E^b))+y[12]+1804603682&4294967295,g=v+(T<<7&4294967295|T>>>25),T=b+(E^g&(v^E))+y[13]+4254626195&4294967295,b=g+(T<<12&4294967295|T>>>20),T=E+(v^b&(g^v))+y[14]+2792965006&4294967295,E=b+(T<<17&4294967295|T>>>15),T=v+(g^E&(b^g))+y[15]+1236535329&4294967295,v=E+(T<<22&4294967295|T>>>10),T=g+(E^b&(v^E))+y[1]+4129170786&4294967295,g=v+(T<<5&4294967295|T>>>27),T=b+(v^E&(g^v))+y[6]+3225465664&4294967295,b=g+(T<<9&4294967295|T>>>23),T=E+(g^v&(b^g))+y[11]+643717713&4294967295,E=b+(T<<14&4294967295|T>>>18),T=v+(b^g&(E^b))+y[0]+3921069994&4294967295,v=E+(T<<20&4294967295|T>>>12),T=g+(E^b&(v^E))+y[5]+3593408605&4294967295,g=v+(T<<5&4294967295|T>>>27),T=b+(v^E&(g^v))+y[10]+38016083&4294967295,b=g+(T<<9&4294967295|T>>>23),T=E+(g^v&(b^g))+y[15]+3634488961&4294967295,E=b+(T<<14&4294967295|T>>>18),T=v+(b^g&(E^b))+y[4]+3889429448&4294967295,v=E+(T<<20&4294967295|T>>>12),T=g+(E^b&(v^E))+y[9]+568446438&4294967295,g=v+(T<<5&4294967295|T>>>27),T=b+(v^E&(g^v))+y[14]+3275163606&4294967295,b=g+(T<<9&4294967295|T>>>23),T=E+(g^v&(b^g))+y[3]+4107603335&4294967295,E=b+(T<<14&4294967295|T>>>18),T=v+(b^g&(E^b))+y[8]+1163531501&4294967295,v=E+(T<<20&4294967295|T>>>12),T=g+(E^b&(v^E))+y[13]+2850285829&4294967295,g=v+(T<<5&4294967295|T>>>27),T=b+(v^E&(g^v))+y[2]+4243563512&4294967295,b=g+(T<<9&4294967295|T>>>23),T=E+(g^v&(b^g))+y[7]+1735328473&4294967295,E=b+(T<<14&4294967295|T>>>18),T=v+(b^g&(E^b))+y[12]+2368359562&4294967295,v=E+(T<<20&4294967295|T>>>12),T=g+(v^E^b)+y[5]+4294588738&4294967295,g=v+(T<<4&4294967295|T>>>28),T=b+(g^v^E)+y[8]+2272392833&4294967295,b=g+(T<<11&4294967295|T>>>21),T=E+(b^g^v)+y[11]+1839030562&4294967295,E=b+(T<<16&4294967295|T>>>16),T=v+(E^b^g)+y[14]+4259657740&4294967295,v=E+(T<<23&4294967295|T>>>9),T=g+(v^E^b)+y[1]+2763975236&4294967295,g=v+(T<<4&4294967295|T>>>28),T=b+(g^v^E)+y[4]+1272893353&4294967295,b=g+(T<<11&4294967295|T>>>21),T=E+(b^g^v)+y[7]+4139469664&4294967295,E=b+(T<<16&4294967295|T>>>16),T=v+(E^b^g)+y[10]+3200236656&4294967295,v=E+(T<<23&4294967295|T>>>9),T=g+(v^E^b)+y[13]+681279174&4294967295,g=v+(T<<4&4294967295|T>>>28),T=b+(g^v^E)+y[0]+3936430074&4294967295,b=g+(T<<11&4294967295|T>>>21),T=E+(b^g^v)+y[3]+3572445317&4294967295,E=b+(T<<16&4294967295|T>>>16),T=v+(E^b^g)+y[6]+76029189&4294967295,v=E+(T<<23&4294967295|T>>>9),T=g+(v^E^b)+y[9]+3654602809&4294967295,g=v+(T<<4&4294967295|T>>>28),T=b+(g^v^E)+y[12]+3873151461&4294967295,b=g+(T<<11&4294967295|T>>>21),T=E+(b^g^v)+y[15]+530742520&4294967295,E=b+(T<<16&4294967295|T>>>16),T=v+(E^b^g)+y[2]+3299628645&4294967295,v=E+(T<<23&4294967295|T>>>9),T=g+(E^(v|~b))+y[0]+4096336452&4294967295,g=v+(T<<6&4294967295|T>>>26),T=b+(v^(g|~E))+y[7]+1126891415&4294967295,b=g+(T<<10&4294967295|T>>>22),T=E+(g^(b|~v))+y[14]+2878612391&4294967295,E=b+(T<<15&4294967295|T>>>17),T=v+(b^(E|~g))+y[5]+4237533241&4294967295,v=E+(T<<21&4294967295|T>>>11),T=g+(E^(v|~b))+y[12]+1700485571&4294967295,g=v+(T<<6&4294967295|T>>>26),T=b+(v^(g|~E))+y[3]+2399980690&4294967295,b=g+(T<<10&4294967295|T>>>22),T=E+(g^(b|~v))+y[10]+4293915773&4294967295,E=b+(T<<15&4294967295|T>>>17),T=v+(b^(E|~g))+y[1]+2240044497&4294967295,v=E+(T<<21&4294967295|T>>>11),T=g+(E^(v|~b))+y[8]+1873313359&4294967295,g=v+(T<<6&4294967295|T>>>26),T=b+(v^(g|~E))+y[15]+4264355552&4294967295,b=g+(T<<10&4294967295|T>>>22),T=E+(g^(b|~v))+y[6]+2734768916&4294967295,E=b+(T<<15&4294967295|T>>>17),T=v+(b^(E|~g))+y[13]+1309151649&4294967295,v=E+(T<<21&4294967295|T>>>11),T=g+(E^(v|~b))+y[4]+4149444226&4294967295,g=v+(T<<6&4294967295|T>>>26),T=b+(v^(g|~E))+y[11]+3174756917&4294967295,b=g+(T<<10&4294967295|T>>>22),T=E+(g^(b|~v))+y[2]+718787259&4294967295,E=b+(T<<15&4294967295|T>>>17),T=v+(b^(E|~g))+y[9]+3951481745&4294967295,m.g[0]=m.g[0]+g&4294967295,m.g[1]=m.g[1]+(E+(T<<21&4294967295|T>>>11))&4294967295,m.g[2]=m.g[2]+E&4294967295,m.g[3]=m.g[3]+b&4294967295}r.prototype.u=function(m,g){g===void 0&&(g=m.length);for(var v=g-this.blockSize,y=this.B,E=this.h,b=0;b<g;){if(E==0)for(;b<=v;)i(this,m,b),b+=this.blockSize;if(typeof m=="string"){for(;b<g;)if(y[E++]=m.charCodeAt(b++),E==this.blockSize){i(this,y),E=0;break}}else for(;b<g;)if(y[E++]=m[b++],E==this.blockSize){i(this,y),E=0;break}}this.h=E,this.o+=g},r.prototype.v=function(){var m=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);m[0]=128;for(var g=1;g<m.length-8;++g)m[g]=0;var v=8*this.o;for(g=m.length-8;g<m.length;++g)m[g]=v&255,v/=256;for(this.u(m),m=Array(16),g=v=0;4>g;++g)for(var y=0;32>y;y+=8)m[v++]=this.g[g]>>>y&255;return m};function s(m,g){var v=l;return Object.prototype.hasOwnProperty.call(v,m)?v[m]:v[m]=g(m)}function o(m,g){this.h=g;for(var v=[],y=!0,E=m.length-1;0<=E;E--){var b=m[E]|0;y&&b==g||(v[E]=b,y=!1)}this.g=v}var l={};function c(m){return-128<=m&&128>m?s(m,function(g){return new o([g|0],0>g?-1:0)}):new o([m|0],0>m?-1:0)}function f(m){if(isNaN(m)||!isFinite(m))return A;if(0>m)return C(f(-m));for(var g=[],v=1,y=0;m>=v;y++)g[y]=m/v|0,v*=4294967296;return new o(g,0)}function w(m,g){if(m.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(m.charAt(0)=="-")return C(w(m.substring(1),g));if(0<=m.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=f(Math.pow(g,8)),y=A,E=0;E<m.length;E+=8){var b=Math.min(8,m.length-E),T=parseInt(m.substring(E,E+b),g);8>b?(b=f(Math.pow(g,b)),y=y.j(b).add(f(T))):(y=y.j(v),y=y.add(f(T)))}return y}var A=c(0),I=c(1),V=c(16777216);t=o.prototype,t.m=function(){if(D(this))return-C(this).m();for(var m=0,g=1,v=0;v<this.g.length;v++){var y=this.i(v);m+=(0<=y?y:4294967296+y)*g,g*=4294967296}return m},t.toString=function(m){if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(M(this))return"0";if(D(this))return"-"+C(this).toString(m);for(var g=f(Math.pow(m,6)),v=this,y="";;){var E=u(v,g).g;v=S(v,E.j(g));var b=((0<v.g.length?v.g[0]:v.h)>>>0).toString(m);if(v=E,M(v))return b+y;for(;6>b.length;)b="0"+b;y=b+y}},t.i=function(m){return 0>m?0:m<this.g.length?this.g[m]:this.h};function M(m){if(m.h!=0)return!1;for(var g=0;g<m.g.length;g++)if(m.g[g]!=0)return!1;return!0}function D(m){return m.h==-1}t.l=function(m){return m=S(this,m),D(m)?-1:M(m)?0:1};function C(m){for(var g=m.g.length,v=[],y=0;y<g;y++)v[y]=~m.g[y];return new o(v,~m.h).add(I)}t.abs=function(){return D(this)?C(this):this},t.add=function(m){for(var g=Math.max(this.g.length,m.g.length),v=[],y=0,E=0;E<=g;E++){var b=y+(this.i(E)&65535)+(m.i(E)&65535),T=(b>>>16)+(this.i(E)>>>16)+(m.i(E)>>>16);y=T>>>16,b&=65535,T&=65535,v[E]=T<<16|b}return new o(v,v[v.length-1]&-2147483648?-1:0)};function S(m,g){return m.add(C(g))}t.j=function(m){if(M(this)||M(m))return A;if(D(this))return D(m)?C(this).j(C(m)):C(C(this).j(m));if(D(m))return C(this.j(C(m)));if(0>this.l(V)&&0>m.l(V))return f(this.m()*m.m());for(var g=this.g.length+m.g.length,v=[],y=0;y<2*g;y++)v[y]=0;for(y=0;y<this.g.length;y++)for(var E=0;E<m.g.length;E++){var b=this.i(y)>>>16,T=this.i(y)&65535,z=m.i(E)>>>16,F=m.i(E)&65535;v[2*y+2*E]+=T*F,P(v,2*y+2*E),v[2*y+2*E+1]+=b*F,P(v,2*y+2*E+1),v[2*y+2*E+1]+=T*z,P(v,2*y+2*E+1),v[2*y+2*E+2]+=b*z,P(v,2*y+2*E+2)}for(y=0;y<g;y++)v[y]=v[2*y+1]<<16|v[2*y];for(y=g;y<2*g;y++)v[y]=0;return new o(v,0)};function P(m,g){for(;(m[g]&65535)!=m[g];)m[g+1]+=m[g]>>>16,m[g]&=65535,g++}function N(m,g){this.g=m,this.h=g}function u(m,g){if(M(g))throw Error("division by zero");if(M(m))return new N(A,A);if(D(m))return g=u(C(m),g),new N(C(g.g),C(g.h));if(D(g))return g=u(m,C(g)),new N(C(g.g),g.h);if(30<m.g.length){if(D(m)||D(g))throw Error("slowDivide_ only works with positive integers.");for(var v=I,y=g;0>=y.l(m);)v=p(v),y=p(y);var E=h(v,1),b=h(y,1);for(y=h(y,2),v=h(v,2);!M(y);){var T=b.add(y);0>=T.l(m)&&(E=E.add(v),b=T),y=h(y,1),v=h(v,1)}return g=S(m,E.j(g)),new N(E,g)}for(E=A;0<=m.l(g);){for(v=Math.max(1,Math.floor(m.m()/g.m())),y=Math.ceil(Math.log(v)/Math.LN2),y=48>=y?1:Math.pow(2,y-48),b=f(v),T=b.j(g);D(T)||0<T.l(m);)v-=y,b=f(v),T=b.j(g);M(b)&&(b=I),E=E.add(b),m=S(m,T)}return new N(E,m)}t.A=function(m){return u(this,m).h},t.and=function(m){for(var g=Math.max(this.g.length,m.g.length),v=[],y=0;y<g;y++)v[y]=this.i(y)&m.i(y);return new o(v,this.h&m.h)},t.or=function(m){for(var g=Math.max(this.g.length,m.g.length),v=[],y=0;y<g;y++)v[y]=this.i(y)|m.i(y);return new o(v,this.h|m.h)},t.xor=function(m){for(var g=Math.max(this.g.length,m.g.length),v=[],y=0;y<g;y++)v[y]=this.i(y)^m.i(y);return new o(v,this.h^m.h)};function p(m){for(var g=m.g.length+1,v=[],y=0;y<g;y++)v[y]=m.i(y)<<1|m.i(y-1)>>>31;return new o(v,m.h)}function h(m,g){var v=g>>5;g%=32;for(var y=m.g.length-v,E=[],b=0;b<y;b++)E[b]=0<g?m.i(b+v)>>>g|m.i(b+v+1)<<32-g:m.i(b+v);return new o(E,m.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_v=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=w,pr=o}).apply(typeof hm<"u"?hm:typeof self<"u"?self:typeof window<"u"?window:{});var Ko=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vv,ls,yv,la,Fc,wv,Ev,Tv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,_){return a==Array.prototype||a==Object.prototype||(a[d]=_.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ko=="object"&&Ko];for(var d=0;d<a.length;++d){var _=a[d];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var _=r;a=a.split(".");for(var k=0;k<a.length-1;k++){var O=a[k];if(!(O in _))break e;_=_[O]}a=a[a.length-1],k=_[a],d=d(k),d!=k&&d!=null&&e(_,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var _=0,k=!1,O={next:function(){if(!k&&_<a.length){var L=_++;return{value:d(L,a[L]),done:!1}}return k=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function f(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function w(a,d,_){return a.call.apply(a.bind,arguments)}function A(a,d,_){if(!a)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,k),a.apply(d,O)}}return function(){return a.apply(d,arguments)}}function I(a,d,_){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:A,I.apply(null,arguments)}function V(a,d){var _=Array.prototype.slice.call(arguments,1);return function(){var k=_.slice();return k.push.apply(k,arguments),a.apply(this,k)}}function M(a,d){function _(){}_.prototype=d.prototype,a.aa=d.prototype,a.prototype=new _,a.prototype.constructor=a,a.Qb=function(k,O,L){for(var G=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)G[Ee-2]=arguments[Ee];return d.prototype[O].apply(k,G)}}function D(a){const d=a.length;if(0<d){const _=Array(d);for(let k=0;k<d;k++)_[k]=a[k];return _}return[]}function C(a,d){for(let _=1;_<arguments.length;_++){const k=arguments[_];if(c(k)){const O=a.length||0,L=k.length||0;a.length=O+L;for(let G=0;G<L;G++)a[O+G]=k[G]}else a.push(k)}}class S{constructor(d,_){this.i=d,this.j=_,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function P(a){return/^[\s\xa0]*$/.test(a)}function N(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function u(a){return u[" "](a),a}u[" "]=function(){};var p=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function h(a,d,_){for(const k in a)d.call(_,a[k],k,a)}function m(a,d){for(const _ in a)d.call(void 0,a[_],_,a)}function g(a){const d={};for(const _ in a)d[_]=a[_];return d}const v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function y(a,d){let _,k;for(let O=1;O<arguments.length;O++){k=arguments[O];for(_ in k)a[_]=k[_];for(let L=0;L<v.length;L++)_=v[L],Object.prototype.hasOwnProperty.call(k,_)&&(a[_]=k[_])}}function E(a){var d=1;a=a.split(":");const _=[];for(;0<d&&a.length;)_.push(a.shift()),d--;return a.length&&_.push(a.join(":")),_}function b(a){l.setTimeout(()=>{throw a},0)}function T(){var a=X;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class z{constructor(){this.h=this.g=null}add(d,_){const k=F.get();k.set(d,_),this.h?this.h.next=k:this.g=k,this.h=k}}var F=new S(()=>new R,a=>a.reset());class R{constructor(){this.next=this.g=this.h=null}set(d,_){this.h=d,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let j,K=!1,X=new z,ce=()=>{const a=l.Promise.resolve(void 0);j=()=>{a.then(x)}};var x=()=>{for(var a;a=T();){try{a.h.call(a.g)}catch(_){b(_)}var d=F;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}K=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const _=()=>{};l.addEventListener("test",_,d),l.removeEventListener("test",_,d)}catch{}return a}();function oe(a,d){if(Y.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var _=this.type=a.type,k=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(p){e:{try{u(d.nodeName);var O=!0;break e}catch{}O=!1}O||(d=null)}}else _=="mouseover"?d=a.fromElement:_=="mouseout"&&(d=a.toElement);this.relatedTarget=d,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:ye[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&oe.aa.h.call(this)}}M(oe,Y);var ye={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),q=0;function U(a,d,_,k,O){this.listener=a,this.proxy=null,this.src=d,this.type=_,this.capture=!!k,this.ha=O,this.key=++q,this.da=this.fa=!1}function W(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ee(a){this.src=a,this.g={},this.h=0}ee.prototype.add=function(a,d,_,k,O){var L=a.toString();a=this.g[L],a||(a=this.g[L]=[],this.h++);var G=we(a,d,k,O);return-1<G?(d=a[G],_||(d.fa=!1)):(d=new U(d,this.src,L,!!k,O),d.fa=_,a.push(d)),d};function ke(a,d){var _=d.type;if(_ in a.g){var k=a.g[_],O=Array.prototype.indexOf.call(k,d,void 0),L;(L=0<=O)&&Array.prototype.splice.call(k,O,1),L&&(W(d),a.g[_].length==0&&(delete a.g[_],a.h--))}}function we(a,d,_,k){for(var O=0;O<a.length;++O){var L=a[O];if(!L.da&&L.listener==d&&L.capture==!!_&&L.ha==k)return O}return-1}var Ge="closure_lm_"+(1e6*Math.random()|0),Ot={};function Zn(a,d,_,k,O){if(Array.isArray(d)){for(var L=0;L<d.length;L++)Zn(a,d[L],_,k,O);return null}return _=Mf(_),a&&a[ve]?a.K(d,_,f(k)?!!k.capture:!!k,O):Pr(a,d,_,!1,k,O)}function Pr(a,d,_,k,O,L){if(!d)throw Error("Invalid event type");var G=f(O)?!!O.capture:!!O,Ee=Hu(a);if(Ee||(a[Ge]=Ee=new ee(a)),_=Ee.add(d,_,k,G,L),_.proxy)return _;if(k=jy(),_.proxy=k,k.src=a,k.listener=_,a.addEventListener)ue||(O=G),O===void 0&&(O=!1),a.addEventListener(d.toString(),k,O);else if(a.attachEvent)a.attachEvent(Vf(d.toString()),k);else if(a.addListener&&a.removeListener)a.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return _}function jy(){function a(_){return d.call(a.src,a.listener,_)}const d=Fy;return a}function Nf(a,d,_,k,O){if(Array.isArray(d))for(var L=0;L<d.length;L++)Nf(a,d[L],_,k,O);else k=f(k)?!!k.capture:!!k,_=Mf(_),a&&a[ve]?(a=a.i,d=String(d).toString(),d in a.g&&(L=a.g[d],_=we(L,_,k,O),-1<_&&(W(L[_]),Array.prototype.splice.call(L,_,1),L.length==0&&(delete a.g[d],a.h--)))):a&&(a=Hu(a))&&(d=a.g[d.toString()],a=-1,d&&(a=we(d,_,k,O)),(_=-1<a?d[a]:null)&&$u(_))}function $u(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[ve])ke(d.i,a);else{var _=a.type,k=a.proxy;d.removeEventListener?d.removeEventListener(_,k,a.capture):d.detachEvent?d.detachEvent(Vf(_),k):d.addListener&&d.removeListener&&d.removeListener(k),(_=Hu(d))?(ke(_,a),_.h==0&&(_.src=null,d[Ge]=null)):W(a)}}}function Vf(a){return a in Ot?Ot[a]:Ot[a]="on"+a}function Fy(a,d){if(a.da)a=!0;else{d=new oe(d,this);var _=a.listener,k=a.ha||a.src;a.fa&&$u(a),a=_.call(k,d)}return a}function Hu(a){return a=a[Ge],a instanceof ee?a:null}var qu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mf(a){return typeof a=="function"?a:(a[qu]||(a[qu]=function(d){return a.handleEvent(d)}),a[qu])}function tt(){Q.call(this),this.i=new ee(this),this.M=this,this.F=null}M(tt,Q),tt.prototype[ve]=!0,tt.prototype.removeEventListener=function(a,d,_,k){Nf(this,a,d,_,k)};function ft(a,d){var _,k=a.F;if(k)for(_=[];k;k=k.F)_.push(k);if(a=a.M,k=d.type||d,typeof d=="string")d=new Y(d,a);else if(d instanceof Y)d.target=d.target||a;else{var O=d;d=new Y(k,a),y(d,O)}if(O=!0,_)for(var L=_.length-1;0<=L;L--){var G=d.g=_[L];O=go(G,k,!0,d)&&O}if(G=d.g=a,O=go(G,k,!0,d)&&O,O=go(G,k,!1,d)&&O,_)for(L=0;L<_.length;L++)G=d.g=_[L],O=go(G,k,!1,d)&&O}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var _=a.g[d],k=0;k<_.length;k++)W(_[k]);delete a.g[d],a.h--}}this.F=null},tt.prototype.K=function(a,d,_,k){return this.i.add(String(a),d,!1,_,k)},tt.prototype.L=function(a,d,_,k){return this.i.add(String(a),d,!0,_,k)};function go(a,d,_,k){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var O=!0,L=0;L<d.length;++L){var G=d[L];if(G&&!G.da&&G.capture==_){var Ee=G.listener,Ke=G.ha||G.src;G.fa&&ke(a.i,G),O=Ee.call(Ke,k)!==!1&&O}}return O&&!k.defaultPrevented}function Of(a,d,_){if(typeof a=="function")_&&(a=I(a,_));else if(a&&typeof a.handleEvent=="function")a=I(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(a,d||0)}function Lf(a){a.g=Of(()=>{a.g=null,a.i&&(a.i=!1,Lf(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class By extends Q{constructor(d,_){super(),this.m=d,this.l=_,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Lf(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Di(a){Q.call(this),this.h=a,this.g={}}M(Di,Q);var xf=[];function zf(a){h(a.g,function(d,_){this.g.hasOwnProperty(_)&&$u(d)},a),a.g={}}Di.prototype.N=function(){Di.aa.N.call(this),zf(this)},Di.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wu=l.JSON.stringify,Uy=l.JSON.parse,$y=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Gu(){}Gu.prototype.h=null;function jf(a){return a.h||(a.h=a.i())}function Ff(){}var Ni={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ku(){Y.call(this,"d")}M(Ku,Y);function Qu(){Y.call(this,"c")}M(Qu,Y);var er={},Bf=null;function _o(){return Bf=Bf||new tt}er.La="serverreachability";function Uf(a){Y.call(this,er.La,a)}M(Uf,Y);function Vi(a){const d=_o();ft(d,new Uf(d))}er.STAT_EVENT="statevent";function $f(a,d){Y.call(this,er.STAT_EVENT,a),this.stat=d}M($f,Y);function ht(a){const d=_o();ft(d,new $f(d,a))}er.Ma="timingevent";function Hf(a,d){Y.call(this,er.Ma,a),this.size=d}M(Hf,Y);function Mi(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},d)}function Oi(){this.g=!0}Oi.prototype.xa=function(){this.g=!1};function Hy(a,d,_,k,O,L){a.info(function(){if(a.g)if(L)for(var G="",Ee=L.split("&"),Ke=0;Ke<Ee.length;Ke++){var ge=Ee[Ke].split("=");if(1<ge.length){var nt=ge[0];ge=ge[1];var rt=nt.split("_");G=2<=rt.length&&rt[1]=="type"?G+(nt+"="+ge+"&"):G+(nt+"=redacted&")}}else G=null;else G=L;return"XMLHTTP REQ ("+k+") [attempt "+O+"]: "+d+`
`+_+`
`+G})}function qy(a,d,_,k,O,L,G){a.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+O+"]: "+d+`
`+_+`
`+L+" "+G})}function br(a,d,_,k){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+Gy(a,_)+(k?" "+k:"")})}function Wy(a,d){a.info(function(){return"TIMEOUT: "+d})}Oi.prototype.info=function(){};function Gy(a,d){if(!a.g)return d;if(!d)return null;try{var _=JSON.parse(d);if(_){for(a=0;a<_.length;a++)if(Array.isArray(_[a])){var k=_[a];if(!(2>k.length)){var O=k[1];if(Array.isArray(O)&&!(1>O.length)){var L=O[0];if(L!="noop"&&L!="stop"&&L!="close")for(var G=1;G<O.length;G++)O[G]=""}}}}return Wu(_)}catch{return d}}var vo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yu;function yo(){}M(yo,Gu),yo.prototype.g=function(){return new XMLHttpRequest},yo.prototype.i=function(){return{}},Yu=new yo;function wn(a,d,_,k){this.j=a,this.i=d,this.l=_,this.R=k||1,this.U=new Di(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wf}function Wf(){this.i=null,this.g="",this.h=!1}var Gf={},Xu={};function Ju(a,d,_){a.L=1,a.v=So(sn(d)),a.m=_,a.P=!0,Kf(a,null)}function Kf(a,d){a.F=Date.now(),wo(a),a.A=sn(a.v);var _=a.A,k=a.R;Array.isArray(k)||(k=[String(k)]),uh(_.i,"t",k),a.C=0,_=a.j.J,a.h=new Wf,a.g=Ah(a.j,_?d:null,!a.m),0<a.O&&(a.M=new By(I(a.Y,a,a.g),a.O)),d=a.U,_=a.g,k=a.ca;var O="readystatechange";Array.isArray(O)||(O&&(xf[0]=O.toString()),O=xf);for(var L=0;L<O.length;L++){var G=Zn(_,O[L],k||d.handleEvent,!1,d.h||d);if(!G)break;d.g[G.key]=G}d=a.H?g(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Vi(),Hy(a.i,a.u,a.A,a.l,a.R,a.m)}wn.prototype.ca=function(a){a=a.target;const d=this.M;d&&on(a)==3?d.j():this.Y(a)},wn.prototype.Y=function(a){try{if(a==this.g)e:{const rt=on(this.g);var d=this.g.Ba();const Nr=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||mh(this.g)))){this.J||rt!=4||d==7||(d==8||0>=Nr?Vi(3):Vi(2)),Zu(this);var _=this.g.Z();this.X=_;t:if(Qf(this)){var k=mh(this.g);a="";var O=k.length,L=on(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tr(this),Li(this);var G="";break t}this.h.i=new l.TextDecoder}for(d=0;d<O;d++)this.h.h=!0,a+=this.h.i.decode(k[d],{stream:!(L&&d==O-1)});k.length=0,this.h.g+=a,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=_==200,qy(this.i,this.u,this.A,this.l,this.R,rt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,Ke=this.g;if((Ee=Ke.g?Ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(Ee)){var ge=Ee;break t}}ge=null}if(_=ge)br(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,el(this,_);else{this.o=!1,this.s=3,ht(12),tr(this),Li(this);break e}}if(this.P){_=!0;let Lt;for(;!this.J&&this.C<G.length;)if(Lt=Ky(this,G),Lt==Xu){rt==4&&(this.s=4,ht(14),_=!1),br(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==Gf){this.s=4,ht(15),br(this.i,this.l,G,"[Invalid Chunk]"),_=!1;break}else br(this.i,this.l,Lt,null),el(this,Lt);if(Qf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||G.length!=0||this.h.h||(this.s=1,ht(16),_=!1),this.o=this.o&&_,!_)br(this.i,this.l,G,"[Invalid Chunked Response]"),tr(this),Li(this);else if(0<G.length&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.ba&&!nt.M&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),ol(nt),nt.M=!0,ht(11))}}else br(this.i,this.l,G,null),el(this,G);rt==4&&tr(this),this.o&&!this.J&&(rt==4?Th(this.j,this):(this.o=!1,wo(this)))}else d0(this.g),_==400&&0<G.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),tr(this),Li(this)}}}catch{}finally{}};function Qf(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Ky(a,d){var _=a.C,k=d.indexOf(`
`,_);return k==-1?Xu:(_=Number(d.substring(_,k)),isNaN(_)?Gf:(k+=1,k+_>d.length?Xu:(d=d.slice(k,k+_),a.C=k+_,d)))}wn.prototype.cancel=function(){this.J=!0,tr(this)};function wo(a){a.S=Date.now()+a.I,Yf(a,a.I)}function Yf(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Mi(I(a.ba,a),d)}function Zu(a){a.B&&(l.clearTimeout(a.B),a.B=null)}wn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(Wy(this.i,this.A),this.L!=2&&(Vi(),ht(17)),tr(this),this.s=2,Li(this)):Yf(this,this.S-a)};function Li(a){a.j.G==0||a.J||Th(a.j,a)}function tr(a){Zu(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,zf(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function el(a,d){try{var _=a.j;if(_.G!=0&&(_.g==a||tl(_.h,a))){if(!a.K&&tl(_.h,a)&&_.G==3){try{var k=_.Da.g.parse(d)}catch{k=null}if(Array.isArray(k)&&k.length==3){var O=k;if(O[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<a.F)bo(_),Io(_);else break e;sl(_),ht(18)}}else _.za=O[1],0<_.za-_.T&&37500>O[2]&&_.F&&_.v==0&&!_.C&&(_.C=Mi(I(_.Za,_),6e3));if(1>=Zf(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else rr(_,11)}else if((a.K||_.g==a)&&bo(_),!P(d))for(O=_.Da.g.parse(d),d=0;d<O.length;d++){let ge=O[d];if(_.T=ge[0],ge=ge[1],_.G==2)if(ge[0]=="c"){_.K=ge[1],_.ia=ge[2];const nt=ge[3];nt!=null&&(_.la=nt,_.j.info("VER="+_.la));const rt=ge[4];rt!=null&&(_.Aa=rt,_.j.info("SVER="+_.Aa));const Nr=ge[5];Nr!=null&&typeof Nr=="number"&&0<Nr&&(k=1.5*Nr,_.L=k,_.j.info("backChannelRequestTimeoutMs_="+k)),k=_;const Lt=a.g;if(Lt){const Do=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Do){var L=k.h;L.g||Do.indexOf("spdy")==-1&&Do.indexOf("quic")==-1&&Do.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(nl(L,L.h),L.h=null))}if(k.D){const al=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;al&&(k.ya=al,Ce(k.I,k.D,al))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-a.F,_.j.info("Handshake RTT: "+_.R+"ms")),k=_;var G=a;if(k.qa=Ch(k,k.J?k.ia:null,k.W),G.K){eh(k.h,G);var Ee=G,Ke=k.L;Ke&&(Ee.I=Ke),Ee.B&&(Zu(Ee),wo(Ee)),k.g=G}else wh(k);0<_.i.length&&Po(_)}else ge[0]!="stop"&&ge[0]!="close"||rr(_,7);else _.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?rr(_,7):il(_):ge[0]!="noop"&&_.l&&_.l.ta(ge),_.v=0)}}Vi(4)}catch{}}var Qy=class{constructor(a,d){this.g=a,this.map=d}};function Xf(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jf(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Zf(a){return a.h?1:a.g?a.g.size:0}function tl(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function nl(a,d){a.g?a.g.add(d):a.h=d}function eh(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Xf.prototype.cancel=function(){if(this.i=th(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function th(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const _ of a.g.values())d=d.concat(_.D);return d}return D(a.i)}function Yy(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var d=[],_=a.length,k=0;k<_;k++)d.push(a[k]);return d}d=[],_=0;for(k in a)d[_++]=a[k];return d}function Xy(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var d=[];a=a.length;for(var _=0;_<a;_++)d.push(_);return d}d=[],_=0;for(const k in a)d[_++]=k;return d}}}function nh(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var _=Xy(a),k=Yy(a),O=k.length,L=0;L<O;L++)d.call(void 0,k[L],_&&_[L],a)}var rh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jy(a,d){if(a){a=a.split("&");for(var _=0;_<a.length;_++){var k=a[_].indexOf("="),O=null;if(0<=k){var L=a[_].substring(0,k);O=a[_].substring(k+1)}else L=a[_];d(L,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function nr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof nr){this.h=a.h,Eo(this,a.j),this.o=a.o,this.g=a.g,To(this,a.s),this.l=a.l;var d=a.i,_=new ji;_.i=d.i,d.g&&(_.g=new Map(d.g),_.h=d.h),ih(this,_),this.m=a.m}else a&&(d=String(a).match(rh))?(this.h=!1,Eo(this,d[1]||"",!0),this.o=xi(d[2]||""),this.g=xi(d[3]||"",!0),To(this,d[4]),this.l=xi(d[5]||"",!0),ih(this,d[6]||"",!0),this.m=xi(d[7]||"")):(this.h=!1,this.i=new ji(null,this.h))}nr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(zi(d,sh,!0),":");var _=this.g;return(_||d=="file")&&(a.push("//"),(d=this.o)&&a.push(zi(d,sh,!0),"@"),a.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&a.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&a.push("/"),a.push(zi(_,_.charAt(0)=="/"?t0:e0,!0))),(_=this.i.toString())&&a.push("?",_),(_=this.m)&&a.push("#",zi(_,r0)),a.join("")};function sn(a){return new nr(a)}function Eo(a,d,_){a.j=_?xi(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function To(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function ih(a,d,_){d instanceof ji?(a.i=d,i0(a.i,a.h)):(_||(d=zi(d,n0)),a.i=new ji(d,a.h))}function Ce(a,d,_){a.i.set(d,_)}function So(a){return Ce(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function xi(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function zi(a,d,_){return typeof a=="string"?(a=encodeURI(a).replace(d,Zy),_&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Zy(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var sh=/[#\/\?@]/g,e0=/[#\?:]/g,t0=/[#\?]/g,n0=/[#\?@]/g,r0=/#/g;function ji(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function En(a){a.g||(a.g=new Map,a.h=0,a.i&&Jy(a.i,function(d,_){a.add(decodeURIComponent(d.replace(/\+/g," ")),_)}))}t=ji.prototype,t.add=function(a,d){En(this),this.i=null,a=Rr(this,a);var _=this.g.get(a);return _||this.g.set(a,_=[]),_.push(d),this.h+=1,this};function oh(a,d){En(a),d=Rr(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function ah(a,d){return En(a),d=Rr(a,d),a.g.has(d)}t.forEach=function(a,d){En(this),this.g.forEach(function(_,k){_.forEach(function(O){a.call(d,O,k,this)},this)},this)},t.na=function(){En(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),_=[];for(let k=0;k<d.length;k++){const O=a[k];for(let L=0;L<O.length;L++)_.push(d[k])}return _},t.V=function(a){En(this);let d=[];if(typeof a=="string")ah(this,a)&&(d=d.concat(this.g.get(Rr(this,a))));else{a=Array.from(this.g.values());for(let _=0;_<a.length;_++)d=d.concat(a[_])}return d},t.set=function(a,d){return En(this),this.i=null,a=Rr(this,a),ah(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function uh(a,d,_){oh(a,d),0<_.length&&(a.i=null,a.g.set(Rr(a,d),D(_)),a.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var _=0;_<d.length;_++){var k=d[_];const L=encodeURIComponent(String(k)),G=this.V(k);for(k=0;k<G.length;k++){var O=L;G[k]!==""&&(O+="="+encodeURIComponent(String(G[k]))),a.push(O)}}return this.i=a.join("&")};function Rr(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function i0(a,d){d&&!a.j&&(En(a),a.i=null,a.g.forEach(function(_,k){var O=k.toLowerCase();k!=O&&(oh(this,k),uh(this,O,_))},a)),a.j=d}function s0(a,d){const _=new Oi;if(l.Image){const k=new Image;k.onload=V(Tn,_,"TestLoadImage: loaded",!0,d,k),k.onerror=V(Tn,_,"TestLoadImage: error",!1,d,k),k.onabort=V(Tn,_,"TestLoadImage: abort",!1,d,k),k.ontimeout=V(Tn,_,"TestLoadImage: timeout",!1,d,k),l.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=a}else d(!1)}function o0(a,d){const _=new Oi,k=new AbortController,O=setTimeout(()=>{k.abort(),Tn(_,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:k.signal}).then(L=>{clearTimeout(O),L.ok?Tn(_,"TestPingServer: ok",!0,d):Tn(_,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(O),Tn(_,"TestPingServer: error",!1,d)})}function Tn(a,d,_,k,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),k(_)}catch{}}function a0(){this.g=new $y}function u0(a,d,_){const k=_||"";try{nh(a,function(O,L){let G=O;f(O)&&(G=Wu(O)),d.push(k+L+"="+encodeURIComponent(G))})}catch(O){throw d.push(k+"type="+encodeURIComponent("_badmap")),O}}function ko(a){this.l=a.Ub||null,this.j=a.eb||!1}M(ko,Gu),ko.prototype.g=function(){return new Co(this.l,this.j)},ko.prototype.i=function(a){return function(){return a}}({});function Co(a,d){tt.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Co,tt),t=Co.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Bi(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fi(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Bi(this)),this.g&&(this.readyState=3,Bi(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lh(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function lh(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Fi(this):Bi(this),this.readyState==3&&lh(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Fi(this))},t.Qa=function(a){this.g&&(this.response=a,Fi(this))},t.ga=function(){this.g&&Fi(this)};function Fi(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Bi(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var _=d.next();!_.done;)_=_.value,a.push(_[0]+": "+_[1]),_=d.next();return a.join(`\r
`)};function Bi(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Co.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function ch(a){let d="";return h(a,function(_,k){d+=k,d+=":",d+=_,d+=`\r
`}),d}function rl(a,d,_){e:{for(k in _){var k=!1;break e}k=!0}k||(_=ch(_),typeof a=="string"?_!=null&&encodeURIComponent(String(_)):Ce(a,d,_))}function De(a){tt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(De,tt);var l0=/^https?$/i,c0=["POST","PUT"];t=De.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,_,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yu.g(),this.v=this.o?jf(this.o):jf(Yu),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(L){dh(this,L);return}if(a=_||"",_=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var O in k)_.set(O,k[O]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const L of k.keys())_.set(L,k.get(L));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(_.keys()).find(L=>L.toLowerCase()=="content-type"),O=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(c0,d,void 0))||k||O||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,G]of _)this.g.setRequestHeader(L,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ph(this),this.u=!0,this.g.send(a),this.u=!1}catch(L){dh(this,L)}};function dh(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,fh(a),Ao(a)}function fh(a){a.A||(a.A=!0,ft(a,"complete"),ft(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ft(this,"complete"),ft(this,"abort"),Ao(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ao(this,!0)),De.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?hh(this):this.bb())},t.bb=function(){hh(this)};function hh(a){if(a.h&&typeof o<"u"&&(!a.v[1]||on(a)!=4||a.Z()!=2)){if(a.u&&on(a)==4)Of(a.Ea,0,a);else if(ft(a,"readystatechange"),on(a)==4){a.h=!1;try{const G=a.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var _;if(!(_=d)){var k;if(k=G===0){var O=String(a.D).match(rh)[1]||null;!O&&l.self&&l.self.location&&(O=l.self.location.protocol.slice(0,-1)),k=!l0.test(O?O.toLowerCase():"")}_=k}if(_)ft(a,"complete"),ft(a,"success");else{a.m=6;try{var L=2<on(a)?a.g.statusText:""}catch{L=""}a.l=L+" ["+a.Z()+"]",fh(a)}}finally{Ao(a)}}}}function Ao(a,d){if(a.g){ph(a);const _=a.g,k=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ft(a,"ready");try{_.onreadystatechange=k}catch{}}}function ph(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function on(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<on(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),Uy(d)}};function mh(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function d0(a){const d={};a=(a.g&&2<=on(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<a.length;k++){if(P(a[k]))continue;var _=E(a[k]);const O=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const L=d[O]||[];d[O]=L,L.push(_)}m(d,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ui(a,d,_){return _&&_.internalChannelParams&&_.internalChannelParams[a]||d}function gh(a){this.Aa=0,this.i=[],this.j=new Oi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ui("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ui("baseRetryDelayMs",5e3,a),this.cb=Ui("retryDelaySeedMs",1e4,a),this.Wa=Ui("forwardChannelMaxRetries",2,a),this.wa=Ui("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Xf(a&&a.concurrentRequestLimit),this.Da=new a0,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=gh.prototype,t.la=8,t.G=1,t.connect=function(a,d,_,k){ht(0),this.W=a,this.H=d||{},_&&k!==void 0&&(this.H.OSID=_,this.H.OAID=k),this.F=this.X,this.I=Ch(this,null,this.W),Po(this)};function il(a){if(_h(a),a.G==3){var d=a.U++,_=sn(a.I);if(Ce(_,"SID",a.K),Ce(_,"RID",d),Ce(_,"TYPE","terminate"),$i(a,_),d=new wn(a,a.j,d),d.L=2,d.v=So(sn(_)),_=!1,l.navigator&&l.navigator.sendBeacon)try{_=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!_&&l.Image&&(new Image().src=d.v,_=!0),_||(d.g=Ah(d.j,null),d.g.ea(d.v)),d.F=Date.now(),wo(d)}kh(a)}function Io(a){a.g&&(ol(a),a.g.cancel(),a.g=null)}function _h(a){Io(a),a.u&&(l.clearTimeout(a.u),a.u=null),bo(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Po(a){if(!Jf(a.h)&&!a.s){a.s=!0;var d=a.Ga;j||ce(),K||(j(),K=!0),X.add(d,a),a.B=0}}function f0(a,d){return Zf(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Mi(I(a.Ga,a,d),Sh(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const O=new wn(this,this.j,a);let L=this.o;if(this.S&&(L?(L=g(L),y(L,this.S)):L=this.S),this.m!==null||this.O||(O.H=L,L=null),this.P)e:{for(var d=0,_=0;_<this.i.length;_++){t:{var k=this.i[_];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(d+=k,4096<d){d=_;break e}if(d===4096||_===this.i.length-1){d=_+1;break e}}d=1e3}else d=1e3;d=yh(this,O,d),_=sn(this.I),Ce(_,"RID",a),Ce(_,"CVER",22),this.D&&Ce(_,"X-HTTP-Session-Id",this.D),$i(this,_),L&&(this.O?d="headers="+encodeURIComponent(String(ch(L)))+"&"+d:this.m&&rl(_,this.m,L)),nl(this.h,O),this.Ua&&Ce(_,"TYPE","init"),this.P?(Ce(_,"$req",d),Ce(_,"SID","null"),O.T=!0,Ju(O,_,null)):Ju(O,_,d),this.G=2}}else this.G==3&&(a?vh(this,a):this.i.length==0||Jf(this.h)||vh(this))};function vh(a,d){var _;d?_=d.l:_=a.U++;const k=sn(a.I);Ce(k,"SID",a.K),Ce(k,"RID",_),Ce(k,"AID",a.T),$i(a,k),a.m&&a.o&&rl(k,a.m,a.o),_=new wn(a,a.j,_,a.B+1),a.m===null&&(_.H=a.o),d&&(a.i=d.D.concat(a.i)),d=yh(a,_,1e3),_.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),nl(a.h,_),Ju(_,k,d)}function $i(a,d){a.H&&h(a.H,function(_,k){Ce(d,k,_)}),a.l&&nh({},function(_,k){Ce(d,k,_)})}function yh(a,d,_){_=Math.min(a.i.length,_);var k=a.l?I(a.l.Na,a.l,a):null;e:{var O=a.i;let L=-1;for(;;){const G=["count="+_];L==-1?0<_?(L=O[0].g,G.push("ofs="+L)):L=0:G.push("ofs="+L);let Ee=!0;for(let Ke=0;Ke<_;Ke++){let ge=O[Ke].g;const nt=O[Ke].map;if(ge-=L,0>ge)L=Math.max(0,O[Ke].g-100),Ee=!1;else try{u0(nt,G,"req"+ge+"_")}catch{k&&k(nt)}}if(Ee){k=G.join("&");break e}}}return a=a.i.splice(0,_),d.D=a,k}function wh(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;j||ce(),K||(j(),K=!0),X.add(d,a),a.v=0}}function sl(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Mi(I(a.Fa,a),Sh(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Eh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Mi(I(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),Io(this),Eh(this))};function ol(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Eh(a){a.g=new wn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=sn(a.qa);Ce(d,"RID","rpc"),Ce(d,"SID",a.K),Ce(d,"AID",a.T),Ce(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ce(d,"TO",a.ja),Ce(d,"TYPE","xmlhttp"),$i(a,d),a.m&&a.o&&rl(d,a.m,a.o),a.L&&(a.g.I=a.L);var _=a.g;a=a.ia,_.L=1,_.v=So(sn(d)),_.m=null,_.P=!0,Kf(_,a)}t.Za=function(){this.C!=null&&(this.C=null,Io(this),sl(this),ht(19))};function bo(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Th(a,d){var _=null;if(a.g==d){bo(a),ol(a),a.g=null;var k=2}else if(tl(a.h,d))_=d.D,eh(a.h,d),k=1;else return;if(a.G!=0){if(d.o)if(k==1){_=d.m?d.m.length:0,d=Date.now()-d.F;var O=a.B;k=_o(),ft(k,new Hf(k,_)),Po(a)}else wh(a);else if(O=d.s,O==3||O==0&&0<d.X||!(k==1&&f0(a,d)||k==2&&sl(a)))switch(_&&0<_.length&&(d=a.h,d.i=d.i.concat(_)),O){case 1:rr(a,5);break;case 4:rr(a,10);break;case 3:rr(a,6);break;default:rr(a,2)}}}function Sh(a,d){let _=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(_*=2),_*d}function rr(a,d){if(a.j.info("Error code "+d),d==2){var _=I(a.fb,a),k=a.Xa;const O=!k;k=new nr(k||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Eo(k,"https"),So(k),O?s0(k.toString(),_):o0(k.toString(),_)}else ht(2);a.G=0,a.l&&a.l.sa(d),kh(a),_h(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function kh(a){if(a.G=0,a.ka=[],a.l){const d=th(a.h);(d.length!=0||a.i.length!=0)&&(C(a.ka,d),C(a.ka,a.i),a.h.i.length=0,D(a.i),a.i.length=0),a.l.ra()}}function Ch(a,d,_){var k=_ instanceof nr?sn(_):new nr(_);if(k.g!="")d&&(k.g=d+"."+k.g),To(k,k.s);else{var O=l.location;k=O.protocol,d=d?d+"."+O.hostname:O.hostname,O=+O.port;var L=new nr(null);k&&Eo(L,k),d&&(L.g=d),O&&To(L,O),_&&(L.l=_),k=L}return _=a.D,d=a.ya,_&&d&&Ce(k,_,d),Ce(k,"VER",a.la),$i(a,k),k}function Ah(a,d,_){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new De(new ko({eb:_})):new De(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ih(){}t=Ih.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ro(){}Ro.prototype.g=function(a,d){return new Et(a,d)};function Et(a,d){tt.call(this),this.g=new gh(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!P(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!P(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Dr(this)}M(Et,tt),Et.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Et.prototype.close=function(){il(this.g)},Et.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var _={};_.__data__=a,a=_}else this.u&&(_={},_.__data__=Wu(a),a=_);d.i.push(new Qy(d.Ya++,a)),d.G==3&&Po(d)},Et.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,Et.aa.N.call(this)};function Ph(a){Ku.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const _ in d){a=_;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}M(Ph,Ku);function bh(){Qu.call(this),this.status=1}M(bh,Qu);function Dr(a){this.g=a}M(Dr,Ih),Dr.prototype.ua=function(){ft(this.g,"a")},Dr.prototype.ta=function(a){ft(this.g,new Ph(a))},Dr.prototype.sa=function(a){ft(this.g,new bh)},Dr.prototype.ra=function(){ft(this.g,"b")},Ro.prototype.createWebChannel=Ro.prototype.g,Et.prototype.send=Et.prototype.o,Et.prototype.open=Et.prototype.m,Et.prototype.close=Et.prototype.close,Tv=function(){return new Ro},Ev=function(){return _o()},wv=er,Fc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vo.NO_ERROR=0,vo.TIMEOUT=8,vo.HTTP_ERROR=6,la=vo,qf.COMPLETE="complete",yv=qf,Ff.EventType=Ni,Ni.OPEN="a",Ni.CLOSE="b",Ni.ERROR="c",Ni.MESSAGE="d",tt.prototype.listen=tt.prototype.K,ls=Ff,De.prototype.listenOnce=De.prototype.L,De.prototype.getLastError=De.prototype.Ka,De.prototype.getLastErrorCode=De.prototype.Ba,De.prototype.getStatus=De.prototype.Z,De.prototype.getResponseJson=De.prototype.Oa,De.prototype.getResponseText=De.prototype.oa,De.prototype.send=De.prototype.ea,De.prototype.setWithCredentials=De.prototype.Ha,vv=De}).apply(typeof Ko<"u"?Ko:typeof self<"u"?self:typeof window<"u"?window:{});const pm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}at.UNAUTHENTICATED=new at(null),at.GOOGLE_CREDENTIALS=new at("google-credentials-uid"),at.FIRST_PARTY=new at("first-party-uid"),at.MOCK_USER=new at("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ii="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new dv("@firebase/firestore");function Lr(){return yr.logLevel}function J(t,...e){if(yr.logLevel<=he.DEBUG){const n=e.map(rf);yr.debug(`Firestore (${Ii}): ${t}`,...n)}}function gn(t,...e){if(yr.logLevel<=he.ERROR){const n=e.map(rf);yr.error(`Firestore (${Ii}): ${t}`,...n)}}function di(t,...e){if(yr.logLevel<=he.WARN){const n=e.map(rf);yr.warn(`Firestore (${Ii}): ${t}`,...n)}}function rf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(t="Unexpected state"){const e=`FIRESTORE (${Ii}) INTERNAL ASSERTION FAILED: `+t;throw gn(e),new Error(e)}function _e(t,e){t||re()}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class B8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(at.UNAUTHENTICATED))}shutdown(){}}class U8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $8{constructor(e){this.t=e,this.currentUser=at.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_e(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new mr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new mr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string"),new Sv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string"),new at(e)}}class H8{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=at.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class q8{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new H8(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(at.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class W8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G8{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){_e(this.o===void 0);const r=s=>{s.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_e(typeof n.token=="string"),this.R=n.token,new W8(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=K8(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function pe(t,e){return t<e?-1:t>e?1:0}function fi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ue.fromMillis(Date.now())}static fromDate(e){return Ue.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ue(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new se(e)}static min(){return new se(new Ue(0,0))}static max(){return new se(new Ue(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(),r===void 0?r=e.length-n:r>e.length-n&&re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ws.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ws?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Pe extends Ws{construct(e,n,r){return new Pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Pe(n)}static emptyPath(){return new Pe([])}}const Q8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Ws{construct(e,n,r){return new Je(e,n,r)}static isValidIdentifier(e){return Q8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Je(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new te($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new te($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new te($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new te($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Je(n)}static emptyPath(){return new Je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Pe.fromString(e))}static fromName(e){return new ne(Pe.fromString(e).popFirst(5))}static empty(){return new ne(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Pe(e.slice()))}}function Y8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new Ue(n+1,0):new Ue(n,r));return new Wn(i,ne.empty(),e)}function X8(t){return new Wn(t.readTime,t.key,-1)}class Wn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Wn(se.min(),ne.empty(),-1)}static max(){return new Wn(se.max(),ne.empty(),-1)}}function J8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pi(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==Z8)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const f=c;n(e[f]).next(w=>{o[f]=w,++l,l===s&&r(o)},w=>i(w))}})}static doWhile(e,n){return new B((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function t2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bi(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}bu.oe=-1;function Ru(t){return t==null}function Ba(t){return t===0&&1/t==-1/0}function n2(t){return typeof t=="number"&&Number.isInteger(t)&&!Ba(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=mm(e)),e=i2(t.get(n),e);return mm(e)}function i2(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function mm(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function kr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Cv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,n){this.comparator=e,this.root=n||Ye.EMPTY}insert(e,n){return new Re(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(e){return new Re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qo(this.root,e,this.comparator,!0)}}class Qo{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ye{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ye.RED,this.left=i??Ye.EMPTY,this.right=s??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ye(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ye.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();const e=this.left.check();if(e!==this.right.check())throw re();return e+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw re()}get value(){throw re()}get color(){throw re()}get left(){throw re()}get right(){throw re()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ye(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.comparator=e,this.data=new Re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _m(this.data.getIterator())}getIteratorFrom(e){return new _m(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new qe(this.comparator);return n.data=e,n}}class _m{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.fields=e,e.sort(Je.comparator)}static empty(){return new Ht([])}unionWith(e){let n=new qe(Je.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ht(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Av("Invalid base64 string: "+s):s}}(e);return new et(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}et.EMPTY_BYTE_STRING=new et("");const s2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gn(t){if(_e(!!t),typeof t=="string"){let e=0;const n=s2.exec(t);if(_e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(t.seconds),nanos:Oe(t.nanos)}}function Oe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Kn(t){return typeof t=="string"?et.fromBase64String(t):et.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Du(t){const e=t.mapValue.fields.__previous_value__;return sf(e)?Du(e):e}function Gs(t){const e=Gn(t.mapValue.fields.__local_write_time__.timestampValue);return new Ue(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n,r,i,s,o,l,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f}}class Ks{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ks("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ks&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qn(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sf(t)?4:u2(t)?9007199254740991:a2(t)?10:11:re()}function tn(t,e){if(t===e)return!0;const n=Qn(t);if(n!==Qn(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gs(t).isEqual(Gs(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Gn(i.timestampValue),l=Gn(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Kn(i.bytesValue).isEqual(Kn(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Oe(i.geoPointValue.latitude)===Oe(s.geoPointValue.latitude)&&Oe(i.geoPointValue.longitude)===Oe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Oe(i.integerValue)===Oe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Oe(i.doubleValue),l=Oe(s.doubleValue);return o===l?Ba(o)===Ba(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return fi(t.arrayValue.values||[],e.arrayValue.values||[],tn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(gm(o)!==gm(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!tn(o[c],l[c])))return!1;return!0}(t,e);default:return re()}}function Qs(t,e){return(t.values||[]).find(n=>tn(n,e))!==void 0}function hi(t,e){if(t===e)return 0;const n=Qn(t),r=Qn(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Oe(s.integerValue||s.doubleValue),c=Oe(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return vm(t.timestampValue,e.timestampValue);case 4:return vm(Gs(t),Gs(e));case 5:return pe(t.stringValue,e.stringValue);case 6:return function(s,o){const l=Kn(s),c=Kn(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let f=0;f<l.length&&f<c.length;f++){const w=pe(l[f],c[f]);if(w!==0)return w}return pe(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=pe(Oe(s.latitude),Oe(o.latitude));return l!==0?l:pe(Oe(s.longitude),Oe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ym(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,c,f,w;const A=s.fields||{},I=o.fields||{},V=(l=A.value)===null||l===void 0?void 0:l.arrayValue,M=(c=I.value)===null||c===void 0?void 0:c.arrayValue,D=pe(((f=V==null?void 0:V.values)===null||f===void 0?void 0:f.length)||0,((w=M==null?void 0:M.values)===null||w===void 0?void 0:w.length)||0);return D!==0?D:ym(V,M)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Yo.mapValue&&o===Yo.mapValue)return 0;if(s===Yo.mapValue)return 1;if(o===Yo.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),f=o.fields||{},w=Object.keys(f);c.sort(),w.sort();for(let A=0;A<c.length&&A<w.length;++A){const I=pe(c[A],w[A]);if(I!==0)return I;const V=hi(l[c[A]],f[w[A]]);if(V!==0)return V}return pe(c.length,w.length)}(t.mapValue,e.mapValue);default:throw re()}}function vm(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);const n=Gn(t),r=Gn(e),i=pe(n.seconds,r.seconds);return i!==0?i:pe(n.nanos,r.nanos)}function ym(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=hi(n[i],r[i]);if(s)return s}return pe(n.length,r.length)}function pi(t){return Bc(t)}function Bc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Gn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Kn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Bc(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Bc(n.fields[o])}`;return i+"}"}(t.mapValue):re()}function ca(t){switch(Qn(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Du(t);return e?16+ca(e):16;case 5:return 2*t.stringValue.length;case 6:return Kn(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+ca(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return kr(r.fields,(s,o)=>{i+=s.length+ca(o)}),i}(t.mapValue);default:throw re()}}function Uc(t){return!!t&&"integerValue"in t}function of(t){return!!t&&"arrayValue"in t}function wm(t){return!!t&&"nullValue"in t}function Em(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function da(t){return!!t&&"mapValue"in t}function a2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Cs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return kr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Cs(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function u2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.value=e}static empty(){return new bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!da(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cs(n)}setAll(e){let n=Je.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Cs(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());da(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return tn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];da(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){kr(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new bt(Cs(this.value))}}function Iv(t){const e=[];return kr(t.fields,(n,r)=>{const i=new Je([n]);if(da(r)){const s=Iv(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ht(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new ut(e,0,se.min(),se.min(),se.min(),bt.empty(),0)}static newFoundDocument(e,n,r,i){return new ut(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new ut(e,2,n,se.min(),se.min(),bt.empty(),0)}static newUnknownDocument(e,n){return new ut(e,3,n,se.min(),se.min(),bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n){this.position=e,this.inclusive=n}}function Tm(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=hi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Sm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!tn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n="asc"){this.field=e,this.dir=n}}function l2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{}class Fe extends Pv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new d2(e,n,r):n==="array-contains"?new p2(e,r):n==="in"?new m2(e,r):n==="not-in"?new g2(e,r):n==="array-contains-any"?new _2(e,r):new Fe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new f2(e,r):new h2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(hi(n,this.value)):n!==null&&Qn(this.value)===Qn(n)&&this.matchesComparison(hi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nn extends Pv{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new nn(e,n)}matches(e){return bv(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function bv(t){return t.op==="and"}function Rv(t){return c2(t)&&bv(t)}function c2(t){for(const e of t.filters)if(e instanceof nn)return!1;return!0}function $c(t){if(t instanceof Fe)return t.field.canonicalString()+t.op.toString()+pi(t.value);if(Rv(t))return t.filters.map(e=>$c(e)).join(",");{const e=t.filters.map(n=>$c(n)).join(",");return`${t.op}(${e})`}}function Dv(t,e){return t instanceof Fe?function(r,i){return i instanceof Fe&&r.op===i.op&&r.field.isEqual(i.field)&&tn(r.value,i.value)}(t,e):t instanceof nn?function(r,i){return i instanceof nn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&Dv(o,i.filters[l]),!0):!1}(t,e):void re()}function Nv(t){return t instanceof Fe?function(n){return`${n.field.canonicalString()} ${n.op} ${pi(n.value)}`}(t):t instanceof nn?function(n){return n.op.toString()+" {"+n.getFilters().map(Nv).join(" ,")+"}"}(t):"Filter"}class d2 extends Fe{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class f2 extends Fe{constructor(e,n){super(e,"in",n),this.keys=Vv("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class h2 extends Fe{constructor(e,n){super(e,"not-in",n),this.keys=Vv("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Vv(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class p2 extends Fe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return of(n)&&Qs(n.arrayValue,this.value)}}class m2 extends Fe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qs(this.value.arrayValue,n)}}class g2 extends Fe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Qs(this.value.arrayValue,n)}}class _2 extends Fe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!of(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function km(t,e=null,n=[],r=[],i=null,s=null,o=null){return new v2(t,e,n,r,i,s,o)}function af(t){const e=ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$c(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ru(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>pi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>pi(r)).join(",")),e.ue=n}return e.ue}function uf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!l2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Dv(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Sm(t.startAt,e.startAt)&&Sm(t.endAt,e.endAt)}function Hc(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function y2(t,e,n,r,i,s,o,l){return new Nu(t,e,n,r,i,s,o,l)}function lf(t){return new Nu(t)}function Cm(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function w2(t){return t.collectionGroup!==null}function As(t){const e=ae(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new qe(Je.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new $a(s,r))}),n.has(Je.keyField().canonicalString())||e.ce.push(new $a(Je.keyField(),r))}return e.ce}function Zt(t){const e=ae(t);return e.le||(e.le=E2(e,As(t))),e.le}function E2(t,e){if(t.limitType==="F")return km(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new $a(i.field,s)});const n=t.endAt?new Ua(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ua(t.startAt.position,t.startAt.inclusive):null;return km(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function qc(t,e,n){return new Nu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vu(t,e){return uf(Zt(t),Zt(e))&&t.limitType===e.limitType}function Mv(t){return`${af(Zt(t))}|lt:${t.limitType}`}function xr(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Nv(i)).join(", ")}]`),Ru(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>pi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>pi(i)).join(",")),`Target(${r})`}(Zt(t))}; limitType=${t.limitType})`}function Mu(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of As(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const f=Tm(o,l,c);return o.inclusive?f<=0:f<0}(r.startAt,As(r),i)||r.endAt&&!function(o,l,c){const f=Tm(o,l,c);return o.inclusive?f>=0:f>0}(r.endAt,As(r),i))}(t,e)}function T2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ov(t){return(e,n)=>{let r=!1;for(const i of As(t)){const s=S2(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function S2(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),f=l.data.field(s);return c!==null&&f!==null?hi(c,f):re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){kr(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Cv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=new Re(ne.comparator);function _n(){return k2}const Lv=new Re(ne.comparator);function cs(...t){let e=Lv;for(const n of t)e=e.insert(n.key,n);return e}function xv(t){let e=Lv;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fr(){return Is()}function zv(){return Is()}function Is(){return new Cr(t=>t.toString(),(t,e)=>t.isEqual(e))}const C2=new Re(ne.comparator),A2=new qe(ne.comparator);function de(...t){let e=A2;for(const n of t)e=e.add(n);return e}const I2=new qe(pe);function P2(){return I2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ba(e)?"-0":e}}function jv(t){return{integerValue:""+t}}function b2(t,e){return n2(e)?jv(e):cf(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(){this._=void 0}}function R2(t,e,n){return t instanceof Ha?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&sf(s)&&(s=Du(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ys?Bv(t,e):t instanceof Xs?Uv(t,e):function(i,s){const o=Fv(i,s),l=Am(o)+Am(i.Pe);return Uc(o)&&Uc(i.Pe)?jv(l):cf(i.serializer,l)}(t,e)}function D2(t,e,n){return t instanceof Ys?Bv(t,e):t instanceof Xs?Uv(t,e):n}function Fv(t,e){return t instanceof qa?function(r){return Uc(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ha extends Ou{}class Ys extends Ou{constructor(e){super(),this.elements=e}}function Bv(t,e){const n=$v(e);for(const r of t.elements)n.some(i=>tn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Xs extends Ou{constructor(e){super(),this.elements=e}}function Uv(t,e){let n=$v(e);for(const r of t.elements)n=n.filter(i=>!tn(i,r));return{arrayValue:{values:n}}}class qa extends Ou{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Am(t){return Oe(t.integerValue||t.doubleValue)}function $v(t){return of(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function N2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ys&&i instanceof Ys||r instanceof Xs&&i instanceof Xs?fi(r.elements,i.elements,tn):r instanceof qa&&i instanceof qa?tn(r.Pe,i.Pe):r instanceof Ha&&i instanceof Ha}(t.transform,e.transform)}class V2{constructor(e,n){this.version=e,this.transformResults=n}}class qt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qt}static exists(e){return new qt(void 0,e)}static updateTime(e){return new qt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fa(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lu{}function Hv(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new df(t.key,qt.none()):new fo(t.key,t.data,qt.none());{const n=t.data,r=bt.empty();let i=new qe(Je.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ar(t.key,r,new Ht(i.toArray()),qt.none())}}function M2(t,e,n){t instanceof fo?function(i,s,o){const l=i.value.clone(),c=Pm(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ar?function(i,s,o){if(!fa(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Pm(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(qv(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ps(t,e,n,r){return t instanceof fo?function(s,o,l,c){if(!fa(s.precondition,o))return l;const f=s.value.clone(),w=bm(s.fieldTransforms,c,o);return f.setAll(w),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ar?function(s,o,l,c){if(!fa(s.precondition,o))return l;const f=bm(s.fieldTransforms,c,o),w=o.data;return w.setAll(qv(s)),w.setAll(f),o.convertToFoundDocument(o.version,w).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(A=>A.field))}(t,e,n,r):function(s,o,l){return fa(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function O2(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Fv(r.transform,i||null);s!=null&&(n===null&&(n=bt.empty()),n.set(r.field,s))}return n||null}function Im(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fi(r,i,(s,o)=>N2(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fo extends Lu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ar extends Lu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function qv(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Pm(t,e,n){const r=new Map;_e(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,D2(o,l,n[i]))}return r}function bm(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,R2(s,o,e))}return r}class df extends Lu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L2 extends Lu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&M2(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ps(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ps(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=zv();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=Hv(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&fi(this.mutations,e.mutations,(n,r)=>Im(n,r))&&fi(this.baseMutations,e.baseMutations,(n,r)=>Im(n,r))}}class ff{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_e(e.mutations.length===r.length);let i=function(){return C2}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ff(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,fe;function F2(t){switch(t){default:return re();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function Wv(t){if(t===void 0)return gn("GRPC error has no .code"),$.UNKNOWN;switch(t){case xe.OK:return $.OK;case xe.CANCELLED:return $.CANCELLED;case xe.UNKNOWN:return $.UNKNOWN;case xe.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case xe.INTERNAL:return $.INTERNAL;case xe.UNAVAILABLE:return $.UNAVAILABLE;case xe.UNAUTHENTICATED:return $.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case xe.NOT_FOUND:return $.NOT_FOUND;case xe.ALREADY_EXISTS:return $.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return $.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case xe.ABORTED:return $.ABORTED;case xe.OUT_OF_RANGE:return $.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return $.UNIMPLEMENTED;case xe.DATA_LOSS:return $.DATA_LOSS;default:return re()}}(fe=xe||(xe={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=new pr([4294967295,4294967295],0);function Rm(t){const e=B2().encode(t),n=new _v;return n.update(e),new Uint8Array(n.digest())}function Dm(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new pr([n,r],0),new pr([i,s],0)]}class hf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ds(`Invalid padding: ${n}`);if(r<0)throw new ds(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ds(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ds(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=pr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(pr.fromNumber(r)));return i.compare(U2)===1&&(i=new pr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Rm(e),[r,i]=Dm(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new hf(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=Rm(e),[r,i]=Dm(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ds extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ho.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xu(se.min(),i,new Re(pe),_n(),de())}}class ho{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ho(r,n,de(),de(),de())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Gv{constructor(e,n){this.targetId=e,this.me=n}}class Kv{constructor(e,n,r=et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Nm{constructor(){this.fe=0,this.ge=Mm(),this.pe=et.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=de(),n=de(),r=de();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re()}}),new ho(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Mm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,_e(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class $2{constructor(e){this.Le=e,this.Be=new Map,this.ke=_n(),this.qe=Vm(),this.Qe=new Re(pe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Hc(s))if(r===0){const o=new ne(s.path);this.Ue(n,o,ut.newNoDocument(o,se.min()))}else _e(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,f)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=Kn(r).toUint8Array()}catch(c){if(c instanceof Av)return di("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new hf(o,i,s)}catch(c){return di(c instanceof ds?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&Hc(l.target)){const c=new ne(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,ut.newNoDocument(c,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=de();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const f=this.Je(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new xu(e,n,this.Qe,this.ke,r);return this.ke=_n(),this.qe=Vm(),this.Qe=new Re(pe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Nm,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new qe(pe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Nm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Vm(){return new Re(ne.comparator)}function Mm(){return new Re(ne.comparator)}const H2={asc:"ASCENDING",desc:"DESCENDING"},q2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W2={and:"AND",or:"OR"};class G2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wc(t,e){return t.useProto3Json||Ru(e)?e:{value:e}}function Wa(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qv(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function K2(t,e){return Wa(t,e.toTimestamp())}function en(t){return _e(!!t),se.fromTimestamp(function(n){const r=Gn(n);return new Ue(r.seconds,r.nanos)}(t))}function pf(t,e){return Gc(t,e).canonicalString()}function Gc(t,e){const n=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Yv(t){const e=Pe.fromString(t);return _e(ty(e)),e}function Kc(t,e){return pf(t.databaseId,e.path)}function Hl(t,e){const n=Yv(e);if(n.get(1)!==t.databaseId.projectId)throw new te($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(Jv(n))}function Xv(t,e){return pf(t.databaseId,e)}function Q2(t){const e=Yv(t);return e.length===4?Pe.emptyPath():Jv(e)}function Qc(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Jv(t){return _e(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Om(t,e,n){return{name:Kc(t,e),fields:n.value.mapValue.fields}}function Y2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:re()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(f,w){return f.useProto3Json?(_e(w===void 0||typeof w=="string"),et.fromBase64String(w||"")):(_e(w===void 0||w instanceof Buffer||w instanceof Uint8Array),et.fromUint8Array(w||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(f){const w=f.code===void 0?$.UNKNOWN:Wv(f.code);return new te(w,f.message||"")}(o);n=new Kv(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hl(t,r.document.name),s=en(r.document.updateTime),o=r.document.createTime?en(r.document.createTime):se.min(),l=new bt({mapValue:{fields:r.document.fields}}),c=ut.newFoundDocument(i,s,o,l),f=r.targetIds||[],w=r.removedTargetIds||[];n=new ha(f,w,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Hl(t,r.document),s=r.readTime?en(r.readTime):se.min(),o=ut.newNoDocument(i,s),l=r.removedTargetIds||[];n=new ha([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Hl(t,r.document),s=r.removedTargetIds||[];n=new ha([],s,i,null)}else{if(!("filter"in e))return re();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new j2(i,s),l=r.targetId;n=new Gv(l,o)}}return n}function X2(t,e){let n;if(e instanceof fo)n={update:Om(t,e.key,e.value)};else if(e instanceof df)n={delete:Kc(t,e.key)};else if(e instanceof Ar)n={update:Om(t,e.key,e.data),updateMask:oT(e.fieldMask)};else{if(!(e instanceof L2))return re();n={verify:Kc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Ha)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ys)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Xs)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof qa)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw re()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:K2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:re()}(t,e.precondition)),n}function J2(t,e){return t&&t.length>0?(_e(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?en(i.updateTime):en(s);return o.isEqual(se.min())&&(o=en(s)),new V2(o,i.transformResults||[])}(n,e))):[]}function Z2(t,e){return{documents:[Xv(t,e.path)]}}function eT(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Xv(t,i);const s=function(f){if(f.length!==0)return ey(nn.create(f,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(f){if(f.length!==0)return f.map(w=>function(I){return{field:zr(I.field),direction:rT(I.dir)}}(w))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Wc(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:n,parent:i}}function tT(t){let e=Q2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){_e(r===1);const w=n.from[0];w.allDescendants?i=w.collectionId:e=e.child(w.collectionId)}let s=[];n.where&&(s=function(A){const I=Zv(A);return I instanceof nn&&Rv(I)?I.getFilters():[I]}(n.where));let o=[];n.orderBy&&(o=function(A){return A.map(I=>function(M){return new $a(jr(M.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(I))}(n.orderBy));let l=null;n.limit&&(l=function(A){let I;return I=typeof A=="object"?A.value:A,Ru(I)?null:I}(n.limit));let c=null;n.startAt&&(c=function(A){const I=!!A.before,V=A.values||[];return new Ua(V,I)}(n.startAt));let f=null;return n.endAt&&(f=function(A){const I=!A.before,V=A.values||[];return new Ua(V,I)}(n.endAt)),y2(e,i,o,s,l,"F",c,f)}function nT(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Zv(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=jr(n.unaryFilter.field);return Fe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=jr(n.unaryFilter.field);return Fe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=jr(n.unaryFilter.field);return Fe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=jr(n.unaryFilter.field);return Fe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return re()}}(t):t.fieldFilter!==void 0?function(n){return Fe.create(jr(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nn.create(n.compositeFilter.filters.map(r=>Zv(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re()}}(n.compositeFilter.op))}(t):re()}function rT(t){return H2[t]}function iT(t){return q2[t]}function sT(t){return W2[t]}function zr(t){return{fieldPath:t.canonicalString()}}function jr(t){return Je.fromServerFormat(t.fieldPath)}function ey(t){return t instanceof Fe?function(n){if(n.op==="=="){if(Em(n.value))return{unaryFilter:{field:zr(n.field),op:"IS_NAN"}};if(wm(n.value))return{unaryFilter:{field:zr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Em(n.value))return{unaryFilter:{field:zr(n.field),op:"IS_NOT_NAN"}};if(wm(n.value))return{unaryFilter:{field:zr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zr(n.field),op:iT(n.op),value:n.value}}}(t):t instanceof nn?function(n){const r=n.getFilters().map(i=>ey(i));return r.length===1?r[0]:{compositeFilter:{op:sT(n.op),filters:r}}}(t):re()}function oT(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ty(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n,r,i,s=se.min(),o=se.min(),l=et.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Pn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Pn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e){this.ct=e}}function uT(t){const e=tT({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(){this.un=new cT}addToCollectionParentIndex(e,n){return this.un.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Wn.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Wn.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class cT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new qe(Pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qe(Pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new vt(e,vt.DEFAULT_COLLECTION_PERCENTILE,vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vt.DEFAULT_COLLECTION_PERCENTILE=10,vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vt.DEFAULT=new vt(41943040,vt.DEFAULT_COLLECTION_PERCENTILE,vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vt.DISABLED=new vt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new mi(0)}static kn(){return new mi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm([t,e],[n,r]){const i=pe(t,n);return i===0?pe(e,r):i}class dT{constructor(e){this.Un=e,this.buffer=new qe(xm),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();xm(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fT{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){J("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bi(n)?J("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Pi(n)}await this.Hn(3e5)})}}class hT{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(bu.oe);const r=new dT(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(J("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(Lm)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(J("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lm):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,l,c,f;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(J("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),i=this.params.maximumSequenceNumbersToCollect):i=A,o=Date.now(),this.nthSequenceNumber(e,i))).next(A=>(r=A,l=Date.now(),this.removeTargets(e,r,n))).next(A=>(s=A,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(f=Date.now(),Lr()<=he.DEBUG&&J("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-w}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${A} documents in `+(f-c)+`ms
Total Duration: ${f-w}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:A})))}}function pT(t,e){return new hT(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(){this.changes=new Cr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ps(r.mutation,i,Ht.empty(),Ue.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){const i=fr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=cs();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=fr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=_n();const o=Is(),l=function(){return Is()}();return n.forEach((c,f)=>{const w=r.get(f.key);i.has(f.key)&&(w===void 0||w.mutation instanceof Ar)?s=s.insert(f.key,f):w!==void 0?(o.set(f.key,w.mutation.getFieldMask()),Ps(w.mutation,f,w.mutation.getFieldMask(),Ue.now())):o.set(f.key,Ht.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((f,w)=>o.set(f,w)),n.forEach((f,w)=>{var A;return l.set(f,new gT(w,(A=o.get(f))!==null&&A!==void 0?A:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Is();let i=new Re((o,l)=>o-l),s=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const f=n.get(c);if(f===null)return;let w=r.get(c)||Ht.empty();w=l.applyToLocalView(f,w),r.set(c,w);const A=(i.get(l.batchId)||de()).add(c);i=i.insert(l.batchId,A)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,w=c.value,A=zv();w.forEach(I=>{if(!s.has(I)){const V=Hv(n.get(I),r.get(I));V!==null&&A.set(I,V),s=s.add(I)}}),o.push(this.documentOverlayCache.saveOverlays(e,f,A))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):w2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):B.resolve(fr());let l=-1,c=s;return o.next(f=>B.forEach(f,(w,A)=>(l<A.largestBatchId&&(l=A.largestBatchId),s.get(w)?B.resolve():this.remoteDocumentCache.getEntry(e,w).next(I=>{c=c.insert(w,I)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,c,f,de())).next(w=>({batchId:l,changes:xv(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=cs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=cs();return this.indexManager.getCollectionParents(e,s).next(l=>B.forEach(l,c=>{const f=function(A,I){return new Nu(I,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(w=>{w.forEach((A,I)=>{o=o.insert(A,I)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,f)=>{const w=f.getKey();o.get(w)===null&&(o=o.insert(w,ut.newInvalidDocument(w)))});let l=cs();return o.forEach((c,f)=>{const w=s.get(c);w!==void 0&&Ps(w.mutation,f,Ht.empty(),Ue.now()),Mu(n,f)&&(l=l.insert(c,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return B.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:en(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:uT(i.bundledQuery),readTime:en(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(){this.overlays=new Re(ne.comparator),this.Ir=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fr();return B.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=fr(),s=n.length+1,o=new ne(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Re((f,w)=>f-w);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let w=s.get(f.largestBatchId);w===null&&(w=fr(),s=s.insert(f.largestBatchId,w)),w.set(f.getKey(),f)}}const l=fr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,w)=>l.set(f,w)),!(l.size()>=i)););return B.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new z2(n,r));let s=this.Ir.get(n);s===void 0&&(s=de(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.sessionToken=et.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(){this.Tr=new qe(He.Er),this.dr=new qe(He.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new He(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new He(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ne(new Pe([])),r=new He(n,e),i=new He(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ne(new Pe([])),r=new He(n,e),i=new He(n,e+1);let s=de();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new He(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class He{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ne.comparator(e.key,n.key)||pe(e.wr,n.wr)}static Ar(e,n){return pe(e.wr,n.wr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new qe(He.Er)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new x2(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.br=this.br.add(new He(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new He(n,0),i=new He(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const l=this.Dr(o.wr);s.push(l)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qe(pe);return n.forEach(i=>{const s=new He(i,0),o=new He(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],l=>{r=r.add(l.wr)})}),B.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ne.isDocumentKey(s)||(s=s.child(""));const o=new He(new ne(s),0);let l=new qe(pe);return this.br.forEachWhile(c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.wr)),!0)},o),B.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){_e(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return B.forEach(n.mutations,i=>{const s=new He(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new He(n,0),i=this.br.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e){this.Mr=e,this.docs=function(){return new Re(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():ut.newInvalidDocument(n))}getEntries(e,n){let r=_n();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ut.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=_n();const o=n.path,l=new ne(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:w}}=c.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||J8(X8(w),r)<=0||(i.has(w.key)||Mu(n,w))&&(s=s.insert(w.key,w.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,n,r,i){re()}Or(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ST(this)}getSize(e){return B.resolve(this.size)}}class ST extends mT{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e){this.persistence=e,this.Nr=new Cr(n=>af(n),uf),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new mf,this.targetCount=0,this.kr=mi.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),B.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new mi(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Kn(n),B.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n){this.qr={},this.overlays={},this.Qr=new bu(0),this.Kr=!1,this.Kr=!0,this.$r=new wT,this.referenceDelegate=e(this),this.Ur=new kT(this),this.indexManager=new lT,this.remoteDocumentCache=function(i){return new TT(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new aT(n),this.Gr=new vT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new ET(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const i=new CT(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return B.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class CT extends e2{constructor(e){super(),this.currentSequenceNumber=e}}class gf{constructor(e){this.persistence=e,this.Jr=new mf,this.Yr=null}static Zr(e){return new gf(e)}get Xr(){if(this.Yr)return this.Yr;throw re()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Xr,r=>{const i=ne.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,se.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return B.or([()=>B.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class Ga{constructor(e,n){this.persistence=e,this.ti=new Cr(r=>r2(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=pT(this,n)}static Zr(e,n){return new Ga(e,n)}zr(){}jr(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return B.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(s=>s?B.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Or(e,o=>this.nr(e,o,n).next(l=>{l||(r++,s.removeEntry(o,se.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),B.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ca(e.data.value)),n}nr(e,n,r){return B.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=de(),i=de();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new _f(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return CE()?8:t2(SE())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new AT;return this.Xi(e,n,o).next(l=>{if(s.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Lr()<=he.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",xr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),B.resolve()):(Lr()<=he.DEBUG&&J("QueryEngine","Query:",xr(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Lr()<=he.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",xr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zt(n))):B.resolve())}Yi(e,n){if(Cm(n))return B.resolve(null);let r=Zt(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=qc(n,null,"F"),r=Zt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=de(...s);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const f=this.ts(n,l);return this.ns(n,f,o,c.readTime)?this.Yi(e,qc(n,null,"F")):this.rs(e,f,n,c)}))})))}Zi(e,n,r,i){return Cm(n)||i.isEqual(se.min())?B.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?B.resolve(null):(Lr()<=he.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xr(n)),this.rs(e,o,n,Y8(i,-1)).next(l=>l))})}ts(e,n){let r=new qe(Ov(e));return n.forEach((i,s)=>{Mu(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Lr()<=he.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",xr(n)),this.Ji.getDocumentsMatchingQuery(e,n,Wn.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Re(pe),this._s=new Cr(s=>af(s),uf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _T(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function bT(t,e,n,r){return new PT(t,e,n,r)}async function ry(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=de();for(const f of i){o.push(f.batchId);for(const w of f.mutations)c=c.add(w.key)}for(const f of s){l.push(f.batchId);for(const w of f.mutations)c=c.add(w.key)}return n.localDocuments.getDocuments(r,c).next(f=>({hs:f,removedBatchIds:o,addedBatchIds:l}))})})}function RT(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,f,w){const A=f.batch,I=A.keys();let V=B.resolve();return I.forEach(M=>{V=V.next(()=>w.getEntry(c,M)).next(D=>{const C=f.docVersions.get(M);_e(C!==null),D.version.compareTo(C)<0&&(A.applyToRemoteDocument(D,f),D.isValidDocument()&&(D.setReadTime(f.commitVersion),w.addEntry(D)))})}),V.next(()=>l.mutationQueue.removeMutationBatch(c,A))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=de();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function iy(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function DT(t,e){const n=ae(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((w,A)=>{const I=i.get(A);if(!I)return;l.push(n.Ur.removeMatchingKeys(s,w.removedDocuments,A).next(()=>n.Ur.addMatchingKeys(s,w.addedDocuments,A)));let V=I.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(A)!==null?V=V.withResumeToken(et.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):w.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(w.resumeToken,r)),i=i.insert(A,V),function(D,C,S){return D.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(I,V,w)&&l.push(n.Ur.updateTargetData(s,V))});let c=_n(),f=de();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,w))}),l.push(NT(s,o,e.documentUpdates).next(w=>{c=w.Ps,f=w.Is})),!r.isEqual(se.min())){const w=n.Ur.getLastRemoteSnapshotVersion(s).next(A=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(w)}return B.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,f)).next(()=>c)}).then(s=>(n.os=i,s))}function NT(t,e,n){let r=de(),i=de();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=_n();return n.forEach((l,c)=>{const f=s.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(se.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):J("LocalStore","Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)}),{Ps:o,Is:i}})}function VT(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function MT(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Pn(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Yc(t,e,n){const r=ae(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!bi(o))throw o;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function zm(t,e,n){const r=ae(t);let i=se.min(),s=de();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,f,w){const A=ae(c),I=A._s.get(w);return I!==void 0?B.resolve(A.os.get(I)):A.Ur.getTargetData(f,w)}(r,o,Zt(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:se.min(),n?s:de())).next(l=>(OT(r,T2(e),l),{documents:l,Ts:s})))}function OT(t,e,n){let r=t.us.get(e)||se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class jm{constructor(){this.activeTargetIds=P2()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LT{constructor(){this.so=new jm,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new jm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xo=null;function ql(){return Xo===null?Xo=function(){return 268435456+Math.round(2147483648*Math.random())}():Xo++,"0x"+Xo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st="WebChannelConnection";class FT extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const l=ql(),c=this.xo(n,r.toUriEncodedString());J("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,s,o),this.No(n,c,f,i).then(w=>(J("RestConnection",`Received RPC '${n}' ${l}: `,w),w),w=>{throw di("RestConnection",`RPC '${n}' ${l} failed with error: `,w,"url: ",c,"request:",i),w})}Lo(n,r,i,s,o,l){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ii}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=zT[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=ql();return new Promise((o,l)=>{const c=new vv;c.setWithCredentials(!0),c.listenOnce(yv.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case la.NO_ERROR:const w=c.getResponseJson();J(st,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(w)),o(w);break;case la.TIMEOUT:J(st,`RPC '${e}' ${s} timed out`),l(new te($.DEADLINE_EXCEEDED,"Request time out"));break;case la.HTTP_ERROR:const A=c.getStatus();if(J(st,`RPC '${e}' ${s} failed with status:`,A,"response text:",c.getResponseText()),A>0){let I=c.getResponseJson();Array.isArray(I)&&(I=I[0]);const V=I==null?void 0:I.error;if(V&&V.status&&V.message){const M=function(C){const S=C.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(S)>=0?S:$.UNKNOWN}(V.status);l(new te(M,V.message))}else l(new te($.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new te($.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{J(st,`RPC '${e}' ${s} completed.`)}});const f=JSON.stringify(i);J(st,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",f,r,15)})}Bo(e,n,r){const i=ql(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Tv(),l=Ev(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const w=s.join("");J(st,`Creating RPC '${e}' stream ${i}: ${w}`,c);const A=o.createWebChannel(w,c);let I=!1,V=!1;const M=new jT({Io:C=>{V?J(st,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(I||(J(st,`Opening RPC '${e}' stream ${i} transport.`),A.open(),I=!0),J(st,`RPC '${e}' stream ${i} sending:`,C),A.send(C))},To:()=>A.close()}),D=(C,S,P)=>{C.listen(S,N=>{try{P(N)}catch(u){setTimeout(()=>{throw u},0)}})};return D(A,ls.EventType.OPEN,()=>{V||(J(st,`RPC '${e}' stream ${i} transport opened.`),M.yo())}),D(A,ls.EventType.CLOSE,()=>{V||(V=!0,J(st,`RPC '${e}' stream ${i} transport closed`),M.So())}),D(A,ls.EventType.ERROR,C=>{V||(V=!0,di(st,`RPC '${e}' stream ${i} transport errored:`,C),M.So(new te($.UNAVAILABLE,"The operation could not be completed")))}),D(A,ls.EventType.MESSAGE,C=>{var S;if(!V){const P=C.data[0];_e(!!P);const N=P,u=N.error||((S=N[0])===null||S===void 0?void 0:S.error);if(u){J(st,`RPC '${e}' stream ${i} received error:`,u);const p=u.status;let h=function(v){const y=xe[v];if(y!==void 0)return Wv(y)}(p),m=u.message;h===void 0&&(h=$.INTERNAL,m="Unknown error status: "+p+" with message "+u.message),V=!0,M.So(new te(h,m)),A.close()}else J(st,`RPC '${e}' stream ${i} received:`,P),M.bo(P)}}),D(l,wv.STAT_EVENT,C=>{C.stat===Fc.PROXY?J(st,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Fc.NOPROXY&&J(st,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{M.wo()},0),M}}function Wl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(t){return new G2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&J("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n,r,i,s,o,l,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new sy(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(gn(n.toString()),gn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new te($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BT extends oy{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Y2(this.serializer,e),r=function(s){if(!("targetChange"in s))return se.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?en(o.readTime):se.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Qc(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=Hc(c)?{documents:Z2(s,c)}:{query:eT(s,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=Qv(s,o.resumeToken);const f=Wc(s,o.expectedCount);f!==null&&(l.expectedCount=f)}else if(o.snapshotVersion.compareTo(se.min())>0){l.readTime=Wa(s,o.snapshotVersion.toTimestamp());const f=Wc(s,o.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,e);const r=nT(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Qc(this.serializer),n.removeTarget=e,this.a_(n)}}class UT extends oy{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return _e(!!e.streamToken),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){_e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=J2(e.writeResults,e.commitTime),r=en(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Qc(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>X2(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new te($.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Gc(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te($.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,Gc(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te($.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class HT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(gn(n),this.D_=!1):J("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ir(this)&&(J("RemoteStore","Restarting streams for network reachability change."),await async function(c){const f=ae(c);f.L_.add(4),await po(f),f.q_.set("Unknown"),f.L_.delete(4),await ju(f)}(this))})}),this.q_=new HT(r,i)}}async function ju(t){if(Ir(t))for(const e of t.B_)await e(!0)}async function po(t){for(const e of t.B_)await e(!1)}function ay(t,e){const n=ae(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Ef(n)?wf(n):Ri(n).r_()&&yf(n,e))}function vf(t,e){const n=ae(t),r=Ri(n);n.N_.delete(e),r.r_()&&uy(n,e),n.N_.size===0&&(r.r_()?r.o_():Ir(n)&&n.q_.set("Unknown"))}function yf(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ri(t).A_(e)}function uy(t,e){t.Q_.xe(e),Ri(t).R_(e)}function wf(t){t.Q_=new $2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ri(t).start(),t.q_.v_()}function Ef(t){return Ir(t)&&!Ri(t).n_()&&t.N_.size>0}function Ir(t){return ae(t).L_.size===0}function ly(t){t.Q_=void 0}async function WT(t){t.q_.set("Online")}async function GT(t){t.N_.forEach((e,n)=>{yf(t,e)})}async function KT(t,e){ly(t),Ef(t)?(t.q_.M_(e),wf(t)):t.q_.set("Unknown")}async function QT(t,e,n){if(t.q_.set("Online"),e instanceof Kv&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ka(t,r)}else if(e instanceof ha?t.Q_.Ke(e):e instanceof Gv?t.Q_.He(e):t.Q_.We(e),!n.isEqual(se.min()))try{const r=await iy(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.Q_.rt(o);return l.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const w=s.N_.get(f);w&&s.N_.set(f,w.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,f)=>{const w=s.N_.get(c);if(!w)return;s.N_.set(c,w.withResumeToken(et.EMPTY_BYTE_STRING,w.snapshotVersion)),uy(s,c);const A=new Pn(w.target,c,f,w.sequenceNumber);yf(s,A)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){J("RemoteStore","Failed to raise snapshot:",r),await Ka(t,r)}}async function Ka(t,e,n){if(!bi(e))throw e;t.L_.add(1),await po(t),t.q_.set("Offline"),n||(n=()=>iy(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await ju(t)})}function cy(t,e){return e().catch(n=>Ka(t,n,e))}async function Fu(t){const e=ae(t),n=Yn(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;YT(e);)try{const i=await VT(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,XT(e,i)}catch(i){await Ka(e,i)}dy(e)&&fy(e)}function YT(t){return Ir(t)&&t.O_.length<10}function XT(t,e){t.O_.push(e);const n=Yn(t);n.r_()&&n.V_&&n.m_(e.mutations)}function dy(t){return Ir(t)&&!Yn(t).n_()&&t.O_.length>0}function fy(t){Yn(t).start()}async function JT(t){Yn(t).p_()}async function ZT(t){const e=Yn(t);for(const n of t.O_)e.m_(n.mutations)}async function eS(t,e,n){const r=t.O_.shift(),i=ff.from(r,e,n);await cy(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Fu(t)}async function tS(t,e){e&&Yn(t).V_&&await async function(r,i){if(function(o){return F2(o)&&o!==$.ABORTED}(i.code)){const s=r.O_.shift();Yn(r).s_(),await cy(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Fu(r)}}(t,e),dy(t)&&fy(t)}async function Bm(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const r=Ir(n);n.L_.add(3),await po(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await ju(n)}async function nS(t,e){const n=ae(t);e?(n.L_.delete(2),await ju(n)):e||(n.L_.add(2),await po(n),n.q_.set("Unknown"))}function Ri(t){return t.K_||(t.K_=function(n,r,i){const s=ae(n);return s.w_(),new BT(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:WT.bind(null,t),Ro:GT.bind(null,t),mo:KT.bind(null,t),d_:QT.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Ef(t)?wf(t):t.q_.set("Unknown")):(await t.K_.stop(),ly(t))})),t.K_}function Yn(t){return t.U_||(t.U_=function(n,r,i){const s=ae(n);return s.w_(),new UT(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:JT.bind(null,t),mo:tS.bind(null,t),f_:ZT.bind(null,t),g_:eS.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Fu(t)):(await t.U_.stop(),t.O_.length>0&&(J("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Tf(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sf(t,e){if(gn("AsyncQueue",`${e}: ${t}`),bi(t))return new te($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=cs(),this.sortedSet=new Re(this.comparator)}static emptySet(e){return new si(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof si)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new si;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(){this.W_=new Re(ne.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):re():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class gi{constructor(e,n,r,i,s,o,l,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new gi(e,n,si.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class iS{constructor(){this.queries=$m(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ae(n),s=i.queries;i.queries=$m(),s.forEach((o,l)=>{for(const c of l.j_)c.onError(r)})})(this,new te($.ABORTED,"Firestore shutting down"))}}function $m(){return new Cr(t=>Mv(t),Vu)}async function sS(t,e){const n=ae(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new rS,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=Sf(o,`Initialization of query '${xr(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&kf(n)}async function oS(t,e){const n=ae(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function aS(t,e){const n=ae(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.j_)l.X_(i)&&(r=!0);o.z_=i}}r&&kf(n)}function uS(t,e,n){const r=ae(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function kf(t){t.Y_.forEach(e=>{e.next()})}var Xc,Hm;(Hm=Xc||(Xc={})).ea="default",Hm.Cache="cache";class lS{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new gi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=gi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Xc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e){this.key=e}}class py{constructor(e){this.key=e}}class cS{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=de(),this.mutatedKeys=de(),this.Aa=Ov(e),this.Ra=new si(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Um,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((w,A)=>{const I=i.get(w),V=Mu(this.query,A)?A:null,M=!!I&&this.mutatedKeys.has(I.key),D=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let C=!1;I&&V?I.data.isEqual(V.data)?M!==D&&(r.track({type:3,doc:V}),C=!0):this.ga(I,V)||(r.track({type:2,doc:V}),C=!0,(c&&this.Aa(V,c)>0||f&&this.Aa(V,f)<0)&&(l=!0)):!I&&V?(r.track({type:0,doc:V}),C=!0):I&&!V&&(r.track({type:1,doc:I}),C=!0,(c||f)&&(l=!0)),C&&(V?(o=o.add(V),s=D?s.add(w):s.delete(w)):(o=o.delete(w),s=s.delete(w)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const w=this.query.limitType==="F"?o.last():o.first();o=o.delete(w.key),s=s.delete(w.key),r.track({type:1,doc:w})}return{Ra:o,fa:r,ns:l,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((w,A)=>function(V,M){const D=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re()}};return D(V)-D(M)}(w.type,A.type)||this.Aa(w.doc,A.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,f=c!==this.Ea;return this.Ea=c,o.length!==0||f?{snapshot:new gi(this.query,e.Ra,s,o,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Um,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=de(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new py(r))}),this.da.forEach(r=>{e.has(r)||n.push(new hy(r))}),n}ba(e){this.Ta=e.Ts,this.da=de();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return gi.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class dS{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fS{constructor(e){this.key=e,this.va=!1}}class hS{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Cr(l=>Mv(l),Vu),this.Ma=new Map,this.xa=new Set,this.Oa=new Re(ne.comparator),this.Na=new Map,this.La=new mf,this.Ba={},this.ka=new Map,this.qa=mi.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function pS(t,e,n=!0){const r=wy(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await my(r,e,n,!0),i}async function mS(t,e){const n=wy(t);await my(n,e,!0,!1)}async function my(t,e,n,r){const i=await MT(t.localStore,Zt(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await gS(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&ay(t.remoteStore,i),l}async function gS(t,e,n,r,i){t.Ka=(A,I,V)=>async function(D,C,S,P){let N=C.view.ma(S);N.ns&&(N=await zm(D.localStore,C.query,!1).then(({documents:m})=>C.view.ma(m,N)));const u=P&&P.targetChanges.get(C.targetId),p=P&&P.targetMismatches.get(C.targetId)!=null,h=C.view.applyChanges(N,D.isPrimaryClient,u,p);return Wm(D,C.targetId,h.wa),h.snapshot}(t,A,I,V);const s=await zm(t.localStore,e,!0),o=new cS(e,s.Ts),l=o.ma(s.documents),c=ho.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=o.applyChanges(l,t.isPrimaryClient,c);Wm(t,n,f.wa);const w=new dS(e,n,o);return t.Fa.set(e,w),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),f.snapshot}async function _S(t,e,n){const r=ae(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Vu(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Yc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&vf(r.remoteStore,i.targetId),Jc(r,i.targetId)}).catch(Pi)):(Jc(r,i.targetId),await Yc(r.localStore,i.targetId,!0))}async function vS(t,e){const n=ae(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vf(n.remoteStore,r.targetId))}async function yS(t,e,n){const r=AS(t);try{const i=await function(o,l){const c=ae(o),f=Ue.now(),w=l.reduce((V,M)=>V.add(M.key),de());let A,I;return c.persistence.runTransaction("Locally write mutations","readwrite",V=>{let M=_n(),D=de();return c.cs.getEntries(V,w).next(C=>{M=C,M.forEach((S,P)=>{P.isValidDocument()||(D=D.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(V,M)).next(C=>{A=C;const S=[];for(const P of l){const N=O2(P,A.get(P.key).overlayedDocument);N!=null&&S.push(new Ar(P.key,N,Iv(N.value.mapValue),qt.exists(!0)))}return c.mutationQueue.addMutationBatch(V,f,S,l)}).next(C=>{I=C;const S=C.applyToLocalDocumentSet(A,D);return c.documentOverlayCache.saveOverlays(V,C.batchId,S)})}).then(()=>({batchId:I.batchId,changes:xv(A)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let f=o.Ba[o.currentUser.toKey()];f||(f=new Re(pe)),f=f.insert(l,c),o.Ba[o.currentUser.toKey()]=f}(r,i.batchId,n),await mo(r,i.changes),await Fu(r.remoteStore)}catch(i){const s=Sf(i,"Failed to persist write");n.reject(s)}}async function gy(t,e){const n=ae(t);try{const r=await DT(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(_e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?_e(o.va):i.removedDocuments.size>0&&(_e(o.va),o.va=!1))}),await mo(n,r,e)}catch(r){await Pi(r)}}function qm(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const l=o.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=ae(o);c.onlineState=l;let f=!1;c.queries.forEach((w,A)=>{for(const I of A.j_)I.Z_(l)&&(f=!0)}),f&&kf(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function wS(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Re(ne.comparator);o=o.insert(s,ut.newNoDocument(s,se.min()));const l=de().add(s),c=new xu(se.min(),new Map,new Re(pe),o,l);await gy(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),Cf(r)}else await Yc(r.localStore,e,!1).then(()=>Jc(r,e,n)).catch(Pi)}async function ES(t,e){const n=ae(t),r=e.batch.batchId;try{const i=await RT(n.localStore,e);vy(n,r,null),_y(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mo(n,i)}catch(i){await Pi(i)}}async function TS(t,e,n){const r=ae(t);try{const i=await function(o,l){const c=ae(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let w;return c.mutationQueue.lookupMutationBatch(f,l).next(A=>(_e(A!==null),w=A.keys(),c.mutationQueue.removeMutationBatch(f,A))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,w,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,w)).next(()=>c.localDocuments.getDocuments(f,w))})}(r.localStore,e);vy(r,e,n),_y(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await mo(r,i)}catch(i){await Pi(i)}}function _y(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function vy(t,e,n){const r=ae(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Jc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||yy(t,r)})}function yy(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(vf(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Cf(t))}function Wm(t,e,n){for(const r of n)r instanceof hy?(t.La.addReference(r.key,e),SS(t,r)):r instanceof py?(J("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||yy(t,r.key)):re()}function SS(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(J("SyncEngine","New document in limbo: "+n),t.xa.add(r),Cf(t))}function Cf(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ne(Pe.fromString(e)),r=t.qa.next();t.Na.set(r,new fS(n)),t.Oa=t.Oa.insert(n,r),ay(t.remoteStore,new Pn(Zt(lf(n.path)),r,"TargetPurposeLimboResolution",bu.oe))}}async function mo(t,e,n){const r=ae(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{o.push(r.Ka(c,e,n).then(f=>{var w;if((f||n)&&r.isPrimaryClient){const A=f?!f.fromCache:(w=n==null?void 0:n.targetChanges.get(c.targetId))===null||w===void 0?void 0:w.current;r.sharedClientState.updateQueryState(c.targetId,A?"current":"not-current")}if(f){i.push(f);const A=_f.Wi(c.targetId,f);s.push(A)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(c,f){const w=ae(c);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>B.forEach(f,I=>B.forEach(I.$i,V=>w.persistence.referenceDelegate.addReference(A,I.targetId,V)).next(()=>B.forEach(I.Ui,V=>w.persistence.referenceDelegate.removeReference(A,I.targetId,V)))))}catch(A){if(!bi(A))throw A;J("LocalStore","Failed to update sequence numbers: "+A)}for(const A of f){const I=A.targetId;if(!A.fromCache){const V=w.os.get(I),M=V.snapshotVersion,D=V.withLastLimboFreeSnapshotVersion(M);w.os=w.os.insert(I,D)}}}(r.localStore,s))}async function kS(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());const r=await ry(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(l=>{l.forEach(c=>{c.reject(new te($.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mo(n,r.hs)}}function CS(t,e){const n=ae(t),r=n.Na.get(e);if(r&&r.va)return de().add(r.key);{let i=de();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const l=n.Fa.get(o);i=i.unionWith(l.view.Va)}return i}}function wy(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wS.bind(null,e),e.Ca.d_=aS.bind(null,e.eventManager),e.Ca.$a=uS.bind(null,e.eventManager),e}function AS(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ES.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TS.bind(null,e),e}class Qa{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zu(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return bT(this.persistence,new IT,e.initialUser,this.serializer)}Ga(e){return new ny(gf.Zr,this.serializer)}Wa(e){return new LT}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qa.provider={build:()=>new Qa};class IS extends Qa{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){_e(this.persistence.referenceDelegate instanceof Ga);const r=this.persistence.referenceDelegate.garbageCollector;return new fT(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?vt.withCacheSize(this.cacheSizeBytes):vt.DEFAULT;return new ny(r=>Ga.Zr(r,n),this.serializer)}}class Zc{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kS.bind(null,this.syncEngine),await nS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iS}()}createDatastore(e){const n=zu(e.databaseInfo.databaseId),r=function(s){return new FT(s)}(e.databaseInfo);return function(s,o,l,c){return new $T(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new qT(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>qm(this.syncEngine,n,0),function(){return Fm.D()?new Fm:new xT}())}createSyncEngine(e,n){return function(i,s,o,l,c,f,w){const A=new hS(i,s,o,l,c,f);return w&&(A.Qa=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ae(i);J("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await po(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Zc.provider={build:()=>new Zc};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):gn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=at.UNAUTHENTICATED,this.clientId=kv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{J("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(J("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Sf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Gl(t,e){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ry(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Gm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await RS(t);J("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Bm(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Bm(e.remoteStore,i)),t._onlineComponents=e}async function RS(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gl(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;di("Error using user provided cache. Falling back to memory cache: "+n),await Gl(t,new Qa)}}else J("FirestoreClient","Using default OfflineComponentProvider"),await Gl(t,new IS(void 0));return t._offlineComponents}async function Ey(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),await Gm(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),await Gm(t,new Zc))),t._onlineComponents}function DS(t){return Ey(t).then(e=>e.syncEngine)}async function Km(t){const e=await Ey(t),n=e.eventManager;return n.onListen=pS.bind(null,e.syncEngine),n.onUnlisten=_S.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=mS.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vS.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t,e,n){if(!n)throw new te($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function NS(t,e,n,r){if(e===!0&&r===!0)throw new te($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ym(t){if(!ne.isDocumentKey(t))throw new te($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Xm(t){if(ne.isDocumentKey(t))throw new te($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Af(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re()}function jn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Af(t);throw new te($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ty((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jm(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new B8;switch(r.type){case"firstParty":return new q8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Qm.get(n);r&&(J("ComponentProvider","Removing Datastore"),Qm.delete(n),r.terminate())}(this),Promise.resolve()}}function VS(t,e,n,r={}){var i;const s=(t=jn(t,Bu))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&di("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=at.MOCK_USER;else{l=TE(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new te($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new at(f)}t._authCredentials=new U8(new Sv(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Uu(this.firestore,e,this._query)}}class kt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}}class Fn extends Uu{constructor(e,n,r){super(e,n,lf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new ne(e))}withConverter(e){return new Fn(this.firestore,e,this._path)}}function MS(t,e,...n){if(t=ci(t),Sy("collection","path",e),t instanceof Bu){const r=Pe.fromString(e,...n);return Xm(r),new Fn(t,null,r)}{if(!(t instanceof kt||t instanceof Fn))throw new te($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return Xm(r),new Fn(t.firestore,null,r)}}function ed(t,e,...n){if(t=ci(t),arguments.length===1&&(e=kv.newId()),Sy("doc","path",e),t instanceof Bu){const r=Pe.fromString(e,...n);return Ym(r),new kt(t,null,new ne(r))}{if(!(t instanceof kt||t instanceof Fn))throw new te($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return Ym(r),new kt(t.firestore,t instanceof Fn?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new sy(this,"async_queue_retry"),this.Vu=()=>{const r=Wl();r&&J("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Wl();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Wl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new mr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!bi(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw gn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Tf.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&re()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function eg(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class _i extends Bu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Zm,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Zm(e),this._firestoreClient=void 0,await e}}}function OS(t,e){const n=typeof t=="object"?t:D8(),r=typeof t=="string"?t:"(default)",i=I8(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=wE("firestore");s&&VS(i,...s)}return i}function ky(t){if(t._terminated)throw new te($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||LS(t),t._firestoreClient}function LS(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,f,w){return new o2(l,c,f,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Ty(w.experimentalLongPollingOptions),w.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new bS(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vi(et.fromBase64String(e))}catch(n){throw new te($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vi(et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=/^__.*__$/;class zS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ar(e,this.data,this.fieldMask,n,this.fieldTransforms):new fo(e,this.data,n,this.fieldTransforms)}}function Ay(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}class Rf{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Rf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ya(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Ay(this.Cu)&&xS.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class jS{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zu(e)}Qu(e,n,r,i=!1){return new Rf({Cu:e,methodName:n,qu:r,path:Je.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Iy(t){const e=t._freezeSettings(),n=zu(t._databaseId);return new jS(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Py(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Ny("Data must be an object, but it was:",o,r);const l=Ry(r,o);let c,f;if(s.merge)c=new Ht(o.fieldMask),f=o.fieldTransforms;else if(s.mergeFields){const w=[];for(const A of s.mergeFields){const I=FS(e,A,n);if(!o.contains(I))throw new te($.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);US(w,I)||w.push(I)}c=new Ht(w),f=o.fieldTransforms.filter(A=>c.covers(A.field))}else c=null,f=o.fieldTransforms;return new zS(new bt(l),c,f)}function by(t,e){if(Dy(t=ci(t)))return Ny("Unsupported field value:",e,t),Ry(t,e);if(t instanceof Cy)return function(r,i){if(!Ay(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=by(l,i.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ci(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return b2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ue.fromDate(r);return{timestampValue:Wa(i.serializer,s)}}if(r instanceof Ue){const s=new Ue(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wa(i.serializer,s)}}if(r instanceof Pf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vi)return{bytesValue:Qv(i.serializer,r._byteString)};if(r instanceof kt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:pf(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof bf)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return cf(l.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Af(r)}`)}(t,e)}function Ry(t,e){const n={};return Cv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):kr(t,(r,i)=>{const s=by(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Dy(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ue||t instanceof Pf||t instanceof vi||t instanceof kt||t instanceof Cy||t instanceof bf)}function Ny(t,e,n){if(!Dy(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Af(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function FS(t,e,n){if((e=ci(e))instanceof If)return e._internalPath;if(typeof e=="string")return Vy(t,e);throw Ya("Field path arguments must be of type string or ",t,!1,void 0,n)}const BS=new RegExp("[~\\*/\\[\\]]");function Vy(t,e,n){if(e.search(BS)>=0)throw Ya(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new If(...e.split("."))._internalPath}catch{throw Ya(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ya(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new te($.INVALID_ARGUMENT,l+t+c)}function US(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $S(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Oy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $S extends My{data(){return super.data()}}function Oy(t,e){return typeof e=="string"?Vy(t,e):e instanceof If?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qS{convertValue(e,n="none"){switch(Qn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Kn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return kr(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Oe(o.doubleValue));return new bf(s)}convertGeoPoint(e){return new Pf(Oe(e.latitude),Oe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Du(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gs(e));default:return null}}convertTimestamp(e){const n=Gn(e);return new Ue(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pe.fromString(e);_e(ty(r));const i=new Ks(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||gn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xy extends My{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Oy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class pa extends xy{data(e={}){return super.data(e)}}class WS{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new pa(this._firestore,this._userDataWriter,r.key,r,new fs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new pa(i._firestore,i._userDataWriter,l.doc.key,l.doc,new fs(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new pa(i._firestore,i._userDataWriter,l.doc.key,l.doc,new fs(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,w=-1;return l.type!==0&&(f=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),w=o.indexOf(l.doc.key)),{type:GS(l.type),doc:c,oldIndex:f,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function GS(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re()}}class zy extends qS{constructor(e){super(),this.firestore=e}convertBytes(e){return new vi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,n)}}function KS(t,e,n){t=jn(t,kt);const r=jn(t.firestore,_i),i=Ly(t.converter,e,n);return Df(r,[Py(Iy(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,qt.none())])}function QS(t){return Df(jn(t.firestore,_i),[new df(t._key,qt.none())])}function YS(t,e){const n=jn(t.firestore,_i),r=ed(t),i=Ly(t.converter,e);return Df(n,[Py(Iy(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,qt.exists(!1))]).then(()=>r)}function XS(t,...e){var n,r,i;t=ci(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||eg(e[o])||(s=e[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(eg(e[o])){const A=e[o];e[o]=(n=A.next)===null||n===void 0?void 0:n.bind(A),e[o+1]=(r=A.error)===null||r===void 0?void 0:r.bind(A),e[o+2]=(i=A.complete)===null||i===void 0?void 0:i.bind(A)}let c,f,w;if(t instanceof kt)f=jn(t.firestore,_i),w=lf(t._key.path),c={next:A=>{e[o]&&e[o](JS(f,t,A))},error:e[o+1],complete:e[o+2]};else{const A=jn(t,Uu);f=jn(A.firestore,_i),w=A._query;const I=new zy(f);c={next:V=>{e[o]&&e[o](new WS(f,I,A,V))},error:e[o+1],complete:e[o+2]},HS(t._query)}return function(I,V,M,D){const C=new PS(D),S=new lS(V,C,M);return I.asyncQueue.enqueueAndForget(async()=>sS(await Km(I),S)),()=>{C.Za(),I.asyncQueue.enqueueAndForget(async()=>oS(await Km(I),S))}}(ky(f),w,l,c)}function Df(t,e){return function(r,i){const s=new mr;return r.asyncQueue.enqueueAndForget(async()=>yS(await DS(r),i,s)),s.promise}(ky(t),e)}function JS(t,e,n){const r=n.docs.get(e._key),i=new zy(t);return new xy(t,i,e._key,r,new fs(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ii=i})(R8),Fa(new Hs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new _i(new $8(r.getProvider("auth-internal")),new G8(r.getProvider("app-check-internal")),function(f,w){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new te($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ks(f.options.projectId,w)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),ii(pm,"4.7.4",e),ii(pm,"4.7.4","esm2017")})();var ZS="firebase",ek="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ii(ZS,ek,"app");const tk={apiKey:"AIzaSyBJFWN7zIds02OAU5yaYF-QvPc9PUkBjoQ",authDomain:"react-notes-3e989.firebaseapp.com",projectId:"react-notes-3e989",storageBucket:"react-notes-3e989.firebasestorage.app",messagingSenderId:"1023251040644",appId:"1:1023251040644:web:f9bf3db43b6a16bdeeb5d1"},nk=pv(tk),td=OS(nk),tg=MS(td,"notes");function rk(){const[t,e]=Wt.useState([]),[n,r]=Wt.useState(""),[i,s]=Wt.useState(""),o=t.find(A=>A.id===n)||t[0],l=t.sort((A,I)=>I.updatedAt-A.updatedAt);Wt.useEffect(()=>XS(tg,function(I){const V=I.docs.map(M=>({...M.data(),id:M.id}));e(V)}),[]),Wt.useEffect(()=>{var A;n||r((A=t[0])==null?void 0:A.id)},[t]),Wt.useEffect(()=>{o&&s(o.body)},[o]),Wt.useEffect(()=>{const A=setTimeout(()=>{i!==o.body&&f(i)},500);return()=>clearTimeout(A)},[i]);async function c(){const A={body:"# Type your markdown note's title here",createdAt:Date.now(),updatedAt:Date.now()},I=await YS(tg,A);r(I.id)}async function f(A){const I=ed(td,"notes",n);await KS(I,{body:A,updatedAt:Date.now()},{merge:!0})}async function w(A){const I=ed(td,"notes",A);await QS(I)}return je.jsx("main",{children:t.length>0?je.jsxs(ef,{sizes:[30,70],direction:"horizontal",className:"split",children:[je.jsx(kw,{notes:l,currentNote:o,setCurrentNoteId:r,newNote:c,deleteNote:w}),je.jsx(tE,{tempNoteText:i,setTempNoteText:s})]}):je.jsxs("div",{className:"no-notes",children:[je.jsx("h1",{children:"You have no notes"}),je.jsx("button",{className:"first-note",onClick:c,children:"Create one now"})]})})}Sw.render(je.jsx(rk,{}),document.getElementById("root"));
